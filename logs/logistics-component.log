2018-11-29 14:50:42,485 DEBUG junit4.SpringJUnit4ClassRunner - SpringJUnit4ClassRunner constructor called with [class com.lyz.sharding.test.ShardingJdbcMybatisTest].
2018-11-29 14:50:42,501 DEBUG context.BootstrapUtils - Instantiating TestContextBootstrapper from class [org.springframework.test.context.support.DefaultTestContextBootstrapper]
2018-11-29 14:50:42,529 DEBUG support.AbstractDelegatingSmartContextLoader - Delegating to GenericXmlContextLoader to process context configuration [ContextConfigurationAttributes@3b6eb2ec declaringClass = 'com.lyz.sharding.test.ShardingJdbcMybatisTest', classes = '{}', locations = '{classpath*:config/spring/spring-database.xml, classpath*:config/spring/spring-sharding.xml}', inheritLocations = true, initializers = '{}', inheritInitializers = true, name = [null], contextLoaderClass = 'org.springframework.test.context.ContextLoader'].
2018-11-29 14:50:42,532 DEBUG support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [com.lyz.sharding.test.ShardingJdbcMybatisTest]
2018-11-29 14:50:42,536 DEBUG support.DefaultTestContextBootstrapper - @TestExecutionListeners is not present for class [com.lyz.sharding.test.ShardingJdbcMybatisTest]: using defaults.
2018-11-29 14:50:42,541 INFO  support.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2018-11-29 14:50:42,546 INFO  support.DefaultTestContextBootstrapper - Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [javax/servlet/ServletContext]
2018-11-29 14:50:42,554 INFO  support.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@36f6e879, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5a61f5df, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3551a94, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@531be3c5]
2018-11-29 14:50:42,556 DEBUG annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.lyz.sharding.test.ShardingJdbcMybatisTest]
2018-11-29 14:50:42,557 DEBUG annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.lyz.sharding.test.ShardingJdbcMybatisTest]
2018-11-29 14:50:42,561 DEBUG annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.lyz.sharding.test.ShardingJdbcMybatisTest]
2018-11-29 14:50:42,562 DEBUG annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.lyz.sharding.test.ShardingJdbcMybatisTest]
2018-11-29 14:50:42,563 DEBUG annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.lyz.sharding.test.ShardingJdbcMybatisTest]
2018-11-29 14:50:42,563 DEBUG annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.lyz.sharding.test.ShardingJdbcMybatisTest]
2018-11-29 14:50:42,564 DEBUG annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.lyz.sharding.test.ShardingJdbcMybatisTest]
2018-11-29 14:50:42,568 DEBUG annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.lyz.sharding.test.ShardingJdbcMybatisTest]
2018-11-29 14:50:42,570 DEBUG annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.lyz.sharding.test.ShardingJdbcMybatisTest]
2018-11-29 14:50:42,570 DEBUG annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.lyz.sharding.test.ShardingJdbcMybatisTest]
2018-11-29 14:50:42,572 DEBUG support.DependencyInjectionTestExecutionListener - Performing dependency injection for test context [[DefaultTestContext@3c756e4d testClass = ShardingJdbcMybatisTest, testInstance = com.lyz.sharding.test.ShardingJdbcMybatisTest@7c0e2abd, testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@48eff760 testClass = ShardingJdbcMybatisTest, locations = '{classpath*:config/spring/spring-database.xml, classpath*:config/spring/spring-sharding.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]].
2018-11-29 14:50:42,572 DEBUG support.AbstractDelegatingSmartContextLoader - Delegating to GenericXmlContextLoader to load context from [MergedContextConfiguration@48eff760 testClass = ShardingJdbcMybatisTest, locations = '{classpath*:config/spring/spring-database.xml, classpath*:config/spring/spring-sharding.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]].
2018-11-29 14:50:42,572 DEBUG support.AbstractGenericContextLoader - Loading ApplicationContext for merged context configuration [[MergedContextConfiguration@48eff760 testClass = ShardingJdbcMybatisTest, locations = '{classpath*:config/spring/spring-database.xml, classpath*:config/spring/spring-sharding.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2018-11-29 14:50:42,649 DEBUG env.StandardEnvironment - Adding [systemProperties] PropertySource with lowest search precedence
2018-11-29 14:50:42,650 DEBUG env.StandardEnvironment - Adding [systemEnvironment] PropertySource with lowest search precedence
2018-11-29 14:50:42,650 DEBUG env.StandardEnvironment - Initialized StandardEnvironment with PropertySources [systemProperties,systemEnvironment]
2018-11-29 14:50:42,657 INFO  xml.XmlBeanDefinitionReader - Loading XML bean definitions from URL [file:/D:/sharding-jdbc-mybatis/target/classes/config/spring/spring-database.xml]
2018-11-29 14:50:42,661 DEBUG xml.DefaultDocumentLoader - Using JAXP provider [com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderFactoryImpl]
2018-11-29 14:50:42,683 DEBUG xml.PluggableSchemaResolver - Loading schema mappings from [META-INF/spring.schemas]
2018-11-29 14:50:42,685 DEBUG xml.PluggableSchemaResolver - Loaded schema mappings: {http://www.springframework.org/schema/tx/spring-tx-2.5.xsd=org/springframework/transaction/config/spring-tx-2.5.xsd, http://www.springframework.org/schema/aop/spring-aop-4.1.xsd=org/springframework/aop/config/spring-aop-4.1.xsd, http://www.springframework.org/schema/context/spring-context-3.1.xsd=org/springframework/context/config/spring-context-3.1.xsd, http://www.springframework.org/schema/jdbc/spring-jdbc-4.1.xsd=org/springframework/jdbc/config/spring-jdbc-4.1.xsd, http://www.springframework.org/schema/util/spring-util-3.0.xsd=org/springframework/beans/factory/xml/spring-util-3.0.xsd, http://www.springframework.org/schema/tool/spring-tool.xsd=org/springframework/beans/factory/xml/spring-tool-4.1.xsd, http://www.springframework.org/schema/aop/spring-aop-3.2.xsd=org/springframework/aop/config/spring-aop-3.2.xsd, http://mybatis.org/schema/mybatis-spring-1.2.xsd=org/mybatis/spring/config/mybatis-spring-1.2.xsd, http://www.springframework.org/schema/lang/spring-lang-4.1.xsd=org/springframework/scripting/config/spring-lang-4.1.xsd, http://www.springframework.org/schema/context/spring-context-4.0.xsd=org/springframework/context/config/spring-context-4.0.xsd, http://www.springframework.org/schema/tool/spring-tool-4.1.xsd=org/springframework/beans/factory/xml/spring-tool-4.1.xsd, http://www.springframework.org/schema/lang/spring-lang-3.2.xsd=org/springframework/scripting/config/spring-lang-3.2.xsd, http://www.springframework.org/schema/cache/spring-cache-3.2.xsd=org/springframework/cache/config/spring-cache-3.2.xsd, http://www.springframework.org/schema/jee/spring-jee-4.1.xsd=org/springframework/ejb/config/spring-jee-4.1.xsd, http://www.springframework.org/schema/jdbc/spring-jdbc-3.1.xsd=org/springframework/jdbc/config/spring-jdbc-3.1.xsd, http://www.springframework.org/schema/util/spring-util-2.0.xsd=org/springframework/beans/factory/xml/spring-util-2.0.xsd, http://www.springframework.org/schema/tool/spring-tool-3.2.xsd=org/springframework/beans/factory/xml/spring-tool-3.2.xsd, http://www.springframework.org/schema/context/spring-context.xsd=org/springframework/context/config/spring-context-4.1.xsd, http://www.springframework.org/schema/cache/spring-cache-4.1.xsd=org/springframework/cache/config/spring-cache-4.1.xsd, http://www.springframework.org/schema/aop/spring-aop-4.0.xsd=org/springframework/aop/config/spring-aop-4.0.xsd, http://www.springframework.org/schema/jee/spring-jee-3.2.xsd=org/springframework/ejb/config/spring-jee-3.2.xsd, http://www.springframework.org/schema/context/spring-context-3.0.xsd=org/springframework/context/config/spring-context-3.0.xsd, http://www.springframework.org/schema/jdbc/spring-jdbc-4.0.xsd=org/springframework/jdbc/config/spring-jdbc-4.0.xsd, http://www.springframework.org/schema/util/spring-util-2.5.xsd=org/springframework/beans/factory/xml/spring-util-2.5.xsd, http://www.springframework.org/schema/beans/spring-beans-3.2.xsd=org/springframework/beans/factory/xml/spring-beans-3.2.xsd, http://www.springframework.org/schema/aop/spring-aop-3.1.xsd=org/springframework/aop/config/spring-aop-3.1.xsd, http://www.springframework.org/schema/lang/spring-lang-4.0.xsd=org/springframework/scripting/config/spring-lang-4.0.xsd, http://www.springframework.org/schema/beans/spring-beans-4.1.xsd=org/springframework/beans/factory/xml/spring-beans-4.1.xsd, http://www.springframework.org/schema/tool/spring-tool-4.0.xsd=org/springframework/beans/factory/xml/spring-tool-4.0.xsd, http://www.springframework.org/schema/tx/spring-tx-3.2.xsd=org/springframework/transaction/config/spring-tx-3.2.xsd, http://www.springframework.org/schema/lang/spring-lang-3.1.xsd=org/springframework/scripting/config/spring-lang-3.1.xsd, http://www.springframework.org/schema/cache/spring-cache-3.1.xsd=org/springframework/cache/config/spring-cache-3.1.xsd, http://www.springframework.org/schema/jee/spring-jee-4.0.xsd=org/springframework/ejb/config/spring-jee-4.0.xsd, http://www.springframework.org/schema/jdbc/spring-jdbc-3.0.xsd=org/springframework/jdbc/config/spring-jdbc-3.0.xsd, http://www.springframework.org/schema/task/spring-task-4.1.xsd=org/springframework/scheduling/config/spring-task-4.1.xsd, http://www.springframework.org/schema/jdbc/spring-jdbc.xsd=org/springframework/jdbc/config/spring-jdbc-4.1.xsd, http://www.springframework.org/schema/tool/spring-tool-3.1.xsd=org/springframework/beans/factory/xml/spring-tool-3.1.xsd, http://www.springframework.org/schema/tx/spring-tx-4.1.xsd=org/springframework/transaction/config/spring-tx-4.1.xsd, http://www.springframework.org/schema/cache/spring-cache-4.0.xsd=org/springframework/cache/config/spring-cache-4.0.xsd, http://www.springframework.org/schema/jee/spring-jee-3.1.xsd=org/springframework/ejb/config/spring-jee-3.1.xsd, http://www.springframework.org/schema/task/spring-task-3.2.xsd=org/springframework/scheduling/config/spring-task-3.2.xsd, http://www.springframework.org/schema/beans/spring-beans-3.1.xsd=org/springframework/beans/factory/xml/spring-beans-3.1.xsd, http://www.springframework.org/schema/util/spring-util.xsd=org/springframework/beans/factory/xml/spring-util-4.1.xsd, http://www.springframework.org/schema/aop/spring-aop-3.0.xsd=org/springframework/aop/config/spring-aop-3.0.xsd, http://www.springframework.org/schema/beans/spring-beans-4.0.xsd=org/springframework/beans/factory/xml/spring-beans-4.0.xsd, http://www.springframework.org/schema/beans/spring-beans.xsd=org/springframework/beans/factory/xml/spring-beans-4.1.xsd, http://www.springframework.org/schema/tx/spring-tx-3.1.xsd=org/springframework/transaction/config/spring-tx-3.1.xsd, http://www.springframework.org/schema/lang/spring-lang-3.0.xsd=org/springframework/scripting/config/spring-lang-3.0.xsd, http://mybatis.org/schema/mybatis-spring.xsd=org/mybatis/spring/config/mybatis-spring-1.2.xsd, http://www.springframework.org/schema/context/spring-context-2.5.xsd=org/springframework/context/config/spring-context-2.5.xsd, http://www.springframework.org/schema/task/spring-task-4.0.xsd=org/springframework/scheduling/config/spring-task-4.0.xsd, http://www.springframework.org/schema/tool/spring-tool-3.0.xsd=org/springframework/beans/factory/xml/spring-tool-3.0.xsd, http://www.springframework.org/schema/tx/spring-tx-4.0.xsd=org/springframework/transaction/config/spring-tx-4.0.xsd, http://www.springframework.org/schema/aop/spring-aop-2.0.xsd=org/springframework/aop/config/spring-aop-2.0.xsd, http://www.springframework.org/schema/jee/spring-jee-3.0.xsd=org/springframework/ejb/config/spring-jee-3.0.xsd, http://www.springframework.org/schema/util/spring-util-4.1.xsd=org/springframework/beans/factory/xml/spring-util-4.1.xsd, http://www.springframework.org/schema/task/spring-task-3.1.xsd=org/springframework/scheduling/config/spring-task-3.1.xsd, http://www.springframework.org/schema/beans/spring-beans-3.0.xsd=org/springframework/beans/factory/xml/spring-beans-3.0.xsd, http://www.springframework.org/schema/jee/spring-jee.xsd=org/springframework/ejb/config/spring-jee-4.1.xsd, http://www.springframework.org/schema/aop/spring-aop-2.5.xsd=org/springframework/aop/config/spring-aop-2.5.xsd, http://www.springframework.org/schema/lang/spring-lang-2.0.xsd=org/springframework/scripting/config/spring-lang-2.0.xsd, http://www.springframework.org/schema/util/spring-util-3.2.xsd=org/springframework/beans/factory/xml/spring-util-3.2.xsd, http://www.springframework.org/schema/task/spring-task.xsd=org/springframework/scheduling/config/spring-task-4.1.xsd, http://www.springframework.org/schema/tool/spring-tool-2.0.xsd=org/springframework/beans/factory/xml/spring-tool-2.0.xsd, http://www.springframework.org/schema/tx/spring-tx-3.0.xsd=org/springframework/transaction/config/spring-tx-3.0.xsd, http://www.springframework.org/schema/lang/spring-lang-2.5.xsd=org/springframework/scripting/config/spring-lang-2.5.xsd, http://www.springframework.org/schema/jee/spring-jee-2.0.xsd=org/springframework/ejb/config/spring-jee-2.0.xsd, http://www.springframework.org/schema/tool/spring-tool-2.5.xsd=org/springframework/beans/factory/xml/spring-tool-2.5.xsd, http://www.springframework.org/schema/jee/spring-jee-2.5.xsd=org/springframework/ejb/config/spring-jee-2.5.xsd, http://www.springframework.org/schema/util/spring-util-4.0.xsd=org/springframework/beans/factory/xml/spring-util-4.0.xsd, http://www.springframework.org/schema/task/spring-task-3.0.xsd=org/springframework/scheduling/config/spring-task-3.0.xsd, http://www.springframework.org/schema/lang/spring-lang.xsd=org/springframework/scripting/config/spring-lang-4.1.xsd, http://www.springframework.org/schema/context/spring-context-3.2.xsd=org/springframework/context/config/spring-context-3.2.xsd, http://www.springframework.org/schema/util/spring-util-3.1.xsd=org/springframework/beans/factory/xml/spring-util-3.1.xsd, http://www.springframework.org/schema/beans/spring-beans-2.0.xsd=org/springframework/beans/factory/xml/spring-beans-2.0.xsd, http://www.springframework.org/schema/cache/spring-cache.xsd=org/springframework/cache/config/spring-cache-4.1.xsd, http://www.springframework.org/schema/tx/spring-tx.xsd=org/springframework/transaction/config/spring-tx-4.1.xsd, http://www.springframework.org/schema/context/spring-context-4.1.xsd=org/springframework/context/config/spring-context-4.1.xsd, http://www.springframework.org/schema/beans/spring-beans-2.5.xsd=org/springframework/beans/factory/xml/spring-beans-2.5.xsd, http://www.springframework.org/schema/tx/spring-tx-2.0.xsd=org/springframework/transaction/config/spring-tx-2.0.xsd, http://www.alibaba.com/schema/stat.xsd=META-INF/stat.xsd, http://www.springframework.org/schema/jdbc/spring-jdbc-3.2.xsd=org/springframework/jdbc/config/spring-jdbc-3.2.xsd, http://www.springframework.org/schema/aop/spring-aop.xsd=org/springframework/aop/config/spring-aop-4.1.xsd}
2018-11-29 14:50:42,690 DEBUG xml.PluggableSchemaResolver - Found XML schema [http://www.springframework.org/schema/beans/spring-beans-4.0.xsd] in classpath: org/springframework/beans/factory/xml/spring-beans-4.0.xsd
2018-11-29 14:50:42,735 DEBUG xml.DefaultBeanDefinitionDocumentReader - Loading bean definitions
2018-11-29 14:50:42,749 DEBUG xml.BeanDefinitionParserDelegate - Neither XML 'id' nor 'name' specified - using generated bean name [org.springframework.beans.factory.config.PropertyPlaceholderConfigurer#0]
2018-11-29 14:50:42,751 DEBUG xml.BeanDefinitionParserDelegate - No XML 'id' specified - using 'hr_0' as bean name and [] as aliases
2018-11-29 14:50:42,753 DEBUG xml.BeanDefinitionParserDelegate - No XML 'id' specified - using 'hr_1' as bean name and [] as aliases
2018-11-29 14:50:42,753 DEBUG xml.XmlBeanDefinitionReader - Loaded 3 bean definitions from location pattern [classpath*:config/spring/spring-database.xml]
2018-11-29 14:50:42,754 INFO  xml.XmlBeanDefinitionReader - Loading XML bean definitions from URL [file:/D:/sharding-jdbc-mybatis/target/classes/config/spring/spring-sharding.xml]
2018-11-29 14:50:42,755 DEBUG xml.DefaultDocumentLoader - Using JAXP provider [com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderFactoryImpl]
2018-11-29 14:50:42,756 DEBUG xml.PluggableSchemaResolver - Found XML schema [http://www.springframework.org/schema/beans/spring-beans-4.0.xsd] in classpath: org/springframework/beans/factory/xml/spring-beans-4.0.xsd
2018-11-29 14:50:42,774 DEBUG xml.PluggableSchemaResolver - Found XML schema [http://www.springframework.org/schema/context/spring-context-4.0.xsd] in classpath: org/springframework/context/config/spring-context-4.0.xsd
2018-11-29 14:50:42,778 DEBUG xml.PluggableSchemaResolver - Found XML schema [http://www.springframework.org/schema/tool/spring-tool-4.0.xsd] in classpath: org/springframework/beans/factory/xml/spring-tool-4.0.xsd
2018-11-29 14:50:42,791 DEBUG xml.PluggableSchemaResolver - Found XML schema [http://www.springframework.org/schema/tx/spring-tx-4.0.xsd] in classpath: org/springframework/transaction/config/spring-tx-4.0.xsd
2018-11-29 14:50:42,801 DEBUG xml.DefaultBeanDefinitionDocumentReader - Loading bean definitions
2018-11-29 14:50:42,804 DEBUG xml.DefaultNamespaceHandlerResolver - Loaded NamespaceHandler mappings: {http://www.springframework.org/schema/p=org.springframework.beans.factory.xml.SimplePropertyNamespaceHandler, http://www.springframework.org/schema/util=org.springframework.beans.factory.xml.UtilNamespaceHandler, http://www.alibaba.com/schema/stat=com.alibaba.druid.support.spring.stat.config.DruidStatNamespaceHandler, http://www.springframework.org/schema/jee=org.springframework.ejb.config.JeeNamespaceHandler, http://www.springframework.org/schema/aop=org.springframework.aop.config.AopNamespaceHandler, http://www.springframework.org/schema/jdbc=org.springframework.jdbc.config.JdbcNamespaceHandler, http://www.springframework.org/schema/cache=org.springframework.cache.config.CacheNamespaceHandler, http://mybatis.org/schema/mybatis-spring=org.mybatis.spring.config.NamespaceHandler, http://www.springframework.org/schema/c=org.springframework.beans.factory.xml.SimpleConstructorNamespaceHandler, http://www.springframework.org/schema/tx=org.springframework.transaction.config.TxNamespaceHandler, http://www.springframework.org/schema/task=org.springframework.scheduling.config.TaskNamespaceHandler, http://www.springframework.org/schema/lang=org.springframework.scripting.config.LangNamespaceHandler, http://www.springframework.org/schema/context=org.springframework.context.config.ContextNamespaceHandler}
2018-11-29 14:50:42,829 DEBUG support.PathMatchingResourcePatternResolver - Looking for matching resources in directory tree [D:\sharding-jdbc-mybatis\target\test-classes\com\lyz\sharding]
2018-11-29 14:50:42,829 DEBUG support.PathMatchingResourcePatternResolver - Searching directory [D:\sharding-jdbc-mybatis\target\test-classes\com\lyz\sharding] for files matching pattern [D:/sharding-jdbc-mybatis/target/test-classes/com/lyz/sharding/**/*.class]
2018-11-29 14:50:42,831 DEBUG support.PathMatchingResourcePatternResolver - Searching directory [D:\sharding-jdbc-mybatis\target\test-classes\com\lyz\sharding\test] for files matching pattern [D:/sharding-jdbc-mybatis/target/test-classes/com/lyz/sharding/**/*.class]
2018-11-29 14:50:42,833 DEBUG support.PathMatchingResourcePatternResolver - Looking for matching resources in directory tree [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding]
2018-11-29 14:50:42,833 DEBUG support.PathMatchingResourcePatternResolver - Searching directory [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding] for files matching pattern [D:/sharding-jdbc-mybatis/target/classes/com/lyz/sharding/**/*.class]
2018-11-29 14:50:42,833 DEBUG support.PathMatchingResourcePatternResolver - Searching directory [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\algorithm] for files matching pattern [D:/sharding-jdbc-mybatis/target/classes/com/lyz/sharding/**/*.class]
2018-11-29 14:50:42,834 DEBUG support.PathMatchingResourcePatternResolver - Searching directory [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\entity] for files matching pattern [D:/sharding-jdbc-mybatis/target/classes/com/lyz/sharding/**/*.class]
2018-11-29 14:50:42,834 DEBUG support.PathMatchingResourcePatternResolver - Searching directory [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\mapper] for files matching pattern [D:/sharding-jdbc-mybatis/target/classes/com/lyz/sharding/**/*.class]
2018-11-29 14:50:42,835 DEBUG support.PathMatchingResourcePatternResolver - Searching directory [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\service] for files matching pattern [D:/sharding-jdbc-mybatis/target/classes/com/lyz/sharding/**/*.class]
2018-11-29 14:50:42,835 DEBUG support.PathMatchingResourcePatternResolver - Searching directory [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\service\impl] for files matching pattern [D:/sharding-jdbc-mybatis/target/classes/com/lyz/sharding/**/*.class]
2018-11-29 14:50:42,835 DEBUG support.PathMatchingResourcePatternResolver - Resolved location pattern [classpath*:com/lyz/sharding/**/*.class] to resources [file [D:\sharding-jdbc-mybatis\target\test-classes\com\lyz\sharding\test\ShardingJdbcMybatisTest.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\algorithm\StudentSingleKeyDatabaseShardingAlgorithm.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\algorithm\StudentSingleKeyTableShardingAlgorithm.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\algorithm\UserSingleKeyDatabaseShardingAlgorithm.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\algorithm\UserSingleKeyTableShardingAlgorithm.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\entity\Student.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\entity\User.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\mapper\StudentMapper.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\mapper\UserMapper.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\service\impl\StudentServiceImpl.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\service\impl\UserServiceImpl.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\service\StudentService.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\service\UserService.class]]
2018-11-29 14:50:42,863 DEBUG annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\service\impl\StudentServiceImpl.class]
2018-11-29 14:50:42,865 DEBUG annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\service\impl\UserServiceImpl.class]
2018-11-29 14:50:42,892 DEBUG xml.BeanDefinitionParserDelegate - Neither XML 'id' nor 'name' specified - using generated bean name [org.mybatis.spring.mapper.MapperScannerConfigurer#0]
2018-11-29 14:50:42,912 DEBUG xml.BeanDefinitionParserDelegate - Neither XML 'id' nor 'name' specified - using generated bean name [com.lyz.sharding.algorithm.UserSingleKeyDatabaseShardingAlgorithm#49070868]
2018-11-29 14:50:42,912 DEBUG xml.BeanDefinitionParserDelegate - Neither XML 'id' nor 'name' specified - using generated bean name [com.lyz.sharding.algorithm.UserSingleKeyTableShardingAlgorithm#6385cb26]
2018-11-29 14:50:42,918 DEBUG xml.BeanDefinitionParserDelegate - Neither XML 'id' nor 'name' specified - using generated bean name [com.lyz.sharding.algorithm.StudentSingleKeyDatabaseShardingAlgorithm#38364841]
2018-11-29 14:50:42,918 DEBUG xml.BeanDefinitionParserDelegate - Neither XML 'id' nor 'name' specified - using generated bean name [com.lyz.sharding.algorithm.StudentSingleKeyTableShardingAlgorithm#28c4711c]
2018-11-29 14:50:42,939 DEBUG xml.XmlBeanDefinitionReader - Loaded 22 bean definitions from location pattern [classpath*:config/spring/spring-sharding.xml]
2018-11-29 14:50:42,963 INFO  support.GenericApplicationContext - Refreshing org.springframework.context.support.GenericApplicationContext@5c7fa833: startup date [Thu Nov 29 14:50:42 CST 2018]; root of context hierarchy
2018-11-29 14:50:42,963 DEBUG support.GenericApplicationContext - Bean factory for org.springframework.context.support.GenericApplicationContext@5c7fa833: org.springframework.beans.factory.support.DefaultListableBeanFactory@491666ad: defining beans [org.springframework.beans.factory.config.PropertyPlaceholderConfigurer#0,hr_0,hr_1,studentServiceImpl,userServiceImpl,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.mybatis.spring.mapper.MapperScannerConfigurer#0,sqlSessionFactory,dataSourceRule,userTableRule,userDatabaseShardingStrategy,userTableShardingStrategy,studentTableRule,studentDatabaseShardingStrategy,studentTableShardingStrategy,shardingRule,shardingDataSource,transactionManager,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor]; root of factory hierarchy
2018-11-29 14:50:43,053 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2018-11-29 14:50:43,054 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2018-11-29 14:50:43,067 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor' to allow for resolving potential circular references
2018-11-29 14:50:43,069 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2018-11-29 14:50:43,151 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.mybatis.spring.mapper.MapperScannerConfigurer#0'
2018-11-29 14:50:43,151 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'org.mybatis.spring.mapper.MapperScannerConfigurer#0'
2018-11-29 14:50:43,152 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'org.mybatis.spring.mapper.MapperScannerConfigurer#0' to allow for resolving potential circular references
2018-11-29 14:50:43,174 DEBUG support.DefaultListableBeanFactory - Invoking afterPropertiesSet() on bean with name 'org.mybatis.spring.mapper.MapperScannerConfigurer#0'
2018-11-29 14:50:43,174 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'org.mybatis.spring.mapper.MapperScannerConfigurer#0'
2018-11-29 14:50:43,175 DEBUG env.StandardEnvironment - Adding [systemProperties] PropertySource with lowest search precedence
2018-11-29 14:50:43,175 DEBUG env.StandardEnvironment - Adding [systemEnvironment] PropertySource with lowest search precedence
2018-11-29 14:50:43,176 DEBUG env.StandardEnvironment - Initialized StandardEnvironment with PropertySources [systemProperties,systemEnvironment]
2018-11-29 14:50:43,178 DEBUG support.PathMatchingResourcePatternResolver - Looking for matching resources in directory tree [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\mapper]
2018-11-29 14:50:43,178 DEBUG support.PathMatchingResourcePatternResolver - Searching directory [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\mapper] for files matching pattern [D:/sharding-jdbc-mybatis/target/classes/com/lyz/sharding/mapper/**/*.class]
2018-11-29 14:50:43,178 DEBUG support.PathMatchingResourcePatternResolver - Resolved location pattern [classpath*:com/lyz/sharding/mapper/**/*.class] to resources [file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\mapper\StudentMapper.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\mapper\UserMapper.class]]
2018-11-29 14:50:43,179 DEBUG mapper.ClassPathMapperScanner - Identified candidate component class: file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\mapper\StudentMapper.class]
2018-11-29 14:50:43,179 DEBUG mapper.ClassPathMapperScanner - Identified candidate component class: file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\mapper\UserMapper.class]
2018-11-29 14:50:43,179 DEBUG mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'studentMapper' and 'com.lyz.sharding.mapper.StudentMapper' mapperInterface
2018-11-29 14:50:43,180 DEBUG mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.lyz.sharding.mapper.UserMapper' mapperInterface
2018-11-29 14:50:43,182 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.beans.factory.config.PropertyPlaceholderConfigurer#0'
2018-11-29 14:50:43,183 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.beans.factory.config.PropertyPlaceholderConfigurer#0'
2018-11-29 14:50:43,184 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.beans.factory.config.PropertyPlaceholderConfigurer#0' to allow for resolving potential circular references
2018-11-29 14:50:43,196 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.beans.factory.config.PropertyPlaceholderConfigurer#0'
2018-11-29 14:50:43,199 INFO  config.PropertyPlaceholderConfigurer - Loading properties file from class path resource [config/resource/jdbc_dev.properties]
2018-11-29 14:50:43,205 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
2018-11-29 14:50:43,205 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
2018-11-29 14:50:43,206 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor' to allow for resolving potential circular references
2018-11-29 14:50:43,212 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
2018-11-29 14:50:43,212 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalRequiredAnnotationProcessor'
2018-11-29 14:50:43,212 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.internalRequiredAnnotationProcessor'
2018-11-29 14:50:43,213 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.internalRequiredAnnotationProcessor' to allow for resolving potential circular references
2018-11-29 14:50:43,213 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.internalRequiredAnnotationProcessor'
2018-11-29 14:50:43,213 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
2018-11-29 14:50:43,213 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
2018-11-29 14:50:43,218 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor' to allow for resolving potential circular references
2018-11-29 14:50:43,219 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
2018-11-29 14:50:43,219 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor'
2018-11-29 14:50:43,219 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor'
2018-11-29 14:50:43,219 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor' to allow for resolving potential circular references
2018-11-29 14:50:43,219 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor'
2018-11-29 14:50:43,219 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.enhancedConfigurationProcessor'
2018-11-29 14:50:43,219 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.enhancedConfigurationProcessor'
2018-11-29 14:50:43,220 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.enhancedConfigurationProcessor' to allow for resolving potential circular references
2018-11-29 14:50:43,220 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.enhancedConfigurationProcessor'
2018-11-29 14:50:43,220 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.aop.config.internalAutoProxyCreator'
2018-11-29 14:50:43,220 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.aop.config.internalAutoProxyCreator'
2018-11-29 14:50:43,252 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.aop.config.internalAutoProxyCreator' to allow for resolving potential circular references
2018-11-29 14:50:43,273 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.aop.config.internalAutoProxyCreator'
2018-11-29 14:50:43,283 DEBUG support.GenericApplicationContext - Unable to locate MessageSource with name 'messageSource': using default [org.springframework.context.support.DelegatingMessageSource@6d763516]
2018-11-29 14:50:43,287 DEBUG support.GenericApplicationContext - Unable to locate ApplicationEventMulticaster with name 'applicationEventMulticaster': using default [org.springframework.context.event.SimpleApplicationEventMulticaster@5c5eefef]
2018-11-29 14:50:43,295 DEBUG support.DefaultListableBeanFactory - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@491666ad: defining beans [org.springframework.beans.factory.config.PropertyPlaceholderConfigurer#0,hr_0,hr_1,studentServiceImpl,userServiceImpl,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.mybatis.spring.mapper.MapperScannerConfigurer#0,sqlSessionFactory,dataSourceRule,userTableRule,userDatabaseShardingStrategy,userTableShardingStrategy,studentTableRule,studentDatabaseShardingStrategy,studentTableShardingStrategy,shardingRule,shardingDataSource,transactionManager,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor,org.springframework.context.annotation.ConfigurationClassPostProcessor.enhancedConfigurationProcessor,studentMapper,userMapper]; root of factory hierarchy
2018-11-29 14:50:43,295 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.beans.factory.config.PropertyPlaceholderConfigurer#0'
2018-11-29 14:50:43,297 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'hr_0'
2018-11-29 14:50:43,297 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'hr_0'
2018-11-29 14:50:43,358 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'hr_0' to allow for resolving potential circular references
2018-11-29 14:50:43,491 DEBUG support.DefaultListableBeanFactory - Invoking init method  'init' on bean with name 'hr_0'
2018-11-29 14:50:43,549 INFO  pool.DruidDataSource - {dataSource-1} inited
2018-11-29 14:50:43,550 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:50:43,550 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:50:43,551 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.transaction.config.internalTransactionAdvisor' to allow for resolving potential circular references
2018-11-29 14:50:43,554 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0'
2018-11-29 14:50:43,554 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0'
2018-11-29 14:50:43,554 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0' to allow for resolving potential circular references
2018-11-29 14:50:43,556 DEBUG autoproxy.BeanFactoryAdvisorRetrievalHelper - Skipping currently created advisor 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:50:43,557 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0'
2018-11-29 14:50:43,557 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:50:43,564 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'hr_0'
2018-11-29 14:50:43,564 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'hr_1'
2018-11-29 14:50:43,564 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'hr_1'
2018-11-29 14:50:43,565 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'hr_1' to allow for resolving potential circular references
2018-11-29 14:50:43,568 DEBUG support.DefaultListableBeanFactory - Invoking init method  'init' on bean with name 'hr_1'
2018-11-29 14:50:43,569 INFO  pool.DruidDataSource - {dataSource-2} inited
2018-11-29 14:50:43,569 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:50:43,570 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'hr_1'
2018-11-29 14:50:43,570 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'studentServiceImpl'
2018-11-29 14:50:43,570 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'studentServiceImpl'
2018-11-29 14:50:43,573 DEBUG annotation.InjectionMetadata - Registered injected element on class [com.lyz.sharding.service.impl.StudentServiceImpl]: ResourceElement for public com.lyz.sharding.mapper.StudentMapper com.lyz.sharding.service.impl.StudentServiceImpl.studentMapper
2018-11-29 14:50:43,573 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'studentServiceImpl' to allow for resolving potential circular references
2018-11-29 14:50:43,574 DEBUG annotation.InjectionMetadata - Processing injected method of bean 'studentServiceImpl': ResourceElement for public com.lyz.sharding.mapper.StudentMapper com.lyz.sharding.service.impl.StudentServiceImpl.studentMapper
2018-11-29 14:50:43,574 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'studentMapper'
2018-11-29 14:50:43,574 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'studentMapper'
2018-11-29 14:50:43,575 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'studentMapper' to allow for resolving potential circular references
2018-11-29 14:50:43,580 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'sqlSessionFactory'
2018-11-29 14:50:43,581 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'sqlSessionFactory'
2018-11-29 14:50:43,595 DEBUG logging.LogFactory - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2018-11-29 14:50:43,596 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'sqlSessionFactory' to allow for resolving potential circular references
2018-11-29 14:50:43,600 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'shardingDataSource'
2018-11-29 14:50:43,601 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'shardingDataSource'
2018-11-29 14:50:43,606 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'shardingRule'
2018-11-29 14:50:43,606 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'shardingRule'
2018-11-29 14:50:43,609 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dataSourceRule'
2018-11-29 14:50:43,609 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'dataSourceRule'
2018-11-29 14:50:43,609 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'hr_0'
2018-11-29 14:50:43,609 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'hr_1'
2018-11-29 14:50:43,614 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'dataSourceRule' to allow for resolving potential circular references
2018-11-29 14:50:43,615 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:50:43,615 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'dataSourceRule'
2018-11-29 14:50:43,615 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userTableRule'
2018-11-29 14:50:43,615 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'userTableRule'
2018-11-29 14:50:43,615 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'dataSourceRule'
2018-11-29 14:50:43,615 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userDatabaseShardingStrategy'
2018-11-29 14:50:43,615 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'userDatabaseShardingStrategy'
2018-11-29 14:50:43,616 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'com.lyz.sharding.algorithm.UserSingleKeyDatabaseShardingAlgorithm#49070868'
2018-11-29 14:50:43,619 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:50:43,620 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'com.lyz.sharding.algorithm.UserSingleKeyDatabaseShardingAlgorithm#49070868'
2018-11-29 14:50:43,621 DEBUG beans.BeanUtils - No property editor [com.dangdang.ddframe.rdb.sharding.api.strategy.database.MultipleKeysDatabaseShardingAlgorithmEditor] found for type com.dangdang.ddframe.rdb.sharding.api.strategy.database.MultipleKeysDatabaseShardingAlgorithm according to 'Editor' suffix convention
2018-11-29 14:50:43,622 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'userDatabaseShardingStrategy' to allow for resolving potential circular references
2018-11-29 14:50:43,624 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:50:43,625 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'userDatabaseShardingStrategy'
2018-11-29 14:50:43,625 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userTableShardingStrategy'
2018-11-29 14:50:43,625 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'userTableShardingStrategy'
2018-11-29 14:50:43,625 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'com.lyz.sharding.algorithm.UserSingleKeyTableShardingAlgorithm#6385cb26'
2018-11-29 14:50:43,627 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:50:43,627 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'com.lyz.sharding.algorithm.UserSingleKeyTableShardingAlgorithm#6385cb26'
2018-11-29 14:50:43,628 DEBUG beans.BeanUtils - No property editor [com.dangdang.ddframe.rdb.sharding.api.strategy.table.MultipleKeysTableShardingAlgorithmEditor] found for type com.dangdang.ddframe.rdb.sharding.api.strategy.table.MultipleKeysTableShardingAlgorithm according to 'Editor' suffix convention
2018-11-29 14:50:43,629 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'userTableShardingStrategy' to allow for resolving potential circular references
2018-11-29 14:50:43,629 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:50:43,630 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'userTableShardingStrategy'
2018-11-29 14:50:43,631 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'userTableRule' to allow for resolving potential circular references
2018-11-29 14:50:43,633 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:50:43,633 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'userTableRule'
2018-11-29 14:50:43,633 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'studentTableRule'
2018-11-29 14:50:43,633 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'studentTableRule'
2018-11-29 14:50:43,633 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'dataSourceRule'
2018-11-29 14:50:43,633 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'studentDatabaseShardingStrategy'
2018-11-29 14:50:43,633 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'studentDatabaseShardingStrategy'
2018-11-29 14:50:43,634 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'com.lyz.sharding.algorithm.StudentSingleKeyDatabaseShardingAlgorithm#38364841'
2018-11-29 14:50:43,635 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:50:43,636 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'com.lyz.sharding.algorithm.StudentSingleKeyDatabaseShardingAlgorithm#38364841'
2018-11-29 14:50:43,636 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'studentDatabaseShardingStrategy' to allow for resolving potential circular references
2018-11-29 14:50:43,636 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:50:43,636 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'studentDatabaseShardingStrategy'
2018-11-29 14:50:43,636 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'studentTableShardingStrategy'
2018-11-29 14:50:43,636 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'studentTableShardingStrategy'
2018-11-29 14:50:43,639 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'com.lyz.sharding.algorithm.StudentSingleKeyTableShardingAlgorithm#28c4711c'
2018-11-29 14:50:43,641 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:50:43,641 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'com.lyz.sharding.algorithm.StudentSingleKeyTableShardingAlgorithm#28c4711c'
2018-11-29 14:50:43,641 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'studentTableShardingStrategy' to allow for resolving potential circular references
2018-11-29 14:50:43,641 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:50:43,642 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'studentTableShardingStrategy'
2018-11-29 14:50:43,642 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'studentTableRule' to allow for resolving potential circular references
2018-11-29 14:50:43,642 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:50:43,642 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'studentTableRule'
2018-11-29 14:50:43,646 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'shardingRule' to allow for resolving potential circular references
2018-11-29 14:50:43,647 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:50:43,648 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'shardingRule'
2018-11-29 14:50:43,890 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'shardingDataSource' to allow for resolving potential circular references
2018-11-29 14:50:43,894 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:50:43,894 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'shardingDataSource'
2018-11-29 14:50:43,894 DEBUG support.PathMatchingResourcePatternResolver - Looking for matching resources in directory tree [D:\sharding-jdbc-mybatis\target\classes\config\mapper]
2018-11-29 14:50:43,895 DEBUG support.PathMatchingResourcePatternResolver - Searching directory [D:\sharding-jdbc-mybatis\target\classes\config\mapper] for files matching pattern [D:/sharding-jdbc-mybatis/target/classes/config/mapper/*Mapper.xml]
2018-11-29 14:50:43,895 DEBUG support.PathMatchingResourcePatternResolver - Resolved location pattern [classpath*:config/mapper/*Mapper.xml] to resources [file [D:\sharding-jdbc-mybatis\target\classes\config\mapper\StudentMapper.xml], file [D:\sharding-jdbc-mybatis\target\classes\config\mapper\UserMapper.xml]]
2018-11-29 14:50:43,896 DEBUG support.DefaultListableBeanFactory - Invoking afterPropertiesSet() on bean with name 'sqlSessionFactory'
2018-11-29 14:50:43,896 DEBUG spring.SqlSessionFactoryBean - Property 'configLocation' not specified, using default MyBatis Configuration
2018-11-29 14:50:43,982 DEBUG spring.SqlSessionFactoryBean - Parsed mapper file: 'file [D:\sharding-jdbc-mybatis\target\classes\config\mapper\StudentMapper.xml]'
2018-11-29 14:50:43,991 DEBUG spring.SqlSessionFactoryBean - Parsed mapper file: 'file [D:\sharding-jdbc-mybatis\target\classes\config\mapper\UserMapper.xml]'
2018-11-29 14:50:43,991 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:50:43,992 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'sqlSessionFactory'
2018-11-29 14:50:43,992 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:50:43,997 DEBUG support.DefaultListableBeanFactory - Invoking afterPropertiesSet() on bean with name 'studentMapper'
2018-11-29 14:50:43,997 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:50:44,000 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'studentMapper'
2018-11-29 14:50:44,001 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:50:44,002 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:50:44,003 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'studentServiceImpl'
2018-11-29 14:50:44,003 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userServiceImpl'
2018-11-29 14:50:44,003 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'userServiceImpl'
2018-11-29 14:50:44,004 DEBUG annotation.InjectionMetadata - Registered injected element on class [com.lyz.sharding.service.impl.UserServiceImpl]: ResourceElement for public com.lyz.sharding.mapper.UserMapper com.lyz.sharding.service.impl.UserServiceImpl.userMapper
2018-11-29 14:50:44,005 DEBUG annotation.InjectionMetadata - Registered injected element on class [com.lyz.sharding.service.impl.UserServiceImpl]: ResourceElement for public com.lyz.sharding.mapper.StudentMapper com.lyz.sharding.service.impl.UserServiceImpl.studentMapper
2018-11-29 14:50:44,005 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'userServiceImpl' to allow for resolving potential circular references
2018-11-29 14:50:44,006 DEBUG annotation.InjectionMetadata - Processing injected method of bean 'userServiceImpl': ResourceElement for public com.lyz.sharding.mapper.UserMapper com.lyz.sharding.service.impl.UserServiceImpl.userMapper
2018-11-29 14:50:44,006 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userMapper'
2018-11-29 14:50:44,006 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'userMapper'
2018-11-29 14:50:44,006 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'userMapper' to allow for resolving potential circular references
2018-11-29 14:50:44,006 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'sqlSessionFactory'
2018-11-29 14:50:44,006 DEBUG support.DefaultListableBeanFactory - Invoking afterPropertiesSet() on bean with name 'userMapper'
2018-11-29 14:50:44,006 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:50:44,006 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'userMapper'
2018-11-29 14:50:44,007 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:50:44,008 DEBUG annotation.InjectionMetadata - Processing injected method of bean 'userServiceImpl': ResourceElement for public com.lyz.sharding.mapper.StudentMapper com.lyz.sharding.service.impl.UserServiceImpl.studentMapper
2018-11-29 14:50:44,008 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'studentMapper'
2018-11-29 14:50:44,008 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:50:44,009 DEBUG annotation.AnnotationTransactionAttributeSource - Adding transactional method 'UserServiceImpl.insert' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-11-29 14:50:44,012 DEBUG autoproxy.InfrastructureAdvisorAutoProxyCreator - Creating implicit proxy for bean 'userServiceImpl' with 0 common interceptors and 1 specific interceptors
2018-11-29 14:50:44,013 DEBUG framework.JdkDynamicAopProxy - Creating JDK dynamic proxy: target source is SingletonTargetSource for target object [com.lyz.sharding.service.impl.UserServiceImpl@66ea810]
2018-11-29 14:50:44,016 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'userServiceImpl'
2018-11-29 14:50:44,016 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2018-11-29 14:50:44,016 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
2018-11-29 14:50:44,016 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.internalRequiredAnnotationProcessor'
2018-11-29 14:50:44,016 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
2018-11-29 14:50:44,017 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.mybatis.spring.mapper.MapperScannerConfigurer#0'
2018-11-29 14:50:44,017 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'sqlSessionFactory'
2018-11-29 14:50:44,017 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'dataSourceRule'
2018-11-29 14:50:44,017 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'userTableRule'
2018-11-29 14:50:44,017 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'userDatabaseShardingStrategy'
2018-11-29 14:50:44,017 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'userTableShardingStrategy'
2018-11-29 14:50:44,017 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'studentTableRule'
2018-11-29 14:50:44,017 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'studentDatabaseShardingStrategy'
2018-11-29 14:50:44,017 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'studentTableShardingStrategy'
2018-11-29 14:50:44,017 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'shardingRule'
2018-11-29 14:50:44,017 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'shardingDataSource'
2018-11-29 14:50:44,017 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionManager'
2018-11-29 14:50:44,017 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'transactionManager'
2018-11-29 14:50:44,022 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'transactionManager' to allow for resolving potential circular references
2018-11-29 14:50:44,024 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'shardingDataSource'
2018-11-29 14:50:44,024 DEBUG support.DefaultListableBeanFactory - Invoking afterPropertiesSet() on bean with name 'transactionManager'
2018-11-29 14:50:44,024 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:50:44,025 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'transactionManager'
2018-11-29 14:50:44,025 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.aop.config.internalAutoProxyCreator'
2018-11-29 14:50:44,025 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0'
2018-11-29 14:50:44,025 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.interceptor.TransactionInterceptor#0'
2018-11-29 14:50:44,025 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.transaction.interceptor.TransactionInterceptor#0'
2018-11-29 14:50:44,026 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.transaction.interceptor.TransactionInterceptor#0' to allow for resolving potential circular references
2018-11-29 14:50:44,028 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0'
2018-11-29 14:50:44,028 DEBUG support.DefaultListableBeanFactory - Invoking afterPropertiesSet() on bean with name 'org.springframework.transaction.interceptor.TransactionInterceptor#0'
2018-11-29 14:50:44,028 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.transaction.interceptor.TransactionInterceptor#0'
2018-11-29 14:50:44,028 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:50:44,029 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor'
2018-11-29 14:50:44,029 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.enhancedConfigurationProcessor'
2018-11-29 14:50:44,029 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'studentMapper'
2018-11-29 14:50:44,029 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'userMapper'
2018-11-29 14:50:44,030 DEBUG support.GenericApplicationContext - Unable to locate LifecycleProcessor with name 'lifecycleProcessor': using default [org.springframework.context.support.DefaultLifecycleProcessor@21be3395]
2018-11-29 14:50:44,030 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'lifecycleProcessor'
2018-11-29 14:50:44,031 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'sqlSessionFactory'
2018-11-29 14:50:44,033 DEBUG env.PropertySourcesPropertyResolver - Searching for key 'spring.liveBeansView.mbeanDomain' in [systemProperties]
2018-11-29 14:50:44,033 DEBUG env.PropertySourcesPropertyResolver - Searching for key 'spring.liveBeansView.mbeanDomain' in [systemEnvironment]
2018-11-29 14:50:44,034 DEBUG env.PropertySourcesPropertyResolver - Could not find key 'spring.liveBeansView.mbeanDomain' in any property source. Returning [null]
2018-11-29 14:50:44,034 DEBUG context.DefaultCacheAwareContextLoaderDelegate - Storing ApplicationContext in cache under key [[MergedContextConfiguration@48eff760 testClass = ShardingJdbcMybatisTest, locations = '{classpath*:config/spring/spring-database.xml, classpath*:config/spring/spring-sharding.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2018-11-29 14:50:44,035 DEBUG annotation.InjectionMetadata - Processing injected method of bean 'com.lyz.sharding.test.ShardingJdbcMybatisTest': ResourceElement for public com.lyz.sharding.service.UserService com.lyz.sharding.test.ShardingJdbcMybatisTest.userService
2018-11-29 14:50:44,037 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'userServiceImpl'
2018-11-29 14:50:44,037 DEBUG annotation.InjectionMetadata - Processing injected method of bean 'com.lyz.sharding.test.ShardingJdbcMybatisTest': ResourceElement for public com.lyz.sharding.service.StudentService com.lyz.sharding.test.ShardingJdbcMybatisTest.studentService
2018-11-29 14:50:44,037 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'studentServiceImpl'
2018-11-29 14:50:44,037 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:50:44,042 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.interceptor.TransactionInterceptor#0'
2018-11-29 14:50:44,044 DEBUG annotation.AnnotationTransactionAttributeSource - Adding transactional method 'UserServiceImpl.findAll' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-11-29 14:50:44,045 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'transactionManager'
2018-11-29 14:50:44,048 DEBUG datasource.DataSourceTransactionManager - Creating new transaction with name [com.lyz.sharding.service.impl.UserServiceImpl.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-11-29 14:50:44,050 DEBUG datasource.DataSourceTransactionManager - Acquired Connection [com.dangdang.ddframe.rdb.sharding.jdbc.ShardingConnection@747f281] for JDBC transaction
2018-11-29 14:50:44,053 DEBUG datasource.DataSourceTransactionManager - Switching JDBC Connection [com.dangdang.ddframe.rdb.sharding.jdbc.ShardingConnection@747f281] to manual commit
2018-11-29 14:50:44,056 DEBUG spring.SqlSessionUtils - Creating a new SqlSession
2018-11-29 14:50:44,061 DEBUG spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14f232c4]
2018-11-29 14:50:44,066 DEBUG transaction.SpringManagedTransaction - JDBC Connection [com.dangdang.ddframe.rdb.sharding.jdbc.ShardingConnection@747f281] will be managed by Spring
2018-11-29 14:50:44,067 DEBUG UserMapper.findAll - ooo Using Connection [com.dangdang.ddframe.rdb.sharding.jdbc.ShardingConnection@747f281]
2018-11-29 14:50:44,102 DEBUG UserMapper.findAll - ==>  Preparing: select id,user_id,name,age from t_user 
2018-11-29 14:50:44,117 DEBUG UserMapper.findAll - ==> Parameters: 
2018-11-29 14:50:44,122 DEBUG parser.SQLParserFactory - Logic SQL:   
   select   
     id,user_id,name,age  
   from t_user   
  
2018-11-29 14:50:44,178 DEBUG parser.SQLParseEngine - Parsed SQL result: SQLParsedResult(routeContext=RouteContext(tables=[Table(name=t_user, alias=Optional.absent())], sqlBuilder=null), conditionContexts=[ConditionContext(conditions={})], mergeContext=MergeContext(orderByColumns=[], groupByColumns=[], aggregationColumns=[], limit=null))
2018-11-29 14:50:44,180 DEBUG parser.SQLParseEngine - Parsed SQL: SELECT id, user_id, name, age FROM [Token(t_user)]
2018-11-29 14:50:44,187 DEBUG router.SQLExecutionUnit - route sql to db: [hr_0] sql: [SELECT id, user_id, name, age FROM t_user_00]
2018-11-29 14:50:44,188 DEBUG router.SQLExecutionUnit - route sql to db: [hr_0] sql: [SELECT id, user_id, name, age FROM t_user_01]
2018-11-29 14:50:44,188 DEBUG router.SQLExecutionUnit - route sql to db: [hr_1] sql: [SELECT id, user_id, name, age FROM t_user_00]
2018-11-29 14:50:44,188 DEBUG router.SQLExecutionUnit - route sql to db: [hr_1] sql: [SELECT id, user_id, name, age FROM t_user_01]
2018-11-29 14:50:44,257 ERROR executor.ExecutorEngine - Concurrent execute result error {}
com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Table 'hr_0.t_user_01' doesn't exist
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:411)
	at com.mysql.jdbc.Util.getInstance(Util.java:386)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1054)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4237)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4169)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2617)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2778)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2825)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2156)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1379)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2931)
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:440)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2929)
	at com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:118)
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:493)
	at com.dangdang.ddframe.rdb.sharding.executor.PreparedStatementExecutor$4.execute(PreparedStatementExecutor.java:119)
	at com.dangdang.ddframe.rdb.sharding.executor.PreparedStatementExecutor$4.execute(PreparedStatementExecutor.java:115)
	at com.dangdang.ddframe.rdb.sharding.executor.ExecutorEngine$1.call(ExecutorEngine.java:86)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2018-11-29 14:50:44,272 DEBUG spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14f232c4]
2018-11-29 14:50:44,272 DEBUG spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14f232c4]
2018-11-29 14:50:44,272 DEBUG spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14f232c4]
2018-11-29 14:50:44,272 DEBUG datasource.DataSourceTransactionManager - Initiating transaction rollback
2018-11-29 14:50:44,273 DEBUG datasource.DataSourceTransactionManager - Rolling back JDBC transaction on Connection [com.dangdang.ddframe.rdb.sharding.jdbc.ShardingConnection@747f281]
2018-11-29 14:50:44,275 DEBUG datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [com.dangdang.ddframe.rdb.sharding.jdbc.ShardingConnection@747f281]
2018-11-29 14:50:44,275 DEBUG datasource.DataSourceTransactionManager - Releasing JDBC Connection [com.dangdang.ddframe.rdb.sharding.jdbc.ShardingConnection@747f281] after transaction
2018-11-29 14:50:44,275 DEBUG datasource.DataSourceUtils - Returning JDBC Connection to DataSource
2018-11-29 14:50:44,278 DEBUG support.DirtiesContextTestExecutionListener - After test method: context [DefaultTestContext@3c756e4d testClass = ShardingJdbcMybatisTest, testInstance = com.lyz.sharding.test.ShardingJdbcMybatisTest@7c0e2abd, testMethod = testFindAll@ShardingJdbcMybatisTest, testException = org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: com.dangdang.ddframe.rdb.sharding.exception.ShardingJdbcException: java.util.concurrent.ExecutionException: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Table 'hr_0.t_user_01' doesn't exist
### The error may exist in file [D:\sharding-jdbc-mybatis\target\classes\config\mapper\UserMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: select         id,user_id,name,age      from t_user
### Cause: com.dangdang.ddframe.rdb.sharding.exception.ShardingJdbcException: java.util.concurrent.ExecutionException: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Table 'hr_0.t_user_01' doesn't exist, mergedContextConfiguration = [MergedContextConfiguration@48eff760 testClass = ShardingJdbcMybatisTest, locations = '{classpath*:config/spring/spring-database.xml, classpath*:config/spring/spring-sharding.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]], class dirties context [false], class mode [null], method dirties context [false].
2018-11-29 14:50:44,294 DEBUG support.DirtiesContextTestExecutionListener - After test class: context [DefaultTestContext@3c756e4d testClass = ShardingJdbcMybatisTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@48eff760 testClass = ShardingJdbcMybatisTest, locations = '{classpath*:config/spring/spring-database.xml, classpath*:config/spring/spring-sharding.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]], dirtiesContext [false].
2018-11-29 14:50:44,296 INFO  support.GenericApplicationContext - Closing org.springframework.context.support.GenericApplicationContext@5c7fa833: startup date [Thu Nov 29 14:50:42 CST 2018]; root of context hierarchy
2018-11-29 14:50:44,296 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'sqlSessionFactory'
2018-11-29 14:50:44,296 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'lifecycleProcessor'
2018-11-29 14:50:44,296 DEBUG support.DefaultListableBeanFactory - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@491666ad: defining beans [org.springframework.beans.factory.config.PropertyPlaceholderConfigurer#0,hr_0,hr_1,studentServiceImpl,userServiceImpl,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.mybatis.spring.mapper.MapperScannerConfigurer#0,sqlSessionFactory,dataSourceRule,userTableRule,userDatabaseShardingStrategy,userTableShardingStrategy,studentTableRule,studentDatabaseShardingStrategy,studentTableShardingStrategy,shardingRule,shardingDataSource,transactionManager,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor,org.springframework.context.annotation.ConfigurationClassPostProcessor.enhancedConfigurationProcessor,studentMapper,userMapper]; root of factory hierarchy
2018-11-29 14:50:44,296 DEBUG support.DefaultListableBeanFactory - Retrieved dependent beans for bean 'userServiceImpl': [com.lyz.sharding.test.ShardingJdbcMybatisTest]
2018-11-29 14:50:44,297 DEBUG support.DefaultListableBeanFactory - Retrieved dependent beans for bean 'com.lyz.sharding.algorithm.StudentSingleKeyTableShardingAlgorithm#28c4711c': [studentTableShardingStrategy]
2018-11-29 14:50:44,297 DEBUG support.DefaultListableBeanFactory - Retrieved dependent beans for bean 'com.lyz.sharding.algorithm.StudentSingleKeyDatabaseShardingAlgorithm#38364841': [studentDatabaseShardingStrategy]
2018-11-29 14:50:44,297 DEBUG support.DefaultListableBeanFactory - Retrieved dependent beans for bean 'com.lyz.sharding.algorithm.UserSingleKeyTableShardingAlgorithm#6385cb26': [userTableShardingStrategy]
2018-11-29 14:50:44,298 DEBUG support.DefaultListableBeanFactory - Retrieved dependent beans for bean 'com.lyz.sharding.algorithm.UserSingleKeyDatabaseShardingAlgorithm#49070868': [userDatabaseShardingStrategy]
2018-11-29 14:50:44,298 DEBUG support.DisposableBeanAdapter - Invoking destroy method 'close' on bean with name 'hr_1'
2018-11-29 14:50:44,301 INFO  pool.DruidDataSource - {dataSource-2} closed
2018-11-29 14:50:44,301 DEBUG support.DisposableBeanAdapter - Invoking destroy method 'close' on bean with name 'hr_0'
2018-11-29 14:50:44,302 INFO  pool.DruidDataSource - {dataSource-1} closed
2018-11-29 14:51:01,702 DEBUG junit4.SpringJUnit4ClassRunner - SpringJUnit4ClassRunner constructor called with [class com.lyz.sharding.test.ShardingJdbcMybatisTest].
2018-11-29 14:51:01,719 DEBUG context.BootstrapUtils - Instantiating TestContextBootstrapper from class [org.springframework.test.context.support.DefaultTestContextBootstrapper]
2018-11-29 14:51:01,741 DEBUG support.AbstractDelegatingSmartContextLoader - Delegating to GenericXmlContextLoader to process context configuration [ContextConfigurationAttributes@3b6eb2ec declaringClass = 'com.lyz.sharding.test.ShardingJdbcMybatisTest', classes = '{}', locations = '{classpath*:config/spring/spring-database.xml, classpath*:config/spring/spring-sharding.xml}', inheritLocations = true, initializers = '{}', inheritInitializers = true, name = [null], contextLoaderClass = 'org.springframework.test.context.ContextLoader'].
2018-11-29 14:51:01,743 DEBUG support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [com.lyz.sharding.test.ShardingJdbcMybatisTest]
2018-11-29 14:51:01,747 DEBUG support.DefaultTestContextBootstrapper - @TestExecutionListeners is not present for class [com.lyz.sharding.test.ShardingJdbcMybatisTest]: using defaults.
2018-11-29 14:51:01,752 INFO  support.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2018-11-29 14:51:01,757 INFO  support.DefaultTestContextBootstrapper - Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [javax/servlet/ServletContext]
2018-11-29 14:51:01,767 INFO  support.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@36f6e879, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5a61f5df, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3551a94, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@531be3c5]
2018-11-29 14:51:01,769 DEBUG annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.lyz.sharding.test.ShardingJdbcMybatisTest]
2018-11-29 14:51:01,769 DEBUG annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.lyz.sharding.test.ShardingJdbcMybatisTest]
2018-11-29 14:51:01,773 DEBUG annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.lyz.sharding.test.ShardingJdbcMybatisTest]
2018-11-29 14:51:01,773 DEBUG annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.lyz.sharding.test.ShardingJdbcMybatisTest]
2018-11-29 14:51:01,774 DEBUG annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.lyz.sharding.test.ShardingJdbcMybatisTest]
2018-11-29 14:51:01,774 DEBUG annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.lyz.sharding.test.ShardingJdbcMybatisTest]
2018-11-29 14:51:01,775 DEBUG annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.lyz.sharding.test.ShardingJdbcMybatisTest]
2018-11-29 14:51:01,780 DEBUG annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.lyz.sharding.test.ShardingJdbcMybatisTest]
2018-11-29 14:51:01,781 DEBUG annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.lyz.sharding.test.ShardingJdbcMybatisTest]
2018-11-29 14:51:01,781 DEBUG annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.lyz.sharding.test.ShardingJdbcMybatisTest]
2018-11-29 14:51:01,783 DEBUG support.DependencyInjectionTestExecutionListener - Performing dependency injection for test context [[DefaultTestContext@3c756e4d testClass = ShardingJdbcMybatisTest, testInstance = com.lyz.sharding.test.ShardingJdbcMybatisTest@7c0e2abd, testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@48eff760 testClass = ShardingJdbcMybatisTest, locations = '{classpath*:config/spring/spring-database.xml, classpath*:config/spring/spring-sharding.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]].
2018-11-29 14:51:01,783 DEBUG support.AbstractDelegatingSmartContextLoader - Delegating to GenericXmlContextLoader to load context from [MergedContextConfiguration@48eff760 testClass = ShardingJdbcMybatisTest, locations = '{classpath*:config/spring/spring-database.xml, classpath*:config/spring/spring-sharding.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]].
2018-11-29 14:51:01,783 DEBUG support.AbstractGenericContextLoader - Loading ApplicationContext for merged context configuration [[MergedContextConfiguration@48eff760 testClass = ShardingJdbcMybatisTest, locations = '{classpath*:config/spring/spring-database.xml, classpath*:config/spring/spring-sharding.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2018-11-29 14:51:01,864 DEBUG env.StandardEnvironment - Adding [systemProperties] PropertySource with lowest search precedence
2018-11-29 14:51:01,865 DEBUG env.StandardEnvironment - Adding [systemEnvironment] PropertySource with lowest search precedence
2018-11-29 14:51:01,866 DEBUG env.StandardEnvironment - Initialized StandardEnvironment with PropertySources [systemProperties,systemEnvironment]
2018-11-29 14:51:01,873 INFO  xml.XmlBeanDefinitionReader - Loading XML bean definitions from URL [file:/D:/sharding-jdbc-mybatis/target/classes/config/spring/spring-database.xml]
2018-11-29 14:51:01,876 DEBUG xml.DefaultDocumentLoader - Using JAXP provider [com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderFactoryImpl]
2018-11-29 14:51:01,900 DEBUG xml.PluggableSchemaResolver - Loading schema mappings from [META-INF/spring.schemas]
2018-11-29 14:51:01,903 DEBUG xml.PluggableSchemaResolver - Loaded schema mappings: {http://www.springframework.org/schema/tx/spring-tx-2.5.xsd=org/springframework/transaction/config/spring-tx-2.5.xsd, http://www.springframework.org/schema/aop/spring-aop-4.1.xsd=org/springframework/aop/config/spring-aop-4.1.xsd, http://www.springframework.org/schema/context/spring-context-3.1.xsd=org/springframework/context/config/spring-context-3.1.xsd, http://www.springframework.org/schema/jdbc/spring-jdbc-4.1.xsd=org/springframework/jdbc/config/spring-jdbc-4.1.xsd, http://www.springframework.org/schema/util/spring-util-3.0.xsd=org/springframework/beans/factory/xml/spring-util-3.0.xsd, http://www.springframework.org/schema/tool/spring-tool.xsd=org/springframework/beans/factory/xml/spring-tool-4.1.xsd, http://www.springframework.org/schema/aop/spring-aop-3.2.xsd=org/springframework/aop/config/spring-aop-3.2.xsd, http://mybatis.org/schema/mybatis-spring-1.2.xsd=org/mybatis/spring/config/mybatis-spring-1.2.xsd, http://www.springframework.org/schema/lang/spring-lang-4.1.xsd=org/springframework/scripting/config/spring-lang-4.1.xsd, http://www.springframework.org/schema/context/spring-context-4.0.xsd=org/springframework/context/config/spring-context-4.0.xsd, http://www.springframework.org/schema/tool/spring-tool-4.1.xsd=org/springframework/beans/factory/xml/spring-tool-4.1.xsd, http://www.springframework.org/schema/lang/spring-lang-3.2.xsd=org/springframework/scripting/config/spring-lang-3.2.xsd, http://www.springframework.org/schema/cache/spring-cache-3.2.xsd=org/springframework/cache/config/spring-cache-3.2.xsd, http://www.springframework.org/schema/jee/spring-jee-4.1.xsd=org/springframework/ejb/config/spring-jee-4.1.xsd, http://www.springframework.org/schema/jdbc/spring-jdbc-3.1.xsd=org/springframework/jdbc/config/spring-jdbc-3.1.xsd, http://www.springframework.org/schema/util/spring-util-2.0.xsd=org/springframework/beans/factory/xml/spring-util-2.0.xsd, http://www.springframework.org/schema/tool/spring-tool-3.2.xsd=org/springframework/beans/factory/xml/spring-tool-3.2.xsd, http://www.springframework.org/schema/context/spring-context.xsd=org/springframework/context/config/spring-context-4.1.xsd, http://www.springframework.org/schema/cache/spring-cache-4.1.xsd=org/springframework/cache/config/spring-cache-4.1.xsd, http://www.springframework.org/schema/aop/spring-aop-4.0.xsd=org/springframework/aop/config/spring-aop-4.0.xsd, http://www.springframework.org/schema/jee/spring-jee-3.2.xsd=org/springframework/ejb/config/spring-jee-3.2.xsd, http://www.springframework.org/schema/context/spring-context-3.0.xsd=org/springframework/context/config/spring-context-3.0.xsd, http://www.springframework.org/schema/jdbc/spring-jdbc-4.0.xsd=org/springframework/jdbc/config/spring-jdbc-4.0.xsd, http://www.springframework.org/schema/util/spring-util-2.5.xsd=org/springframework/beans/factory/xml/spring-util-2.5.xsd, http://www.springframework.org/schema/beans/spring-beans-3.2.xsd=org/springframework/beans/factory/xml/spring-beans-3.2.xsd, http://www.springframework.org/schema/aop/spring-aop-3.1.xsd=org/springframework/aop/config/spring-aop-3.1.xsd, http://www.springframework.org/schema/lang/spring-lang-4.0.xsd=org/springframework/scripting/config/spring-lang-4.0.xsd, http://www.springframework.org/schema/beans/spring-beans-4.1.xsd=org/springframework/beans/factory/xml/spring-beans-4.1.xsd, http://www.springframework.org/schema/tool/spring-tool-4.0.xsd=org/springframework/beans/factory/xml/spring-tool-4.0.xsd, http://www.springframework.org/schema/tx/spring-tx-3.2.xsd=org/springframework/transaction/config/spring-tx-3.2.xsd, http://www.springframework.org/schema/lang/spring-lang-3.1.xsd=org/springframework/scripting/config/spring-lang-3.1.xsd, http://www.springframework.org/schema/cache/spring-cache-3.1.xsd=org/springframework/cache/config/spring-cache-3.1.xsd, http://www.springframework.org/schema/jee/spring-jee-4.0.xsd=org/springframework/ejb/config/spring-jee-4.0.xsd, http://www.springframework.org/schema/jdbc/spring-jdbc-3.0.xsd=org/springframework/jdbc/config/spring-jdbc-3.0.xsd, http://www.springframework.org/schema/task/spring-task-4.1.xsd=org/springframework/scheduling/config/spring-task-4.1.xsd, http://www.springframework.org/schema/jdbc/spring-jdbc.xsd=org/springframework/jdbc/config/spring-jdbc-4.1.xsd, http://www.springframework.org/schema/tool/spring-tool-3.1.xsd=org/springframework/beans/factory/xml/spring-tool-3.1.xsd, http://www.springframework.org/schema/tx/spring-tx-4.1.xsd=org/springframework/transaction/config/spring-tx-4.1.xsd, http://www.springframework.org/schema/cache/spring-cache-4.0.xsd=org/springframework/cache/config/spring-cache-4.0.xsd, http://www.springframework.org/schema/jee/spring-jee-3.1.xsd=org/springframework/ejb/config/spring-jee-3.1.xsd, http://www.springframework.org/schema/task/spring-task-3.2.xsd=org/springframework/scheduling/config/spring-task-3.2.xsd, http://www.springframework.org/schema/beans/spring-beans-3.1.xsd=org/springframework/beans/factory/xml/spring-beans-3.1.xsd, http://www.springframework.org/schema/util/spring-util.xsd=org/springframework/beans/factory/xml/spring-util-4.1.xsd, http://www.springframework.org/schema/aop/spring-aop-3.0.xsd=org/springframework/aop/config/spring-aop-3.0.xsd, http://www.springframework.org/schema/beans/spring-beans-4.0.xsd=org/springframework/beans/factory/xml/spring-beans-4.0.xsd, http://www.springframework.org/schema/beans/spring-beans.xsd=org/springframework/beans/factory/xml/spring-beans-4.1.xsd, http://www.springframework.org/schema/tx/spring-tx-3.1.xsd=org/springframework/transaction/config/spring-tx-3.1.xsd, http://www.springframework.org/schema/lang/spring-lang-3.0.xsd=org/springframework/scripting/config/spring-lang-3.0.xsd, http://mybatis.org/schema/mybatis-spring.xsd=org/mybatis/spring/config/mybatis-spring-1.2.xsd, http://www.springframework.org/schema/context/spring-context-2.5.xsd=org/springframework/context/config/spring-context-2.5.xsd, http://www.springframework.org/schema/task/spring-task-4.0.xsd=org/springframework/scheduling/config/spring-task-4.0.xsd, http://www.springframework.org/schema/tool/spring-tool-3.0.xsd=org/springframework/beans/factory/xml/spring-tool-3.0.xsd, http://www.springframework.org/schema/tx/spring-tx-4.0.xsd=org/springframework/transaction/config/spring-tx-4.0.xsd, http://www.springframework.org/schema/aop/spring-aop-2.0.xsd=org/springframework/aop/config/spring-aop-2.0.xsd, http://www.springframework.org/schema/jee/spring-jee-3.0.xsd=org/springframework/ejb/config/spring-jee-3.0.xsd, http://www.springframework.org/schema/util/spring-util-4.1.xsd=org/springframework/beans/factory/xml/spring-util-4.1.xsd, http://www.springframework.org/schema/task/spring-task-3.1.xsd=org/springframework/scheduling/config/spring-task-3.1.xsd, http://www.springframework.org/schema/beans/spring-beans-3.0.xsd=org/springframework/beans/factory/xml/spring-beans-3.0.xsd, http://www.springframework.org/schema/jee/spring-jee.xsd=org/springframework/ejb/config/spring-jee-4.1.xsd, http://www.springframework.org/schema/aop/spring-aop-2.5.xsd=org/springframework/aop/config/spring-aop-2.5.xsd, http://www.springframework.org/schema/lang/spring-lang-2.0.xsd=org/springframework/scripting/config/spring-lang-2.0.xsd, http://www.springframework.org/schema/util/spring-util-3.2.xsd=org/springframework/beans/factory/xml/spring-util-3.2.xsd, http://www.springframework.org/schema/task/spring-task.xsd=org/springframework/scheduling/config/spring-task-4.1.xsd, http://www.springframework.org/schema/tool/spring-tool-2.0.xsd=org/springframework/beans/factory/xml/spring-tool-2.0.xsd, http://www.springframework.org/schema/tx/spring-tx-3.0.xsd=org/springframework/transaction/config/spring-tx-3.0.xsd, http://www.springframework.org/schema/lang/spring-lang-2.5.xsd=org/springframework/scripting/config/spring-lang-2.5.xsd, http://www.springframework.org/schema/jee/spring-jee-2.0.xsd=org/springframework/ejb/config/spring-jee-2.0.xsd, http://www.springframework.org/schema/tool/spring-tool-2.5.xsd=org/springframework/beans/factory/xml/spring-tool-2.5.xsd, http://www.springframework.org/schema/jee/spring-jee-2.5.xsd=org/springframework/ejb/config/spring-jee-2.5.xsd, http://www.springframework.org/schema/util/spring-util-4.0.xsd=org/springframework/beans/factory/xml/spring-util-4.0.xsd, http://www.springframework.org/schema/task/spring-task-3.0.xsd=org/springframework/scheduling/config/spring-task-3.0.xsd, http://www.springframework.org/schema/lang/spring-lang.xsd=org/springframework/scripting/config/spring-lang-4.1.xsd, http://www.springframework.org/schema/context/spring-context-3.2.xsd=org/springframework/context/config/spring-context-3.2.xsd, http://www.springframework.org/schema/util/spring-util-3.1.xsd=org/springframework/beans/factory/xml/spring-util-3.1.xsd, http://www.springframework.org/schema/beans/spring-beans-2.0.xsd=org/springframework/beans/factory/xml/spring-beans-2.0.xsd, http://www.springframework.org/schema/cache/spring-cache.xsd=org/springframework/cache/config/spring-cache-4.1.xsd, http://www.springframework.org/schema/tx/spring-tx.xsd=org/springframework/transaction/config/spring-tx-4.1.xsd, http://www.springframework.org/schema/context/spring-context-4.1.xsd=org/springframework/context/config/spring-context-4.1.xsd, http://www.springframework.org/schema/beans/spring-beans-2.5.xsd=org/springframework/beans/factory/xml/spring-beans-2.5.xsd, http://www.springframework.org/schema/tx/spring-tx-2.0.xsd=org/springframework/transaction/config/spring-tx-2.0.xsd, http://www.alibaba.com/schema/stat.xsd=META-INF/stat.xsd, http://www.springframework.org/schema/jdbc/spring-jdbc-3.2.xsd=org/springframework/jdbc/config/spring-jdbc-3.2.xsd, http://www.springframework.org/schema/aop/spring-aop.xsd=org/springframework/aop/config/spring-aop-4.1.xsd}
2018-11-29 14:51:01,907 DEBUG xml.PluggableSchemaResolver - Found XML schema [http://www.springframework.org/schema/beans/spring-beans-4.0.xsd] in classpath: org/springframework/beans/factory/xml/spring-beans-4.0.xsd
2018-11-29 14:51:01,954 DEBUG xml.DefaultBeanDefinitionDocumentReader - Loading bean definitions
2018-11-29 14:51:01,969 DEBUG xml.BeanDefinitionParserDelegate - Neither XML 'id' nor 'name' specified - using generated bean name [org.springframework.beans.factory.config.PropertyPlaceholderConfigurer#0]
2018-11-29 14:51:01,971 DEBUG xml.BeanDefinitionParserDelegate - No XML 'id' specified - using 'hr_0' as bean name and [] as aliases
2018-11-29 14:51:01,973 DEBUG xml.BeanDefinitionParserDelegate - No XML 'id' specified - using 'hr_1' as bean name and [] as aliases
2018-11-29 14:51:01,974 DEBUG xml.XmlBeanDefinitionReader - Loaded 3 bean definitions from location pattern [classpath*:config/spring/spring-database.xml]
2018-11-29 14:51:01,974 INFO  xml.XmlBeanDefinitionReader - Loading XML bean definitions from URL [file:/D:/sharding-jdbc-mybatis/target/classes/config/spring/spring-sharding.xml]
2018-11-29 14:51:01,975 DEBUG xml.DefaultDocumentLoader - Using JAXP provider [com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderFactoryImpl]
2018-11-29 14:51:01,977 DEBUG xml.PluggableSchemaResolver - Found XML schema [http://www.springframework.org/schema/beans/spring-beans-4.0.xsd] in classpath: org/springframework/beans/factory/xml/spring-beans-4.0.xsd
2018-11-29 14:51:01,996 DEBUG xml.PluggableSchemaResolver - Found XML schema [http://www.springframework.org/schema/context/spring-context-4.0.xsd] in classpath: org/springframework/context/config/spring-context-4.0.xsd
2018-11-29 14:51:02,001 DEBUG xml.PluggableSchemaResolver - Found XML schema [http://www.springframework.org/schema/tool/spring-tool-4.0.xsd] in classpath: org/springframework/beans/factory/xml/spring-tool-4.0.xsd
2018-11-29 14:51:02,015 DEBUG xml.PluggableSchemaResolver - Found XML schema [http://www.springframework.org/schema/tx/spring-tx-4.0.xsd] in classpath: org/springframework/transaction/config/spring-tx-4.0.xsd
2018-11-29 14:51:02,019 DEBUG xml.DefaultBeanDefinitionDocumentReader - Loading bean definitions
2018-11-29 14:51:02,021 DEBUG xml.DefaultNamespaceHandlerResolver - Loaded NamespaceHandler mappings: {http://www.springframework.org/schema/p=org.springframework.beans.factory.xml.SimplePropertyNamespaceHandler, http://www.springframework.org/schema/util=org.springframework.beans.factory.xml.UtilNamespaceHandler, http://www.alibaba.com/schema/stat=com.alibaba.druid.support.spring.stat.config.DruidStatNamespaceHandler, http://www.springframework.org/schema/jee=org.springframework.ejb.config.JeeNamespaceHandler, http://www.springframework.org/schema/aop=org.springframework.aop.config.AopNamespaceHandler, http://www.springframework.org/schema/jdbc=org.springframework.jdbc.config.JdbcNamespaceHandler, http://www.springframework.org/schema/cache=org.springframework.cache.config.CacheNamespaceHandler, http://mybatis.org/schema/mybatis-spring=org.mybatis.spring.config.NamespaceHandler, http://www.springframework.org/schema/c=org.springframework.beans.factory.xml.SimpleConstructorNamespaceHandler, http://www.springframework.org/schema/tx=org.springframework.transaction.config.TxNamespaceHandler, http://www.springframework.org/schema/task=org.springframework.scheduling.config.TaskNamespaceHandler, http://www.springframework.org/schema/lang=org.springframework.scripting.config.LangNamespaceHandler, http://www.springframework.org/schema/context=org.springframework.context.config.ContextNamespaceHandler}
2018-11-29 14:51:02,038 DEBUG support.PathMatchingResourcePatternResolver - Looking for matching resources in directory tree [D:\sharding-jdbc-mybatis\target\test-classes\com\lyz\sharding]
2018-11-29 14:51:02,038 DEBUG support.PathMatchingResourcePatternResolver - Searching directory [D:\sharding-jdbc-mybatis\target\test-classes\com\lyz\sharding] for files matching pattern [D:/sharding-jdbc-mybatis/target/test-classes/com/lyz/sharding/**/*.class]
2018-11-29 14:51:02,039 DEBUG support.PathMatchingResourcePatternResolver - Searching directory [D:\sharding-jdbc-mybatis\target\test-classes\com\lyz\sharding\test] for files matching pattern [D:/sharding-jdbc-mybatis/target/test-classes/com/lyz/sharding/**/*.class]
2018-11-29 14:51:02,041 DEBUG support.PathMatchingResourcePatternResolver - Looking for matching resources in directory tree [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding]
2018-11-29 14:51:02,041 DEBUG support.PathMatchingResourcePatternResolver - Searching directory [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding] for files matching pattern [D:/sharding-jdbc-mybatis/target/classes/com/lyz/sharding/**/*.class]
2018-11-29 14:51:02,041 DEBUG support.PathMatchingResourcePatternResolver - Searching directory [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\algorithm] for files matching pattern [D:/sharding-jdbc-mybatis/target/classes/com/lyz/sharding/**/*.class]
2018-11-29 14:51:02,042 DEBUG support.PathMatchingResourcePatternResolver - Searching directory [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\entity] for files matching pattern [D:/sharding-jdbc-mybatis/target/classes/com/lyz/sharding/**/*.class]
2018-11-29 14:51:02,042 DEBUG support.PathMatchingResourcePatternResolver - Searching directory [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\mapper] for files matching pattern [D:/sharding-jdbc-mybatis/target/classes/com/lyz/sharding/**/*.class]
2018-11-29 14:51:02,042 DEBUG support.PathMatchingResourcePatternResolver - Searching directory [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\service] for files matching pattern [D:/sharding-jdbc-mybatis/target/classes/com/lyz/sharding/**/*.class]
2018-11-29 14:51:02,042 DEBUG support.PathMatchingResourcePatternResolver - Searching directory [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\service\impl] for files matching pattern [D:/sharding-jdbc-mybatis/target/classes/com/lyz/sharding/**/*.class]
2018-11-29 14:51:02,043 DEBUG support.PathMatchingResourcePatternResolver - Resolved location pattern [classpath*:com/lyz/sharding/**/*.class] to resources [file [D:\sharding-jdbc-mybatis\target\test-classes\com\lyz\sharding\test\ShardingJdbcMybatisTest.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\algorithm\StudentSingleKeyDatabaseShardingAlgorithm.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\algorithm\StudentSingleKeyTableShardingAlgorithm.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\algorithm\UserSingleKeyDatabaseShardingAlgorithm.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\algorithm\UserSingleKeyTableShardingAlgorithm.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\entity\Student.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\entity\User.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\mapper\StudentMapper.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\mapper\UserMapper.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\service\impl\StudentServiceImpl.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\service\impl\UserServiceImpl.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\service\StudentService.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\service\UserService.class]]
2018-11-29 14:51:02,072 DEBUG annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\service\impl\StudentServiceImpl.class]
2018-11-29 14:51:02,076 DEBUG annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\service\impl\UserServiceImpl.class]
2018-11-29 14:51:02,113 DEBUG xml.BeanDefinitionParserDelegate - Neither XML 'id' nor 'name' specified - using generated bean name [org.mybatis.spring.mapper.MapperScannerConfigurer#0]
2018-11-29 14:51:02,120 DEBUG xml.BeanDefinitionParserDelegate - Neither XML 'id' nor 'name' specified - using generated bean name [com.lyz.sharding.algorithm.UserSingleKeyDatabaseShardingAlgorithm#49070868]
2018-11-29 14:51:02,120 DEBUG xml.BeanDefinitionParserDelegate - Neither XML 'id' nor 'name' specified - using generated bean name [com.lyz.sharding.algorithm.UserSingleKeyTableShardingAlgorithm#6385cb26]
2018-11-29 14:51:02,120 DEBUG xml.BeanDefinitionParserDelegate - Neither XML 'id' nor 'name' specified - using generated bean name [com.lyz.sharding.algorithm.StudentSingleKeyDatabaseShardingAlgorithm#38364841]
2018-11-29 14:51:02,121 DEBUG xml.BeanDefinitionParserDelegate - Neither XML 'id' nor 'name' specified - using generated bean name [com.lyz.sharding.algorithm.StudentSingleKeyTableShardingAlgorithm#28c4711c]
2018-11-29 14:51:02,133 DEBUG xml.XmlBeanDefinitionReader - Loaded 22 bean definitions from location pattern [classpath*:config/spring/spring-sharding.xml]
2018-11-29 14:51:02,143 INFO  support.GenericApplicationContext - Refreshing org.springframework.context.support.GenericApplicationContext@5c7fa833: startup date [Thu Nov 29 14:51:02 CST 2018]; root of context hierarchy
2018-11-29 14:51:02,144 DEBUG support.GenericApplicationContext - Bean factory for org.springframework.context.support.GenericApplicationContext@5c7fa833: org.springframework.beans.factory.support.DefaultListableBeanFactory@491666ad: defining beans [org.springframework.beans.factory.config.PropertyPlaceholderConfigurer#0,hr_0,hr_1,studentServiceImpl,userServiceImpl,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.mybatis.spring.mapper.MapperScannerConfigurer#0,sqlSessionFactory,dataSourceRule,userTableRule,userDatabaseShardingStrategy,userTableShardingStrategy,studentTableRule,studentDatabaseShardingStrategy,studentTableShardingStrategy,shardingRule,shardingDataSource,transactionManager,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor]; root of factory hierarchy
2018-11-29 14:51:02,219 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2018-11-29 14:51:02,221 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2018-11-29 14:51:02,241 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor' to allow for resolving potential circular references
2018-11-29 14:51:02,243 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2018-11-29 14:51:02,377 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.mybatis.spring.mapper.MapperScannerConfigurer#0'
2018-11-29 14:51:02,377 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'org.mybatis.spring.mapper.MapperScannerConfigurer#0'
2018-11-29 14:51:02,377 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'org.mybatis.spring.mapper.MapperScannerConfigurer#0' to allow for resolving potential circular references
2018-11-29 14:51:02,418 DEBUG support.DefaultListableBeanFactory - Invoking afterPropertiesSet() on bean with name 'org.mybatis.spring.mapper.MapperScannerConfigurer#0'
2018-11-29 14:51:02,418 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'org.mybatis.spring.mapper.MapperScannerConfigurer#0'
2018-11-29 14:51:02,419 DEBUG env.StandardEnvironment - Adding [systemProperties] PropertySource with lowest search precedence
2018-11-29 14:51:02,419 DEBUG env.StandardEnvironment - Adding [systemEnvironment] PropertySource with lowest search precedence
2018-11-29 14:51:02,419 DEBUG env.StandardEnvironment - Initialized StandardEnvironment with PropertySources [systemProperties,systemEnvironment]
2018-11-29 14:51:02,421 DEBUG support.PathMatchingResourcePatternResolver - Looking for matching resources in directory tree [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\mapper]
2018-11-29 14:51:02,422 DEBUG support.PathMatchingResourcePatternResolver - Searching directory [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\mapper] for files matching pattern [D:/sharding-jdbc-mybatis/target/classes/com/lyz/sharding/mapper/**/*.class]
2018-11-29 14:51:02,423 DEBUG support.PathMatchingResourcePatternResolver - Resolved location pattern [classpath*:com/lyz/sharding/mapper/**/*.class] to resources [file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\mapper\StudentMapper.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\mapper\UserMapper.class]]
2018-11-29 14:51:02,424 DEBUG mapper.ClassPathMapperScanner - Identified candidate component class: file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\mapper\StudentMapper.class]
2018-11-29 14:51:02,424 DEBUG mapper.ClassPathMapperScanner - Identified candidate component class: file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\mapper\UserMapper.class]
2018-11-29 14:51:02,425 DEBUG mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'studentMapper' and 'com.lyz.sharding.mapper.StudentMapper' mapperInterface
2018-11-29 14:51:02,426 DEBUG mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.lyz.sharding.mapper.UserMapper' mapperInterface
2018-11-29 14:51:02,428 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.beans.factory.config.PropertyPlaceholderConfigurer#0'
2018-11-29 14:51:02,428 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.beans.factory.config.PropertyPlaceholderConfigurer#0'
2018-11-29 14:51:02,429 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.beans.factory.config.PropertyPlaceholderConfigurer#0' to allow for resolving potential circular references
2018-11-29 14:51:02,434 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.beans.factory.config.PropertyPlaceholderConfigurer#0'
2018-11-29 14:51:02,434 INFO  config.PropertyPlaceholderConfigurer - Loading properties file from class path resource [config/resource/jdbc_dev.properties]
2018-11-29 14:51:02,438 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
2018-11-29 14:51:02,438 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
2018-11-29 14:51:03,289 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor' to allow for resolving potential circular references
2018-11-29 14:51:03,290 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
2018-11-29 14:51:03,290 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalRequiredAnnotationProcessor'
2018-11-29 14:51:03,290 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.internalRequiredAnnotationProcessor'
2018-11-29 14:51:03,290 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.internalRequiredAnnotationProcessor' to allow for resolving potential circular references
2018-11-29 14:51:03,290 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.internalRequiredAnnotationProcessor'
2018-11-29 14:51:03,290 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
2018-11-29 14:51:03,291 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
2018-11-29 14:51:03,294 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor' to allow for resolving potential circular references
2018-11-29 14:51:03,294 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
2018-11-29 14:51:03,294 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor'
2018-11-29 14:51:03,294 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor'
2018-11-29 14:51:03,294 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor' to allow for resolving potential circular references
2018-11-29 14:51:03,294 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor'
2018-11-29 14:51:03,294 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.enhancedConfigurationProcessor'
2018-11-29 14:51:03,294 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.enhancedConfigurationProcessor'
2018-11-29 14:51:03,295 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.enhancedConfigurationProcessor' to allow for resolving potential circular references
2018-11-29 14:51:03,295 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.enhancedConfigurationProcessor'
2018-11-29 14:51:03,295 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.aop.config.internalAutoProxyCreator'
2018-11-29 14:51:03,295 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.aop.config.internalAutoProxyCreator'
2018-11-29 14:51:03,302 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.aop.config.internalAutoProxyCreator' to allow for resolving potential circular references
2018-11-29 14:51:03,314 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.aop.config.internalAutoProxyCreator'
2018-11-29 14:51:03,316 DEBUG support.GenericApplicationContext - Unable to locate MessageSource with name 'messageSource': using default [org.springframework.context.support.DelegatingMessageSource@6d763516]
2018-11-29 14:51:03,318 DEBUG support.GenericApplicationContext - Unable to locate ApplicationEventMulticaster with name 'applicationEventMulticaster': using default [org.springframework.context.event.SimpleApplicationEventMulticaster@5c5eefef]
2018-11-29 14:51:03,321 DEBUG support.DefaultListableBeanFactory - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@491666ad: defining beans [org.springframework.beans.factory.config.PropertyPlaceholderConfigurer#0,hr_0,hr_1,studentServiceImpl,userServiceImpl,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.mybatis.spring.mapper.MapperScannerConfigurer#0,sqlSessionFactory,dataSourceRule,userTableRule,userDatabaseShardingStrategy,userTableShardingStrategy,studentTableRule,studentDatabaseShardingStrategy,studentTableShardingStrategy,shardingRule,shardingDataSource,transactionManager,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor,org.springframework.context.annotation.ConfigurationClassPostProcessor.enhancedConfigurationProcessor,studentMapper,userMapper]; root of factory hierarchy
2018-11-29 14:51:03,321 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.beans.factory.config.PropertyPlaceholderConfigurer#0'
2018-11-29 14:51:03,321 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'hr_0'
2018-11-29 14:51:03,322 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'hr_0'
2018-11-29 14:51:03,359 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'hr_0' to allow for resolving potential circular references
2018-11-29 14:51:03,426 DEBUG support.DefaultListableBeanFactory - Invoking init method  'init' on bean with name 'hr_0'
2018-11-29 14:51:03,480 INFO  pool.DruidDataSource - {dataSource-1} inited
2018-11-29 14:51:03,481 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:03,481 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:03,482 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.transaction.config.internalTransactionAdvisor' to allow for resolving potential circular references
2018-11-29 14:51:03,484 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0'
2018-11-29 14:51:03,485 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0'
2018-11-29 14:51:03,485 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0' to allow for resolving potential circular references
2018-11-29 14:51:03,487 DEBUG autoproxy.BeanFactoryAdvisorRetrievalHelper - Skipping currently created advisor 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:03,489 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0'
2018-11-29 14:51:03,489 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:03,497 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'hr_0'
2018-11-29 14:51:03,499 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'hr_1'
2018-11-29 14:51:03,499 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'hr_1'
2018-11-29 14:51:03,502 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'hr_1' to allow for resolving potential circular references
2018-11-29 14:51:03,502 DEBUG support.DefaultListableBeanFactory - Invoking init method  'init' on bean with name 'hr_1'
2018-11-29 14:51:03,503 INFO  pool.DruidDataSource - {dataSource-2} inited
2018-11-29 14:51:03,503 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:03,504 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'hr_1'
2018-11-29 14:51:03,504 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'studentServiceImpl'
2018-11-29 14:51:03,504 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'studentServiceImpl'
2018-11-29 14:51:03,507 DEBUG annotation.InjectionMetadata - Registered injected element on class [com.lyz.sharding.service.impl.StudentServiceImpl]: ResourceElement for public com.lyz.sharding.mapper.StudentMapper com.lyz.sharding.service.impl.StudentServiceImpl.studentMapper
2018-11-29 14:51:03,507 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'studentServiceImpl' to allow for resolving potential circular references
2018-11-29 14:51:03,508 DEBUG annotation.InjectionMetadata - Processing injected method of bean 'studentServiceImpl': ResourceElement for public com.lyz.sharding.mapper.StudentMapper com.lyz.sharding.service.impl.StudentServiceImpl.studentMapper
2018-11-29 14:51:03,508 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'studentMapper'
2018-11-29 14:51:03,508 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'studentMapper'
2018-11-29 14:51:03,509 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'studentMapper' to allow for resolving potential circular references
2018-11-29 14:51:03,514 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'sqlSessionFactory'
2018-11-29 14:51:03,515 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'sqlSessionFactory'
2018-11-29 14:51:03,527 DEBUG logging.LogFactory - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2018-11-29 14:51:03,529 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'sqlSessionFactory' to allow for resolving potential circular references
2018-11-29 14:51:03,532 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'shardingDataSource'
2018-11-29 14:51:03,532 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'shardingDataSource'
2018-11-29 14:51:03,537 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'shardingRule'
2018-11-29 14:51:03,537 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'shardingRule'
2018-11-29 14:51:03,540 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dataSourceRule'
2018-11-29 14:51:03,540 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'dataSourceRule'
2018-11-29 14:51:03,540 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'hr_0'
2018-11-29 14:51:03,540 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'hr_1'
2018-11-29 14:51:03,545 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'dataSourceRule' to allow for resolving potential circular references
2018-11-29 14:51:03,546 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:03,546 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'dataSourceRule'
2018-11-29 14:51:03,547 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userTableRule'
2018-11-29 14:51:03,547 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'userTableRule'
2018-11-29 14:51:03,547 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'dataSourceRule'
2018-11-29 14:51:03,547 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userDatabaseShardingStrategy'
2018-11-29 14:51:03,547 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'userDatabaseShardingStrategy'
2018-11-29 14:51:03,548 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'com.lyz.sharding.algorithm.UserSingleKeyDatabaseShardingAlgorithm#49070868'
2018-11-29 14:51:03,551 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:03,552 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'com.lyz.sharding.algorithm.UserSingleKeyDatabaseShardingAlgorithm#49070868'
2018-11-29 14:51:03,553 DEBUG beans.BeanUtils - No property editor [com.dangdang.ddframe.rdb.sharding.api.strategy.database.MultipleKeysDatabaseShardingAlgorithmEditor] found for type com.dangdang.ddframe.rdb.sharding.api.strategy.database.MultipleKeysDatabaseShardingAlgorithm according to 'Editor' suffix convention
2018-11-29 14:51:03,554 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'userDatabaseShardingStrategy' to allow for resolving potential circular references
2018-11-29 14:51:03,557 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:03,557 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'userDatabaseShardingStrategy'
2018-11-29 14:51:03,557 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userTableShardingStrategy'
2018-11-29 14:51:03,557 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'userTableShardingStrategy'
2018-11-29 14:51:03,558 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'com.lyz.sharding.algorithm.UserSingleKeyTableShardingAlgorithm#6385cb26'
2018-11-29 14:51:03,560 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:03,560 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'com.lyz.sharding.algorithm.UserSingleKeyTableShardingAlgorithm#6385cb26'
2018-11-29 14:51:03,561 DEBUG beans.BeanUtils - No property editor [com.dangdang.ddframe.rdb.sharding.api.strategy.table.MultipleKeysTableShardingAlgorithmEditor] found for type com.dangdang.ddframe.rdb.sharding.api.strategy.table.MultipleKeysTableShardingAlgorithm according to 'Editor' suffix convention
2018-11-29 14:51:03,562 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'userTableShardingStrategy' to allow for resolving potential circular references
2018-11-29 14:51:03,563 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:03,563 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'userTableShardingStrategy'
2018-11-29 14:51:03,564 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'userTableRule' to allow for resolving potential circular references
2018-11-29 14:51:03,566 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:03,566 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'userTableRule'
2018-11-29 14:51:03,566 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'studentTableRule'
2018-11-29 14:51:03,566 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'studentTableRule'
2018-11-29 14:51:03,567 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'dataSourceRule'
2018-11-29 14:51:03,567 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'studentDatabaseShardingStrategy'
2018-11-29 14:51:03,567 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'studentDatabaseShardingStrategy'
2018-11-29 14:51:03,567 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'com.lyz.sharding.algorithm.StudentSingleKeyDatabaseShardingAlgorithm#38364841'
2018-11-29 14:51:03,569 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:03,569 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'com.lyz.sharding.algorithm.StudentSingleKeyDatabaseShardingAlgorithm#38364841'
2018-11-29 14:51:03,570 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'studentDatabaseShardingStrategy' to allow for resolving potential circular references
2018-11-29 14:51:03,570 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:03,570 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'studentDatabaseShardingStrategy'
2018-11-29 14:51:03,570 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'studentTableShardingStrategy'
2018-11-29 14:51:03,570 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'studentTableShardingStrategy'
2018-11-29 14:51:03,570 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'com.lyz.sharding.algorithm.StudentSingleKeyTableShardingAlgorithm#28c4711c'
2018-11-29 14:51:03,573 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:03,573 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'com.lyz.sharding.algorithm.StudentSingleKeyTableShardingAlgorithm#28c4711c'
2018-11-29 14:51:03,574 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'studentTableShardingStrategy' to allow for resolving potential circular references
2018-11-29 14:51:03,574 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:03,574 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'studentTableShardingStrategy'
2018-11-29 14:51:03,574 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'studentTableRule' to allow for resolving potential circular references
2018-11-29 14:51:03,574 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:03,574 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'studentTableRule'
2018-11-29 14:51:03,578 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'shardingRule' to allow for resolving potential circular references
2018-11-29 14:51:03,580 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:03,580 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'shardingRule'
2018-11-29 14:51:03,804 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'shardingDataSource' to allow for resolving potential circular references
2018-11-29 14:51:03,807 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:03,809 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'shardingDataSource'
2018-11-29 14:51:03,810 DEBUG support.PathMatchingResourcePatternResolver - Looking for matching resources in directory tree [D:\sharding-jdbc-mybatis\target\classes\config\mapper]
2018-11-29 14:51:03,810 DEBUG support.PathMatchingResourcePatternResolver - Searching directory [D:\sharding-jdbc-mybatis\target\classes\config\mapper] for files matching pattern [D:/sharding-jdbc-mybatis/target/classes/config/mapper/*Mapper.xml]
2018-11-29 14:51:03,810 DEBUG support.PathMatchingResourcePatternResolver - Resolved location pattern [classpath*:config/mapper/*Mapper.xml] to resources [file [D:\sharding-jdbc-mybatis\target\classes\config\mapper\StudentMapper.xml], file [D:\sharding-jdbc-mybatis\target\classes\config\mapper\UserMapper.xml]]
2018-11-29 14:51:03,811 DEBUG support.DefaultListableBeanFactory - Invoking afterPropertiesSet() on bean with name 'sqlSessionFactory'
2018-11-29 14:51:03,811 DEBUG spring.SqlSessionFactoryBean - Property 'configLocation' not specified, using default MyBatis Configuration
2018-11-29 14:51:03,896 DEBUG spring.SqlSessionFactoryBean - Parsed mapper file: 'file [D:\sharding-jdbc-mybatis\target\classes\config\mapper\StudentMapper.xml]'
2018-11-29 14:51:03,904 DEBUG spring.SqlSessionFactoryBean - Parsed mapper file: 'file [D:\sharding-jdbc-mybatis\target\classes\config\mapper\UserMapper.xml]'
2018-11-29 14:51:03,906 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:03,906 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'sqlSessionFactory'
2018-11-29 14:51:03,906 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:03,912 DEBUG support.DefaultListableBeanFactory - Invoking afterPropertiesSet() on bean with name 'studentMapper'
2018-11-29 14:51:03,913 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:03,913 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'studentMapper'
2018-11-29 14:51:03,914 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:03,915 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:03,916 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'studentServiceImpl'
2018-11-29 14:51:03,916 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userServiceImpl'
2018-11-29 14:51:03,916 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'userServiceImpl'
2018-11-29 14:51:03,918 DEBUG annotation.InjectionMetadata - Registered injected element on class [com.lyz.sharding.service.impl.UserServiceImpl]: ResourceElement for public com.lyz.sharding.mapper.UserMapper com.lyz.sharding.service.impl.UserServiceImpl.userMapper
2018-11-29 14:51:03,918 DEBUG annotation.InjectionMetadata - Registered injected element on class [com.lyz.sharding.service.impl.UserServiceImpl]: ResourceElement for public com.lyz.sharding.mapper.StudentMapper com.lyz.sharding.service.impl.UserServiceImpl.studentMapper
2018-11-29 14:51:03,918 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'userServiceImpl' to allow for resolving potential circular references
2018-11-29 14:51:03,919 DEBUG annotation.InjectionMetadata - Processing injected method of bean 'userServiceImpl': ResourceElement for public com.lyz.sharding.mapper.UserMapper com.lyz.sharding.service.impl.UserServiceImpl.userMapper
2018-11-29 14:51:03,919 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userMapper'
2018-11-29 14:51:03,919 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'userMapper'
2018-11-29 14:51:03,919 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'userMapper' to allow for resolving potential circular references
2018-11-29 14:51:03,919 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'sqlSessionFactory'
2018-11-29 14:51:03,919 DEBUG support.DefaultListableBeanFactory - Invoking afterPropertiesSet() on bean with name 'userMapper'
2018-11-29 14:51:03,919 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:03,919 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'userMapper'
2018-11-29 14:51:03,921 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:03,921 DEBUG annotation.InjectionMetadata - Processing injected method of bean 'userServiceImpl': ResourceElement for public com.lyz.sharding.mapper.StudentMapper com.lyz.sharding.service.impl.UserServiceImpl.studentMapper
2018-11-29 14:51:03,921 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'studentMapper'
2018-11-29 14:51:03,921 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:03,922 DEBUG annotation.AnnotationTransactionAttributeSource - Adding transactional method 'UserServiceImpl.insert' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-11-29 14:51:03,925 DEBUG autoproxy.InfrastructureAdvisorAutoProxyCreator - Creating implicit proxy for bean 'userServiceImpl' with 0 common interceptors and 1 specific interceptors
2018-11-29 14:51:03,926 DEBUG framework.JdkDynamicAopProxy - Creating JDK dynamic proxy: target source is SingletonTargetSource for target object [com.lyz.sharding.service.impl.UserServiceImpl@66ea810]
2018-11-29 14:51:03,928 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'userServiceImpl'
2018-11-29 14:51:03,928 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2018-11-29 14:51:03,928 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
2018-11-29 14:51:03,928 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.internalRequiredAnnotationProcessor'
2018-11-29 14:51:03,928 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
2018-11-29 14:51:03,928 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.mybatis.spring.mapper.MapperScannerConfigurer#0'
2018-11-29 14:51:03,928 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'sqlSessionFactory'
2018-11-29 14:51:03,928 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'dataSourceRule'
2018-11-29 14:51:03,929 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'userTableRule'
2018-11-29 14:51:03,929 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'userDatabaseShardingStrategy'
2018-11-29 14:51:03,929 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'userTableShardingStrategy'
2018-11-29 14:51:03,929 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'studentTableRule'
2018-11-29 14:51:03,929 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'studentDatabaseShardingStrategy'
2018-11-29 14:51:03,929 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'studentTableShardingStrategy'
2018-11-29 14:51:03,929 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'shardingRule'
2018-11-29 14:51:03,929 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'shardingDataSource'
2018-11-29 14:51:03,929 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionManager'
2018-11-29 14:51:03,929 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'transactionManager'
2018-11-29 14:51:03,933 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'transactionManager' to allow for resolving potential circular references
2018-11-29 14:51:03,935 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'shardingDataSource'
2018-11-29 14:51:03,935 DEBUG support.DefaultListableBeanFactory - Invoking afterPropertiesSet() on bean with name 'transactionManager'
2018-11-29 14:51:03,935 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:03,936 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'transactionManager'
2018-11-29 14:51:03,936 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.aop.config.internalAutoProxyCreator'
2018-11-29 14:51:03,936 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0'
2018-11-29 14:51:03,936 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.interceptor.TransactionInterceptor#0'
2018-11-29 14:51:03,936 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.transaction.interceptor.TransactionInterceptor#0'
2018-11-29 14:51:03,937 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.transaction.interceptor.TransactionInterceptor#0' to allow for resolving potential circular references
2018-11-29 14:51:03,939 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0'
2018-11-29 14:51:03,939 DEBUG support.DefaultListableBeanFactory - Invoking afterPropertiesSet() on bean with name 'org.springframework.transaction.interceptor.TransactionInterceptor#0'
2018-11-29 14:51:03,939 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.transaction.interceptor.TransactionInterceptor#0'
2018-11-29 14:51:03,939 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:03,939 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor'
2018-11-29 14:51:03,939 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.enhancedConfigurationProcessor'
2018-11-29 14:51:03,939 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'studentMapper'
2018-11-29 14:51:03,939 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'userMapper'
2018-11-29 14:51:03,940 DEBUG support.GenericApplicationContext - Unable to locate LifecycleProcessor with name 'lifecycleProcessor': using default [org.springframework.context.support.DefaultLifecycleProcessor@21be3395]
2018-11-29 14:51:03,941 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'lifecycleProcessor'
2018-11-29 14:51:03,942 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'sqlSessionFactory'
2018-11-29 14:51:03,943 DEBUG env.PropertySourcesPropertyResolver - Searching for key 'spring.liveBeansView.mbeanDomain' in [systemProperties]
2018-11-29 14:51:03,943 DEBUG env.PropertySourcesPropertyResolver - Searching for key 'spring.liveBeansView.mbeanDomain' in [systemEnvironment]
2018-11-29 14:51:03,944 DEBUG env.PropertySourcesPropertyResolver - Could not find key 'spring.liveBeansView.mbeanDomain' in any property source. Returning [null]
2018-11-29 14:51:03,944 DEBUG context.DefaultCacheAwareContextLoaderDelegate - Storing ApplicationContext in cache under key [[MergedContextConfiguration@48eff760 testClass = ShardingJdbcMybatisTest, locations = '{classpath*:config/spring/spring-database.xml, classpath*:config/spring/spring-sharding.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2018-11-29 14:51:03,945 DEBUG annotation.InjectionMetadata - Processing injected method of bean 'com.lyz.sharding.test.ShardingJdbcMybatisTest': ResourceElement for public com.lyz.sharding.service.UserService com.lyz.sharding.test.ShardingJdbcMybatisTest.userService
2018-11-29 14:51:03,946 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'userServiceImpl'
2018-11-29 14:51:03,947 DEBUG annotation.InjectionMetadata - Processing injected method of bean 'com.lyz.sharding.test.ShardingJdbcMybatisTest': ResourceElement for public com.lyz.sharding.service.StudentService com.lyz.sharding.test.ShardingJdbcMybatisTest.studentService
2018-11-29 14:51:03,947 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'studentServiceImpl'
2018-11-29 14:51:03,947 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:03,952 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.interceptor.TransactionInterceptor#0'
2018-11-29 14:51:03,953 DEBUG annotation.AnnotationTransactionAttributeSource - Adding transactional method 'UserServiceImpl.findAll' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-11-29 14:51:03,955 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'transactionManager'
2018-11-29 14:51:03,958 DEBUG datasource.DataSourceTransactionManager - Creating new transaction with name [com.lyz.sharding.service.impl.UserServiceImpl.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-11-29 14:51:03,960 DEBUG datasource.DataSourceTransactionManager - Acquired Connection [com.dangdang.ddframe.rdb.sharding.jdbc.ShardingConnection@747f281] for JDBC transaction
2018-11-29 14:51:03,962 DEBUG datasource.DataSourceTransactionManager - Switching JDBC Connection [com.dangdang.ddframe.rdb.sharding.jdbc.ShardingConnection@747f281] to manual commit
2018-11-29 14:51:03,965 DEBUG spring.SqlSessionUtils - Creating a new SqlSession
2018-11-29 14:51:03,969 DEBUG spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14f232c4]
2018-11-29 14:51:03,975 DEBUG transaction.SpringManagedTransaction - JDBC Connection [com.dangdang.ddframe.rdb.sharding.jdbc.ShardingConnection@747f281] will be managed by Spring
2018-11-29 14:51:03,976 DEBUG UserMapper.findAll - ooo Using Connection [com.dangdang.ddframe.rdb.sharding.jdbc.ShardingConnection@747f281]
2018-11-29 14:51:04,010 DEBUG UserMapper.findAll - ==>  Preparing: select id,user_id,name,age from t_user 
2018-11-29 14:51:04,024 DEBUG UserMapper.findAll - ==> Parameters: 
2018-11-29 14:51:04,029 DEBUG parser.SQLParserFactory - Logic SQL:   
   select   
     id,user_id,name,age  
   from t_user   
  
2018-11-29 14:51:04,078 DEBUG parser.SQLParseEngine - Parsed SQL result: SQLParsedResult(routeContext=RouteContext(tables=[Table(name=t_user, alias=Optional.absent())], sqlBuilder=null), conditionContexts=[ConditionContext(conditions={})], mergeContext=MergeContext(orderByColumns=[], groupByColumns=[], aggregationColumns=[], limit=null))
2018-11-29 14:51:04,079 DEBUG parser.SQLParseEngine - Parsed SQL: SELECT id, user_id, name, age FROM [Token(t_user)]
2018-11-29 14:51:04,087 DEBUG router.SQLExecutionUnit - route sql to db: [hr_0] sql: [SELECT id, user_id, name, age FROM t_user_00]
2018-11-29 14:51:04,087 DEBUG router.SQLExecutionUnit - route sql to db: [hr_1] sql: [SELECT id, user_id, name, age FROM t_user_00]
2018-11-29 14:51:04,162 DEBUG UserMapper.findAll - <==      Total: 0
2018-11-29 14:51:04,162 DEBUG UserMapper.findAll - <==    Updates: -2
2018-11-29 14:51:04,162 DEBUG spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14f232c4]
2018-11-29 14:51:04,163 DEBUG spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14f232c4]
2018-11-29 14:51:04,163 DEBUG spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14f232c4]
2018-11-29 14:51:04,163 DEBUG spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14f232c4]
2018-11-29 14:51:04,163 DEBUG datasource.DataSourceTransactionManager - Initiating transaction commit
2018-11-29 14:51:04,163 DEBUG datasource.DataSourceTransactionManager - Committing JDBC transaction on Connection [com.dangdang.ddframe.rdb.sharding.jdbc.ShardingConnection@747f281]
2018-11-29 14:51:04,164 DEBUG datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [com.dangdang.ddframe.rdb.sharding.jdbc.ShardingConnection@747f281]
2018-11-29 14:51:04,164 DEBUG datasource.DataSourceTransactionManager - Releasing JDBC Connection [com.dangdang.ddframe.rdb.sharding.jdbc.ShardingConnection@747f281] after transaction
2018-11-29 14:51:04,164 DEBUG datasource.DataSourceUtils - Returning JDBC Connection to DataSource
2018-11-29 14:51:04,165 DEBUG support.DirtiesContextTestExecutionListener - After test method: context [DefaultTestContext@3c756e4d testClass = ShardingJdbcMybatisTest, testInstance = com.lyz.sharding.test.ShardingJdbcMybatisTest@7c0e2abd, testMethod = testFindAll@ShardingJdbcMybatisTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@48eff760 testClass = ShardingJdbcMybatisTest, locations = '{classpath*:config/spring/spring-database.xml, classpath*:config/spring/spring-sharding.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]], class dirties context [false], class mode [null], method dirties context [false].
2018-11-29 14:51:04,166 DEBUG support.DirtiesContextTestExecutionListener - After test class: context [DefaultTestContext@3c756e4d testClass = ShardingJdbcMybatisTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@48eff760 testClass = ShardingJdbcMybatisTest, locations = '{classpath*:config/spring/spring-database.xml, classpath*:config/spring/spring-sharding.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]], dirtiesContext [false].
2018-11-29 14:51:04,166 INFO  support.GenericApplicationContext - Closing org.springframework.context.support.GenericApplicationContext@5c7fa833: startup date [Thu Nov 29 14:51:02 CST 2018]; root of context hierarchy
2018-11-29 14:51:04,167 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'sqlSessionFactory'
2018-11-29 14:51:04,167 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'lifecycleProcessor'
2018-11-29 14:51:04,167 DEBUG support.DefaultListableBeanFactory - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@491666ad: defining beans [org.springframework.beans.factory.config.PropertyPlaceholderConfigurer#0,hr_0,hr_1,studentServiceImpl,userServiceImpl,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.mybatis.spring.mapper.MapperScannerConfigurer#0,sqlSessionFactory,dataSourceRule,userTableRule,userDatabaseShardingStrategy,userTableShardingStrategy,studentTableRule,studentDatabaseShardingStrategy,studentTableShardingStrategy,shardingRule,shardingDataSource,transactionManager,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor,org.springframework.context.annotation.ConfigurationClassPostProcessor.enhancedConfigurationProcessor,studentMapper,userMapper]; root of factory hierarchy
2018-11-29 14:51:04,167 DEBUG support.DefaultListableBeanFactory - Retrieved dependent beans for bean 'userServiceImpl': [com.lyz.sharding.test.ShardingJdbcMybatisTest]
2018-11-29 14:51:04,168 DEBUG support.DefaultListableBeanFactory - Retrieved dependent beans for bean 'com.lyz.sharding.algorithm.StudentSingleKeyTableShardingAlgorithm#28c4711c': [studentTableShardingStrategy]
2018-11-29 14:51:04,168 DEBUG support.DefaultListableBeanFactory - Retrieved dependent beans for bean 'com.lyz.sharding.algorithm.StudentSingleKeyDatabaseShardingAlgorithm#38364841': [studentDatabaseShardingStrategy]
2018-11-29 14:51:04,168 DEBUG support.DefaultListableBeanFactory - Retrieved dependent beans for bean 'com.lyz.sharding.algorithm.UserSingleKeyTableShardingAlgorithm#6385cb26': [userTableShardingStrategy]
2018-11-29 14:51:04,168 DEBUG support.DefaultListableBeanFactory - Retrieved dependent beans for bean 'com.lyz.sharding.algorithm.UserSingleKeyDatabaseShardingAlgorithm#49070868': [userDatabaseShardingStrategy]
2018-11-29 14:51:04,168 DEBUG support.DisposableBeanAdapter - Invoking destroy method 'close' on bean with name 'hr_1'
2018-11-29 14:51:04,171 INFO  pool.DruidDataSource - {dataSource-2} closed
2018-11-29 14:51:04,171 DEBUG support.DisposableBeanAdapter - Invoking destroy method 'close' on bean with name 'hr_0'
2018-11-29 14:51:04,172 INFO  pool.DruidDataSource - {dataSource-1} closed
2018-11-29 14:51:32,598 DEBUG junit4.SpringJUnit4ClassRunner - SpringJUnit4ClassRunner constructor called with [class com.lyz.sharding.test.ShardingJdbcMybatisTest].
2018-11-29 14:51:32,620 DEBUG context.BootstrapUtils - Instantiating TestContextBootstrapper from class [org.springframework.test.context.support.DefaultTestContextBootstrapper]
2018-11-29 14:51:32,648 DEBUG support.AbstractDelegatingSmartContextLoader - Delegating to GenericXmlContextLoader to process context configuration [ContextConfigurationAttributes@3b6eb2ec declaringClass = 'com.lyz.sharding.test.ShardingJdbcMybatisTest', classes = '{}', locations = '{classpath*:config/spring/spring-database.xml, classpath*:config/spring/spring-sharding.xml}', inheritLocations = true, initializers = '{}', inheritInitializers = true, name = [null], contextLoaderClass = 'org.springframework.test.context.ContextLoader'].
2018-11-29 14:51:32,651 DEBUG support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [com.lyz.sharding.test.ShardingJdbcMybatisTest]
2018-11-29 14:51:32,654 DEBUG support.DefaultTestContextBootstrapper - @TestExecutionListeners is not present for class [com.lyz.sharding.test.ShardingJdbcMybatisTest]: using defaults.
2018-11-29 14:51:32,660 INFO  support.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2018-11-29 14:51:32,666 INFO  support.DefaultTestContextBootstrapper - Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [javax/servlet/ServletContext]
2018-11-29 14:51:32,676 INFO  support.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@36f6e879, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5a61f5df, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3551a94, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@531be3c5]
2018-11-29 14:51:32,678 DEBUG annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.lyz.sharding.test.ShardingJdbcMybatisTest]
2018-11-29 14:51:32,679 DEBUG annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.lyz.sharding.test.ShardingJdbcMybatisTest]
2018-11-29 14:51:32,683 DEBUG annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.lyz.sharding.test.ShardingJdbcMybatisTest]
2018-11-29 14:51:32,683 DEBUG annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.lyz.sharding.test.ShardingJdbcMybatisTest]
2018-11-29 14:51:32,684 DEBUG annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.lyz.sharding.test.ShardingJdbcMybatisTest]
2018-11-29 14:51:32,684 DEBUG annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.lyz.sharding.test.ShardingJdbcMybatisTest]
2018-11-29 14:51:32,687 DEBUG annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.lyz.sharding.test.ShardingJdbcMybatisTest]
2018-11-29 14:51:32,691 DEBUG annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.lyz.sharding.test.ShardingJdbcMybatisTest]
2018-11-29 14:51:32,694 DEBUG annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.lyz.sharding.test.ShardingJdbcMybatisTest]
2018-11-29 14:51:32,694 DEBUG annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.lyz.sharding.test.ShardingJdbcMybatisTest]
2018-11-29 14:51:32,697 DEBUG support.DependencyInjectionTestExecutionListener - Performing dependency injection for test context [[DefaultTestContext@3c756e4d testClass = ShardingJdbcMybatisTest, testInstance = com.lyz.sharding.test.ShardingJdbcMybatisTest@7c0e2abd, testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@48eff760 testClass = ShardingJdbcMybatisTest, locations = '{classpath*:config/spring/spring-database.xml, classpath*:config/spring/spring-sharding.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]].
2018-11-29 14:51:32,697 DEBUG support.AbstractDelegatingSmartContextLoader - Delegating to GenericXmlContextLoader to load context from [MergedContextConfiguration@48eff760 testClass = ShardingJdbcMybatisTest, locations = '{classpath*:config/spring/spring-database.xml, classpath*:config/spring/spring-sharding.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]].
2018-11-29 14:51:32,698 DEBUG support.AbstractGenericContextLoader - Loading ApplicationContext for merged context configuration [[MergedContextConfiguration@48eff760 testClass = ShardingJdbcMybatisTest, locations = '{classpath*:config/spring/spring-database.xml, classpath*:config/spring/spring-sharding.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2018-11-29 14:51:32,782 DEBUG env.StandardEnvironment - Adding [systemProperties] PropertySource with lowest search precedence
2018-11-29 14:51:32,783 DEBUG env.StandardEnvironment - Adding [systemEnvironment] PropertySource with lowest search precedence
2018-11-29 14:51:32,784 DEBUG env.StandardEnvironment - Initialized StandardEnvironment with PropertySources [systemProperties,systemEnvironment]
2018-11-29 14:51:32,791 INFO  xml.XmlBeanDefinitionReader - Loading XML bean definitions from URL [file:/D:/sharding-jdbc-mybatis/target/classes/config/spring/spring-database.xml]
2018-11-29 14:51:32,793 DEBUG xml.DefaultDocumentLoader - Using JAXP provider [com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderFactoryImpl]
2018-11-29 14:51:32,827 DEBUG xml.PluggableSchemaResolver - Loading schema mappings from [META-INF/spring.schemas]
2018-11-29 14:51:32,829 DEBUG xml.PluggableSchemaResolver - Loaded schema mappings: {http://www.springframework.org/schema/tx/spring-tx-2.5.xsd=org/springframework/transaction/config/spring-tx-2.5.xsd, http://www.springframework.org/schema/aop/spring-aop-4.1.xsd=org/springframework/aop/config/spring-aop-4.1.xsd, http://www.springframework.org/schema/context/spring-context-3.1.xsd=org/springframework/context/config/spring-context-3.1.xsd, http://www.springframework.org/schema/jdbc/spring-jdbc-4.1.xsd=org/springframework/jdbc/config/spring-jdbc-4.1.xsd, http://www.springframework.org/schema/util/spring-util-3.0.xsd=org/springframework/beans/factory/xml/spring-util-3.0.xsd, http://www.springframework.org/schema/tool/spring-tool.xsd=org/springframework/beans/factory/xml/spring-tool-4.1.xsd, http://www.springframework.org/schema/aop/spring-aop-3.2.xsd=org/springframework/aop/config/spring-aop-3.2.xsd, http://mybatis.org/schema/mybatis-spring-1.2.xsd=org/mybatis/spring/config/mybatis-spring-1.2.xsd, http://www.springframework.org/schema/lang/spring-lang-4.1.xsd=org/springframework/scripting/config/spring-lang-4.1.xsd, http://www.springframework.org/schema/context/spring-context-4.0.xsd=org/springframework/context/config/spring-context-4.0.xsd, http://www.springframework.org/schema/tool/spring-tool-4.1.xsd=org/springframework/beans/factory/xml/spring-tool-4.1.xsd, http://www.springframework.org/schema/lang/spring-lang-3.2.xsd=org/springframework/scripting/config/spring-lang-3.2.xsd, http://www.springframework.org/schema/cache/spring-cache-3.2.xsd=org/springframework/cache/config/spring-cache-3.2.xsd, http://www.springframework.org/schema/jee/spring-jee-4.1.xsd=org/springframework/ejb/config/spring-jee-4.1.xsd, http://www.springframework.org/schema/jdbc/spring-jdbc-3.1.xsd=org/springframework/jdbc/config/spring-jdbc-3.1.xsd, http://www.springframework.org/schema/util/spring-util-2.0.xsd=org/springframework/beans/factory/xml/spring-util-2.0.xsd, http://www.springframework.org/schema/tool/spring-tool-3.2.xsd=org/springframework/beans/factory/xml/spring-tool-3.2.xsd, http://www.springframework.org/schema/context/spring-context.xsd=org/springframework/context/config/spring-context-4.1.xsd, http://www.springframework.org/schema/cache/spring-cache-4.1.xsd=org/springframework/cache/config/spring-cache-4.1.xsd, http://www.springframework.org/schema/aop/spring-aop-4.0.xsd=org/springframework/aop/config/spring-aop-4.0.xsd, http://www.springframework.org/schema/jee/spring-jee-3.2.xsd=org/springframework/ejb/config/spring-jee-3.2.xsd, http://www.springframework.org/schema/context/spring-context-3.0.xsd=org/springframework/context/config/spring-context-3.0.xsd, http://www.springframework.org/schema/jdbc/spring-jdbc-4.0.xsd=org/springframework/jdbc/config/spring-jdbc-4.0.xsd, http://www.springframework.org/schema/util/spring-util-2.5.xsd=org/springframework/beans/factory/xml/spring-util-2.5.xsd, http://www.springframework.org/schema/beans/spring-beans-3.2.xsd=org/springframework/beans/factory/xml/spring-beans-3.2.xsd, http://www.springframework.org/schema/aop/spring-aop-3.1.xsd=org/springframework/aop/config/spring-aop-3.1.xsd, http://www.springframework.org/schema/lang/spring-lang-4.0.xsd=org/springframework/scripting/config/spring-lang-4.0.xsd, http://www.springframework.org/schema/beans/spring-beans-4.1.xsd=org/springframework/beans/factory/xml/spring-beans-4.1.xsd, http://www.springframework.org/schema/tool/spring-tool-4.0.xsd=org/springframework/beans/factory/xml/spring-tool-4.0.xsd, http://www.springframework.org/schema/tx/spring-tx-3.2.xsd=org/springframework/transaction/config/spring-tx-3.2.xsd, http://www.springframework.org/schema/lang/spring-lang-3.1.xsd=org/springframework/scripting/config/spring-lang-3.1.xsd, http://www.springframework.org/schema/cache/spring-cache-3.1.xsd=org/springframework/cache/config/spring-cache-3.1.xsd, http://www.springframework.org/schema/jee/spring-jee-4.0.xsd=org/springframework/ejb/config/spring-jee-4.0.xsd, http://www.springframework.org/schema/jdbc/spring-jdbc-3.0.xsd=org/springframework/jdbc/config/spring-jdbc-3.0.xsd, http://www.springframework.org/schema/task/spring-task-4.1.xsd=org/springframework/scheduling/config/spring-task-4.1.xsd, http://www.springframework.org/schema/jdbc/spring-jdbc.xsd=org/springframework/jdbc/config/spring-jdbc-4.1.xsd, http://www.springframework.org/schema/tool/spring-tool-3.1.xsd=org/springframework/beans/factory/xml/spring-tool-3.1.xsd, http://www.springframework.org/schema/tx/spring-tx-4.1.xsd=org/springframework/transaction/config/spring-tx-4.1.xsd, http://www.springframework.org/schema/cache/spring-cache-4.0.xsd=org/springframework/cache/config/spring-cache-4.0.xsd, http://www.springframework.org/schema/jee/spring-jee-3.1.xsd=org/springframework/ejb/config/spring-jee-3.1.xsd, http://www.springframework.org/schema/task/spring-task-3.2.xsd=org/springframework/scheduling/config/spring-task-3.2.xsd, http://www.springframework.org/schema/beans/spring-beans-3.1.xsd=org/springframework/beans/factory/xml/spring-beans-3.1.xsd, http://www.springframework.org/schema/util/spring-util.xsd=org/springframework/beans/factory/xml/spring-util-4.1.xsd, http://www.springframework.org/schema/aop/spring-aop-3.0.xsd=org/springframework/aop/config/spring-aop-3.0.xsd, http://www.springframework.org/schema/beans/spring-beans-4.0.xsd=org/springframework/beans/factory/xml/spring-beans-4.0.xsd, http://www.springframework.org/schema/beans/spring-beans.xsd=org/springframework/beans/factory/xml/spring-beans-4.1.xsd, http://www.springframework.org/schema/tx/spring-tx-3.1.xsd=org/springframework/transaction/config/spring-tx-3.1.xsd, http://www.springframework.org/schema/lang/spring-lang-3.0.xsd=org/springframework/scripting/config/spring-lang-3.0.xsd, http://mybatis.org/schema/mybatis-spring.xsd=org/mybatis/spring/config/mybatis-spring-1.2.xsd, http://www.springframework.org/schema/context/spring-context-2.5.xsd=org/springframework/context/config/spring-context-2.5.xsd, http://www.springframework.org/schema/task/spring-task-4.0.xsd=org/springframework/scheduling/config/spring-task-4.0.xsd, http://www.springframework.org/schema/tool/spring-tool-3.0.xsd=org/springframework/beans/factory/xml/spring-tool-3.0.xsd, http://www.springframework.org/schema/tx/spring-tx-4.0.xsd=org/springframework/transaction/config/spring-tx-4.0.xsd, http://www.springframework.org/schema/aop/spring-aop-2.0.xsd=org/springframework/aop/config/spring-aop-2.0.xsd, http://www.springframework.org/schema/jee/spring-jee-3.0.xsd=org/springframework/ejb/config/spring-jee-3.0.xsd, http://www.springframework.org/schema/util/spring-util-4.1.xsd=org/springframework/beans/factory/xml/spring-util-4.1.xsd, http://www.springframework.org/schema/task/spring-task-3.1.xsd=org/springframework/scheduling/config/spring-task-3.1.xsd, http://www.springframework.org/schema/beans/spring-beans-3.0.xsd=org/springframework/beans/factory/xml/spring-beans-3.0.xsd, http://www.springframework.org/schema/jee/spring-jee.xsd=org/springframework/ejb/config/spring-jee-4.1.xsd, http://www.springframework.org/schema/aop/spring-aop-2.5.xsd=org/springframework/aop/config/spring-aop-2.5.xsd, http://www.springframework.org/schema/lang/spring-lang-2.0.xsd=org/springframework/scripting/config/spring-lang-2.0.xsd, http://www.springframework.org/schema/util/spring-util-3.2.xsd=org/springframework/beans/factory/xml/spring-util-3.2.xsd, http://www.springframework.org/schema/task/spring-task.xsd=org/springframework/scheduling/config/spring-task-4.1.xsd, http://www.springframework.org/schema/tool/spring-tool-2.0.xsd=org/springframework/beans/factory/xml/spring-tool-2.0.xsd, http://www.springframework.org/schema/tx/spring-tx-3.0.xsd=org/springframework/transaction/config/spring-tx-3.0.xsd, http://www.springframework.org/schema/lang/spring-lang-2.5.xsd=org/springframework/scripting/config/spring-lang-2.5.xsd, http://www.springframework.org/schema/jee/spring-jee-2.0.xsd=org/springframework/ejb/config/spring-jee-2.0.xsd, http://www.springframework.org/schema/tool/spring-tool-2.5.xsd=org/springframework/beans/factory/xml/spring-tool-2.5.xsd, http://www.springframework.org/schema/jee/spring-jee-2.5.xsd=org/springframework/ejb/config/spring-jee-2.5.xsd, http://www.springframework.org/schema/util/spring-util-4.0.xsd=org/springframework/beans/factory/xml/spring-util-4.0.xsd, http://www.springframework.org/schema/task/spring-task-3.0.xsd=org/springframework/scheduling/config/spring-task-3.0.xsd, http://www.springframework.org/schema/lang/spring-lang.xsd=org/springframework/scripting/config/spring-lang-4.1.xsd, http://www.springframework.org/schema/context/spring-context-3.2.xsd=org/springframework/context/config/spring-context-3.2.xsd, http://www.springframework.org/schema/util/spring-util-3.1.xsd=org/springframework/beans/factory/xml/spring-util-3.1.xsd, http://www.springframework.org/schema/beans/spring-beans-2.0.xsd=org/springframework/beans/factory/xml/spring-beans-2.0.xsd, http://www.springframework.org/schema/cache/spring-cache.xsd=org/springframework/cache/config/spring-cache-4.1.xsd, http://www.springframework.org/schema/tx/spring-tx.xsd=org/springframework/transaction/config/spring-tx-4.1.xsd, http://www.springframework.org/schema/context/spring-context-4.1.xsd=org/springframework/context/config/spring-context-4.1.xsd, http://www.springframework.org/schema/beans/spring-beans-2.5.xsd=org/springframework/beans/factory/xml/spring-beans-2.5.xsd, http://www.springframework.org/schema/tx/spring-tx-2.0.xsd=org/springframework/transaction/config/spring-tx-2.0.xsd, http://www.alibaba.com/schema/stat.xsd=META-INF/stat.xsd, http://www.springframework.org/schema/jdbc/spring-jdbc-3.2.xsd=org/springframework/jdbc/config/spring-jdbc-3.2.xsd, http://www.springframework.org/schema/aop/spring-aop.xsd=org/springframework/aop/config/spring-aop-4.1.xsd}
2018-11-29 14:51:32,834 DEBUG xml.PluggableSchemaResolver - Found XML schema [http://www.springframework.org/schema/beans/spring-beans-4.0.xsd] in classpath: org/springframework/beans/factory/xml/spring-beans-4.0.xsd
2018-11-29 14:51:32,893 DEBUG xml.DefaultBeanDefinitionDocumentReader - Loading bean definitions
2018-11-29 14:51:32,914 DEBUG xml.BeanDefinitionParserDelegate - Neither XML 'id' nor 'name' specified - using generated bean name [org.springframework.beans.factory.config.PropertyPlaceholderConfigurer#0]
2018-11-29 14:51:32,916 DEBUG xml.BeanDefinitionParserDelegate - No XML 'id' specified - using 'hr_0' as bean name and [] as aliases
2018-11-29 14:51:32,917 DEBUG xml.BeanDefinitionParserDelegate - No XML 'id' specified - using 'hr_1' as bean name and [] as aliases
2018-11-29 14:51:32,918 DEBUG xml.XmlBeanDefinitionReader - Loaded 3 bean definitions from location pattern [classpath*:config/spring/spring-database.xml]
2018-11-29 14:51:32,918 INFO  xml.XmlBeanDefinitionReader - Loading XML bean definitions from URL [file:/D:/sharding-jdbc-mybatis/target/classes/config/spring/spring-sharding.xml]
2018-11-29 14:51:32,919 DEBUG xml.DefaultDocumentLoader - Using JAXP provider [com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderFactoryImpl]
2018-11-29 14:51:32,921 DEBUG xml.PluggableSchemaResolver - Found XML schema [http://www.springframework.org/schema/beans/spring-beans-4.0.xsd] in classpath: org/springframework/beans/factory/xml/spring-beans-4.0.xsd
2018-11-29 14:51:32,937 DEBUG xml.PluggableSchemaResolver - Found XML schema [http://www.springframework.org/schema/context/spring-context-4.0.xsd] in classpath: org/springframework/context/config/spring-context-4.0.xsd
2018-11-29 14:51:32,950 DEBUG xml.PluggableSchemaResolver - Found XML schema [http://www.springframework.org/schema/tool/spring-tool-4.0.xsd] in classpath: org/springframework/beans/factory/xml/spring-tool-4.0.xsd
2018-11-29 14:51:32,961 DEBUG xml.PluggableSchemaResolver - Found XML schema [http://www.springframework.org/schema/tx/spring-tx-4.0.xsd] in classpath: org/springframework/transaction/config/spring-tx-4.0.xsd
2018-11-29 14:51:32,964 DEBUG xml.DefaultBeanDefinitionDocumentReader - Loading bean definitions
2018-11-29 14:51:32,967 DEBUG xml.DefaultNamespaceHandlerResolver - Loaded NamespaceHandler mappings: {http://www.springframework.org/schema/p=org.springframework.beans.factory.xml.SimplePropertyNamespaceHandler, http://www.springframework.org/schema/util=org.springframework.beans.factory.xml.UtilNamespaceHandler, http://www.alibaba.com/schema/stat=com.alibaba.druid.support.spring.stat.config.DruidStatNamespaceHandler, http://www.springframework.org/schema/jee=org.springframework.ejb.config.JeeNamespaceHandler, http://www.springframework.org/schema/aop=org.springframework.aop.config.AopNamespaceHandler, http://www.springframework.org/schema/jdbc=org.springframework.jdbc.config.JdbcNamespaceHandler, http://www.springframework.org/schema/cache=org.springframework.cache.config.CacheNamespaceHandler, http://mybatis.org/schema/mybatis-spring=org.mybatis.spring.config.NamespaceHandler, http://www.springframework.org/schema/c=org.springframework.beans.factory.xml.SimpleConstructorNamespaceHandler, http://www.springframework.org/schema/tx=org.springframework.transaction.config.TxNamespaceHandler, http://www.springframework.org/schema/task=org.springframework.scheduling.config.TaskNamespaceHandler, http://www.springframework.org/schema/lang=org.springframework.scripting.config.LangNamespaceHandler, http://www.springframework.org/schema/context=org.springframework.context.config.ContextNamespaceHandler}
2018-11-29 14:51:32,993 DEBUG support.PathMatchingResourcePatternResolver - Looking for matching resources in directory tree [D:\sharding-jdbc-mybatis\target\test-classes\com\lyz\sharding]
2018-11-29 14:51:32,993 DEBUG support.PathMatchingResourcePatternResolver - Searching directory [D:\sharding-jdbc-mybatis\target\test-classes\com\lyz\sharding] for files matching pattern [D:/sharding-jdbc-mybatis/target/test-classes/com/lyz/sharding/**/*.class]
2018-11-29 14:51:32,994 DEBUG support.PathMatchingResourcePatternResolver - Searching directory [D:\sharding-jdbc-mybatis\target\test-classes\com\lyz\sharding\test] for files matching pattern [D:/sharding-jdbc-mybatis/target/test-classes/com/lyz/sharding/**/*.class]
2018-11-29 14:51:32,996 DEBUG support.PathMatchingResourcePatternResolver - Looking for matching resources in directory tree [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding]
2018-11-29 14:51:32,996 DEBUG support.PathMatchingResourcePatternResolver - Searching directory [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding] for files matching pattern [D:/sharding-jdbc-mybatis/target/classes/com/lyz/sharding/**/*.class]
2018-11-29 14:51:32,996 DEBUG support.PathMatchingResourcePatternResolver - Searching directory [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\algorithm] for files matching pattern [D:/sharding-jdbc-mybatis/target/classes/com/lyz/sharding/**/*.class]
2018-11-29 14:51:32,997 DEBUG support.PathMatchingResourcePatternResolver - Searching directory [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\entity] for files matching pattern [D:/sharding-jdbc-mybatis/target/classes/com/lyz/sharding/**/*.class]
2018-11-29 14:51:33,001 DEBUG support.PathMatchingResourcePatternResolver - Searching directory [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\mapper] for files matching pattern [D:/sharding-jdbc-mybatis/target/classes/com/lyz/sharding/**/*.class]
2018-11-29 14:51:33,004 DEBUG support.PathMatchingResourcePatternResolver - Searching directory [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\service] for files matching pattern [D:/sharding-jdbc-mybatis/target/classes/com/lyz/sharding/**/*.class]
2018-11-29 14:51:33,004 DEBUG support.PathMatchingResourcePatternResolver - Searching directory [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\service\impl] for files matching pattern [D:/sharding-jdbc-mybatis/target/classes/com/lyz/sharding/**/*.class]
2018-11-29 14:51:33,005 DEBUG support.PathMatchingResourcePatternResolver - Resolved location pattern [classpath*:com/lyz/sharding/**/*.class] to resources [file [D:\sharding-jdbc-mybatis\target\test-classes\com\lyz\sharding\test\ShardingJdbcMybatisTest.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\algorithm\StudentSingleKeyDatabaseShardingAlgorithm.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\algorithm\StudentSingleKeyTableShardingAlgorithm.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\algorithm\UserSingleKeyDatabaseShardingAlgorithm.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\algorithm\UserSingleKeyTableShardingAlgorithm.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\entity\Student.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\entity\User.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\mapper\StudentMapper.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\mapper\UserMapper.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\service\impl\StudentServiceImpl.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\service\impl\UserServiceImpl.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\service\StudentService.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\service\UserService.class]]
2018-11-29 14:51:33,034 DEBUG annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\service\impl\StudentServiceImpl.class]
2018-11-29 14:51:33,037 DEBUG annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\service\impl\UserServiceImpl.class]
2018-11-29 14:51:33,061 DEBUG xml.BeanDefinitionParserDelegate - Neither XML 'id' nor 'name' specified - using generated bean name [org.mybatis.spring.mapper.MapperScannerConfigurer#0]
2018-11-29 14:51:33,076 DEBUG xml.BeanDefinitionParserDelegate - Neither XML 'id' nor 'name' specified - using generated bean name [com.lyz.sharding.algorithm.UserSingleKeyDatabaseShardingAlgorithm#49070868]
2018-11-29 14:51:33,077 DEBUG xml.BeanDefinitionParserDelegate - Neither XML 'id' nor 'name' specified - using generated bean name [com.lyz.sharding.algorithm.UserSingleKeyTableShardingAlgorithm#6385cb26]
2018-11-29 14:51:33,083 DEBUG xml.BeanDefinitionParserDelegate - Neither XML 'id' nor 'name' specified - using generated bean name [com.lyz.sharding.algorithm.StudentSingleKeyDatabaseShardingAlgorithm#38364841]
2018-11-29 14:51:33,083 DEBUG xml.BeanDefinitionParserDelegate - Neither XML 'id' nor 'name' specified - using generated bean name [com.lyz.sharding.algorithm.StudentSingleKeyTableShardingAlgorithm#28c4711c]
2018-11-29 14:51:33,096 DEBUG xml.XmlBeanDefinitionReader - Loaded 22 bean definitions from location pattern [classpath*:config/spring/spring-sharding.xml]
2018-11-29 14:51:33,099 INFO  support.GenericApplicationContext - Refreshing org.springframework.context.support.GenericApplicationContext@5c7fa833: startup date [Thu Nov 29 14:51:33 CST 2018]; root of context hierarchy
2018-11-29 14:51:33,100 DEBUG support.GenericApplicationContext - Bean factory for org.springframework.context.support.GenericApplicationContext@5c7fa833: org.springframework.beans.factory.support.DefaultListableBeanFactory@491666ad: defining beans [org.springframework.beans.factory.config.PropertyPlaceholderConfigurer#0,hr_0,hr_1,studentServiceImpl,userServiceImpl,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.mybatis.spring.mapper.MapperScannerConfigurer#0,sqlSessionFactory,dataSourceRule,userTableRule,userDatabaseShardingStrategy,userTableShardingStrategy,studentTableRule,studentDatabaseShardingStrategy,studentTableShardingStrategy,shardingRule,shardingDataSource,transactionManager,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor]; root of factory hierarchy
2018-11-29 14:51:33,132 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2018-11-29 14:51:33,132 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2018-11-29 14:51:33,144 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor' to allow for resolving potential circular references
2018-11-29 14:51:33,145 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2018-11-29 14:51:33,210 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.mybatis.spring.mapper.MapperScannerConfigurer#0'
2018-11-29 14:51:33,210 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'org.mybatis.spring.mapper.MapperScannerConfigurer#0'
2018-11-29 14:51:33,211 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'org.mybatis.spring.mapper.MapperScannerConfigurer#0' to allow for resolving potential circular references
2018-11-29 14:51:33,248 DEBUG support.DefaultListableBeanFactory - Invoking afterPropertiesSet() on bean with name 'org.mybatis.spring.mapper.MapperScannerConfigurer#0'
2018-11-29 14:51:33,248 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'org.mybatis.spring.mapper.MapperScannerConfigurer#0'
2018-11-29 14:51:33,249 DEBUG env.StandardEnvironment - Adding [systemProperties] PropertySource with lowest search precedence
2018-11-29 14:51:33,249 DEBUG env.StandardEnvironment - Adding [systemEnvironment] PropertySource with lowest search precedence
2018-11-29 14:51:33,250 DEBUG env.StandardEnvironment - Initialized StandardEnvironment with PropertySources [systemProperties,systemEnvironment]
2018-11-29 14:51:33,253 DEBUG support.PathMatchingResourcePatternResolver - Looking for matching resources in directory tree [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\mapper]
2018-11-29 14:51:33,253 DEBUG support.PathMatchingResourcePatternResolver - Searching directory [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\mapper] for files matching pattern [D:/sharding-jdbc-mybatis/target/classes/com/lyz/sharding/mapper/**/*.class]
2018-11-29 14:51:33,255 DEBUG support.PathMatchingResourcePatternResolver - Resolved location pattern [classpath*:com/lyz/sharding/mapper/**/*.class] to resources [file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\mapper\StudentMapper.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\mapper\UserMapper.class]]
2018-11-29 14:51:33,255 DEBUG mapper.ClassPathMapperScanner - Identified candidate component class: file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\mapper\StudentMapper.class]
2018-11-29 14:51:33,256 DEBUG mapper.ClassPathMapperScanner - Identified candidate component class: file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\mapper\UserMapper.class]
2018-11-29 14:51:33,256 DEBUG mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'studentMapper' and 'com.lyz.sharding.mapper.StudentMapper' mapperInterface
2018-11-29 14:51:33,257 DEBUG mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.lyz.sharding.mapper.UserMapper' mapperInterface
2018-11-29 14:51:33,259 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.beans.factory.config.PropertyPlaceholderConfigurer#0'
2018-11-29 14:51:33,259 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.beans.factory.config.PropertyPlaceholderConfigurer#0'
2018-11-29 14:51:33,261 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.beans.factory.config.PropertyPlaceholderConfigurer#0' to allow for resolving potential circular references
2018-11-29 14:51:33,271 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.beans.factory.config.PropertyPlaceholderConfigurer#0'
2018-11-29 14:51:33,273 INFO  config.PropertyPlaceholderConfigurer - Loading properties file from class path resource [config/resource/jdbc_dev.properties]
2018-11-29 14:51:33,280 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
2018-11-29 14:51:33,280 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
2018-11-29 14:51:33,284 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor' to allow for resolving potential circular references
2018-11-29 14:51:33,284 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
2018-11-29 14:51:33,284 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalRequiredAnnotationProcessor'
2018-11-29 14:51:33,284 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.internalRequiredAnnotationProcessor'
2018-11-29 14:51:33,285 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.internalRequiredAnnotationProcessor' to allow for resolving potential circular references
2018-11-29 14:51:33,285 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.internalRequiredAnnotationProcessor'
2018-11-29 14:51:33,285 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
2018-11-29 14:51:33,285 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
2018-11-29 14:51:33,288 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor' to allow for resolving potential circular references
2018-11-29 14:51:33,288 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
2018-11-29 14:51:33,290 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor'
2018-11-29 14:51:33,290 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor'
2018-11-29 14:51:33,290 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor' to allow for resolving potential circular references
2018-11-29 14:51:33,290 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor'
2018-11-29 14:51:33,290 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.enhancedConfigurationProcessor'
2018-11-29 14:51:33,290 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.enhancedConfigurationProcessor'
2018-11-29 14:51:33,290 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.enhancedConfigurationProcessor' to allow for resolving potential circular references
2018-11-29 14:51:33,290 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.enhancedConfigurationProcessor'
2018-11-29 14:51:33,291 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.aop.config.internalAutoProxyCreator'
2018-11-29 14:51:33,291 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.aop.config.internalAutoProxyCreator'
2018-11-29 14:51:33,319 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.aop.config.internalAutoProxyCreator' to allow for resolving potential circular references
2018-11-29 14:51:33,334 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.aop.config.internalAutoProxyCreator'
2018-11-29 14:51:33,337 DEBUG support.GenericApplicationContext - Unable to locate MessageSource with name 'messageSource': using default [org.springframework.context.support.DelegatingMessageSource@6d763516]
2018-11-29 14:51:33,339 DEBUG support.GenericApplicationContext - Unable to locate ApplicationEventMulticaster with name 'applicationEventMulticaster': using default [org.springframework.context.event.SimpleApplicationEventMulticaster@5c5eefef]
2018-11-29 14:51:33,343 DEBUG support.DefaultListableBeanFactory - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@491666ad: defining beans [org.springframework.beans.factory.config.PropertyPlaceholderConfigurer#0,hr_0,hr_1,studentServiceImpl,userServiceImpl,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.mybatis.spring.mapper.MapperScannerConfigurer#0,sqlSessionFactory,dataSourceRule,userTableRule,userDatabaseShardingStrategy,userTableShardingStrategy,studentTableRule,studentDatabaseShardingStrategy,studentTableShardingStrategy,shardingRule,shardingDataSource,transactionManager,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor,org.springframework.context.annotation.ConfigurationClassPostProcessor.enhancedConfigurationProcessor,studentMapper,userMapper]; root of factory hierarchy
2018-11-29 14:51:33,351 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.beans.factory.config.PropertyPlaceholderConfigurer#0'
2018-11-29 14:51:33,352 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'hr_0'
2018-11-29 14:51:33,352 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'hr_0'
2018-11-29 14:51:33,423 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'hr_0' to allow for resolving potential circular references
2018-11-29 14:51:33,560 DEBUG support.DefaultListableBeanFactory - Invoking init method  'init' on bean with name 'hr_0'
2018-11-29 14:51:33,617 INFO  pool.DruidDataSource - {dataSource-1} inited
2018-11-29 14:51:33,618 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:33,618 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:33,619 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.transaction.config.internalTransactionAdvisor' to allow for resolving potential circular references
2018-11-29 14:51:33,623 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0'
2018-11-29 14:51:33,623 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0'
2018-11-29 14:51:33,625 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0' to allow for resolving potential circular references
2018-11-29 14:51:33,627 DEBUG autoproxy.BeanFactoryAdvisorRetrievalHelper - Skipping currently created advisor 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:33,628 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0'
2018-11-29 14:51:33,628 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:33,634 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'hr_0'
2018-11-29 14:51:33,634 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'hr_1'
2018-11-29 14:51:33,634 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'hr_1'
2018-11-29 14:51:33,636 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'hr_1' to allow for resolving potential circular references
2018-11-29 14:51:33,637 DEBUG support.DefaultListableBeanFactory - Invoking init method  'init' on bean with name 'hr_1'
2018-11-29 14:51:33,638 INFO  pool.DruidDataSource - {dataSource-2} inited
2018-11-29 14:51:33,638 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:33,638 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'hr_1'
2018-11-29 14:51:33,638 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'studentServiceImpl'
2018-11-29 14:51:33,638 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'studentServiceImpl'
2018-11-29 14:51:33,642 DEBUG annotation.InjectionMetadata - Registered injected element on class [com.lyz.sharding.service.impl.StudentServiceImpl]: ResourceElement for public com.lyz.sharding.mapper.StudentMapper com.lyz.sharding.service.impl.StudentServiceImpl.studentMapper
2018-11-29 14:51:33,642 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'studentServiceImpl' to allow for resolving potential circular references
2018-11-29 14:51:33,643 DEBUG annotation.InjectionMetadata - Processing injected method of bean 'studentServiceImpl': ResourceElement for public com.lyz.sharding.mapper.StudentMapper com.lyz.sharding.service.impl.StudentServiceImpl.studentMapper
2018-11-29 14:51:33,643 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'studentMapper'
2018-11-29 14:51:33,643 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'studentMapper'
2018-11-29 14:51:33,643 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'studentMapper' to allow for resolving potential circular references
2018-11-29 14:51:33,648 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'sqlSessionFactory'
2018-11-29 14:51:33,648 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'sqlSessionFactory'
2018-11-29 14:51:33,667 DEBUG logging.LogFactory - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2018-11-29 14:51:33,669 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'sqlSessionFactory' to allow for resolving potential circular references
2018-11-29 14:51:33,672 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'shardingDataSource'
2018-11-29 14:51:33,672 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'shardingDataSource'
2018-11-29 14:51:33,675 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'shardingRule'
2018-11-29 14:51:33,676 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'shardingRule'
2018-11-29 14:51:33,680 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dataSourceRule'
2018-11-29 14:51:33,680 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'dataSourceRule'
2018-11-29 14:51:33,680 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'hr_0'
2018-11-29 14:51:33,681 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'hr_1'
2018-11-29 14:51:33,686 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'dataSourceRule' to allow for resolving potential circular references
2018-11-29 14:51:33,689 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:33,689 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'dataSourceRule'
2018-11-29 14:51:33,689 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userTableRule'
2018-11-29 14:51:33,689 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'userTableRule'
2018-11-29 14:51:33,689 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'dataSourceRule'
2018-11-29 14:51:33,689 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userDatabaseShardingStrategy'
2018-11-29 14:51:33,689 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'userDatabaseShardingStrategy'
2018-11-29 14:51:33,691 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'com.lyz.sharding.algorithm.UserSingleKeyDatabaseShardingAlgorithm#49070868'
2018-11-29 14:51:33,694 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:33,695 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'com.lyz.sharding.algorithm.UserSingleKeyDatabaseShardingAlgorithm#49070868'
2018-11-29 14:51:33,696 DEBUG beans.BeanUtils - No property editor [com.dangdang.ddframe.rdb.sharding.api.strategy.database.MultipleKeysDatabaseShardingAlgorithmEditor] found for type com.dangdang.ddframe.rdb.sharding.api.strategy.database.MultipleKeysDatabaseShardingAlgorithm according to 'Editor' suffix convention
2018-11-29 14:51:33,698 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'userDatabaseShardingStrategy' to allow for resolving potential circular references
2018-11-29 14:51:33,699 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:33,700 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'userDatabaseShardingStrategy'
2018-11-29 14:51:33,700 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userTableShardingStrategy'
2018-11-29 14:51:33,700 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'userTableShardingStrategy'
2018-11-29 14:51:33,701 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'com.lyz.sharding.algorithm.UserSingleKeyTableShardingAlgorithm#6385cb26'
2018-11-29 14:51:33,703 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:33,703 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'com.lyz.sharding.algorithm.UserSingleKeyTableShardingAlgorithm#6385cb26'
2018-11-29 14:51:33,704 DEBUG beans.BeanUtils - No property editor [com.dangdang.ddframe.rdb.sharding.api.strategy.table.MultipleKeysTableShardingAlgorithmEditor] found for type com.dangdang.ddframe.rdb.sharding.api.strategy.table.MultipleKeysTableShardingAlgorithm according to 'Editor' suffix convention
2018-11-29 14:51:33,704 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'userTableShardingStrategy' to allow for resolving potential circular references
2018-11-29 14:51:33,705 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:33,705 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'userTableShardingStrategy'
2018-11-29 14:51:33,707 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'userTableRule' to allow for resolving potential circular references
2018-11-29 14:51:33,709 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:33,709 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'userTableRule'
2018-11-29 14:51:33,709 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'studentTableRule'
2018-11-29 14:51:33,709 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'studentTableRule'
2018-11-29 14:51:33,710 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'dataSourceRule'
2018-11-29 14:51:33,710 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'studentDatabaseShardingStrategy'
2018-11-29 14:51:33,710 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'studentDatabaseShardingStrategy'
2018-11-29 14:51:33,710 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'com.lyz.sharding.algorithm.StudentSingleKeyDatabaseShardingAlgorithm#38364841'
2018-11-29 14:51:33,712 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:33,713 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'com.lyz.sharding.algorithm.StudentSingleKeyDatabaseShardingAlgorithm#38364841'
2018-11-29 14:51:33,713 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'studentDatabaseShardingStrategy' to allow for resolving potential circular references
2018-11-29 14:51:33,713 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:33,713 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'studentDatabaseShardingStrategy'
2018-11-29 14:51:33,713 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'studentTableShardingStrategy'
2018-11-29 14:51:33,713 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'studentTableShardingStrategy'
2018-11-29 14:51:33,715 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'com.lyz.sharding.algorithm.StudentSingleKeyTableShardingAlgorithm#28c4711c'
2018-11-29 14:51:33,718 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:33,718 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'com.lyz.sharding.algorithm.StudentSingleKeyTableShardingAlgorithm#28c4711c'
2018-11-29 14:51:33,719 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'studentTableShardingStrategy' to allow for resolving potential circular references
2018-11-29 14:51:33,719 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:33,719 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'studentTableShardingStrategy'
2018-11-29 14:51:33,719 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'studentTableRule' to allow for resolving potential circular references
2018-11-29 14:51:33,719 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:33,719 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'studentTableRule'
2018-11-29 14:51:33,723 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'shardingRule' to allow for resolving potential circular references
2018-11-29 14:51:33,724 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:33,725 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'shardingRule'
2018-11-29 14:51:33,954 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'shardingDataSource' to allow for resolving potential circular references
2018-11-29 14:51:33,957 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:33,958 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'shardingDataSource'
2018-11-29 14:51:33,958 DEBUG support.PathMatchingResourcePatternResolver - Looking for matching resources in directory tree [D:\sharding-jdbc-mybatis\target\classes\config\mapper]
2018-11-29 14:51:33,959 DEBUG support.PathMatchingResourcePatternResolver - Searching directory [D:\sharding-jdbc-mybatis\target\classes\config\mapper] for files matching pattern [D:/sharding-jdbc-mybatis/target/classes/config/mapper/*Mapper.xml]
2018-11-29 14:51:33,959 DEBUG support.PathMatchingResourcePatternResolver - Resolved location pattern [classpath*:config/mapper/*Mapper.xml] to resources [file [D:\sharding-jdbc-mybatis\target\classes\config\mapper\StudentMapper.xml], file [D:\sharding-jdbc-mybatis\target\classes\config\mapper\UserMapper.xml]]
2018-11-29 14:51:33,960 DEBUG support.DefaultListableBeanFactory - Invoking afterPropertiesSet() on bean with name 'sqlSessionFactory'
2018-11-29 14:51:33,960 DEBUG spring.SqlSessionFactoryBean - Property 'configLocation' not specified, using default MyBatis Configuration
2018-11-29 14:51:34,045 DEBUG spring.SqlSessionFactoryBean - Parsed mapper file: 'file [D:\sharding-jdbc-mybatis\target\classes\config\mapper\StudentMapper.xml]'
2018-11-29 14:51:34,055 DEBUG spring.SqlSessionFactoryBean - Parsed mapper file: 'file [D:\sharding-jdbc-mybatis\target\classes\config\mapper\UserMapper.xml]'
2018-11-29 14:51:34,056 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:34,056 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'sqlSessionFactory'
2018-11-29 14:51:34,056 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:34,062 DEBUG support.DefaultListableBeanFactory - Invoking afterPropertiesSet() on bean with name 'studentMapper'
2018-11-29 14:51:34,062 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:34,062 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'studentMapper'
2018-11-29 14:51:34,063 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:34,065 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:34,065 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'studentServiceImpl'
2018-11-29 14:51:34,066 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userServiceImpl'
2018-11-29 14:51:34,066 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'userServiceImpl'
2018-11-29 14:51:34,066 DEBUG annotation.InjectionMetadata - Registered injected element on class [com.lyz.sharding.service.impl.UserServiceImpl]: ResourceElement for public com.lyz.sharding.mapper.UserMapper com.lyz.sharding.service.impl.UserServiceImpl.userMapper
2018-11-29 14:51:34,067 DEBUG annotation.InjectionMetadata - Registered injected element on class [com.lyz.sharding.service.impl.UserServiceImpl]: ResourceElement for public com.lyz.sharding.mapper.StudentMapper com.lyz.sharding.service.impl.UserServiceImpl.studentMapper
2018-11-29 14:51:34,067 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'userServiceImpl' to allow for resolving potential circular references
2018-11-29 14:51:34,068 DEBUG annotation.InjectionMetadata - Processing injected method of bean 'userServiceImpl': ResourceElement for public com.lyz.sharding.mapper.UserMapper com.lyz.sharding.service.impl.UserServiceImpl.userMapper
2018-11-29 14:51:34,068 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userMapper'
2018-11-29 14:51:34,068 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'userMapper'
2018-11-29 14:51:34,068 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'userMapper' to allow for resolving potential circular references
2018-11-29 14:51:34,068 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'sqlSessionFactory'
2018-11-29 14:51:34,068 DEBUG support.DefaultListableBeanFactory - Invoking afterPropertiesSet() on bean with name 'userMapper'
2018-11-29 14:51:34,068 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:34,068 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'userMapper'
2018-11-29 14:51:34,069 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:34,070 DEBUG annotation.InjectionMetadata - Processing injected method of bean 'userServiceImpl': ResourceElement for public com.lyz.sharding.mapper.StudentMapper com.lyz.sharding.service.impl.UserServiceImpl.studentMapper
2018-11-29 14:51:34,070 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'studentMapper'
2018-11-29 14:51:34,070 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:34,071 DEBUG annotation.AnnotationTransactionAttributeSource - Adding transactional method 'UserServiceImpl.insert' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-11-29 14:51:34,075 DEBUG autoproxy.InfrastructureAdvisorAutoProxyCreator - Creating implicit proxy for bean 'userServiceImpl' with 0 common interceptors and 1 specific interceptors
2018-11-29 14:51:34,075 DEBUG framework.JdkDynamicAopProxy - Creating JDK dynamic proxy: target source is SingletonTargetSource for target object [com.lyz.sharding.service.impl.UserServiceImpl@66ea810]
2018-11-29 14:51:34,077 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'userServiceImpl'
2018-11-29 14:51:34,077 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2018-11-29 14:51:34,077 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
2018-11-29 14:51:34,077 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.internalRequiredAnnotationProcessor'
2018-11-29 14:51:34,077 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
2018-11-29 14:51:34,077 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.mybatis.spring.mapper.MapperScannerConfigurer#0'
2018-11-29 14:51:34,077 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'sqlSessionFactory'
2018-11-29 14:51:34,078 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'dataSourceRule'
2018-11-29 14:51:34,078 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'userTableRule'
2018-11-29 14:51:34,078 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'userDatabaseShardingStrategy'
2018-11-29 14:51:34,078 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'userTableShardingStrategy'
2018-11-29 14:51:34,078 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'studentTableRule'
2018-11-29 14:51:34,078 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'studentDatabaseShardingStrategy'
2018-11-29 14:51:34,078 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'studentTableShardingStrategy'
2018-11-29 14:51:34,078 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'shardingRule'
2018-11-29 14:51:34,078 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'shardingDataSource'
2018-11-29 14:51:34,078 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionManager'
2018-11-29 14:51:34,078 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'transactionManager'
2018-11-29 14:51:34,084 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'transactionManager' to allow for resolving potential circular references
2018-11-29 14:51:34,086 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'shardingDataSource'
2018-11-29 14:51:34,086 DEBUG support.DefaultListableBeanFactory - Invoking afterPropertiesSet() on bean with name 'transactionManager'
2018-11-29 14:51:34,086 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:34,087 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'transactionManager'
2018-11-29 14:51:34,087 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.aop.config.internalAutoProxyCreator'
2018-11-29 14:51:34,087 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0'
2018-11-29 14:51:34,087 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.interceptor.TransactionInterceptor#0'
2018-11-29 14:51:34,087 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.transaction.interceptor.TransactionInterceptor#0'
2018-11-29 14:51:34,088 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.transaction.interceptor.TransactionInterceptor#0' to allow for resolving potential circular references
2018-11-29 14:51:34,093 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0'
2018-11-29 14:51:34,093 DEBUG support.DefaultListableBeanFactory - Invoking afterPropertiesSet() on bean with name 'org.springframework.transaction.interceptor.TransactionInterceptor#0'
2018-11-29 14:51:34,094 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.transaction.interceptor.TransactionInterceptor#0'
2018-11-29 14:51:34,094 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:34,094 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor'
2018-11-29 14:51:34,094 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.enhancedConfigurationProcessor'
2018-11-29 14:51:34,094 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'studentMapper'
2018-11-29 14:51:34,094 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'userMapper'
2018-11-29 14:51:34,095 DEBUG support.GenericApplicationContext - Unable to locate LifecycleProcessor with name 'lifecycleProcessor': using default [org.springframework.context.support.DefaultLifecycleProcessor@21be3395]
2018-11-29 14:51:34,095 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'lifecycleProcessor'
2018-11-29 14:51:34,096 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'sqlSessionFactory'
2018-11-29 14:51:34,097 DEBUG env.PropertySourcesPropertyResolver - Searching for key 'spring.liveBeansView.mbeanDomain' in [systemProperties]
2018-11-29 14:51:34,098 DEBUG env.PropertySourcesPropertyResolver - Searching for key 'spring.liveBeansView.mbeanDomain' in [systemEnvironment]
2018-11-29 14:51:34,098 DEBUG env.PropertySourcesPropertyResolver - Could not find key 'spring.liveBeansView.mbeanDomain' in any property source. Returning [null]
2018-11-29 14:51:34,099 DEBUG context.DefaultCacheAwareContextLoaderDelegate - Storing ApplicationContext in cache under key [[MergedContextConfiguration@48eff760 testClass = ShardingJdbcMybatisTest, locations = '{classpath*:config/spring/spring-database.xml, classpath*:config/spring/spring-sharding.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2018-11-29 14:51:34,100 DEBUG annotation.InjectionMetadata - Processing injected method of bean 'com.lyz.sharding.test.ShardingJdbcMybatisTest': ResourceElement for public com.lyz.sharding.service.UserService com.lyz.sharding.test.ShardingJdbcMybatisTest.userService
2018-11-29 14:51:34,101 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'userServiceImpl'
2018-11-29 14:51:34,101 DEBUG annotation.InjectionMetadata - Processing injected method of bean 'com.lyz.sharding.test.ShardingJdbcMybatisTest': ResourceElement for public com.lyz.sharding.service.StudentService com.lyz.sharding.test.ShardingJdbcMybatisTest.studentService
2018-11-29 14:51:34,101 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'studentServiceImpl'
2018-11-29 14:51:34,102 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:34,106 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.interceptor.TransactionInterceptor#0'
2018-11-29 14:51:34,107 DEBUG annotation.AnnotationTransactionAttributeSource - Adding transactional method 'UserServiceImpl.findAll' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-11-29 14:51:34,109 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'transactionManager'
2018-11-29 14:51:34,112 DEBUG datasource.DataSourceTransactionManager - Creating new transaction with name [com.lyz.sharding.service.impl.UserServiceImpl.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-11-29 14:51:34,114 DEBUG datasource.DataSourceTransactionManager - Acquired Connection [com.dangdang.ddframe.rdb.sharding.jdbc.ShardingConnection@747f281] for JDBC transaction
2018-11-29 14:51:34,117 DEBUG datasource.DataSourceTransactionManager - Switching JDBC Connection [com.dangdang.ddframe.rdb.sharding.jdbc.ShardingConnection@747f281] to manual commit
2018-11-29 14:51:34,120 DEBUG spring.SqlSessionUtils - Creating a new SqlSession
2018-11-29 14:51:34,124 DEBUG spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14f232c4]
2018-11-29 14:51:34,130 DEBUG transaction.SpringManagedTransaction - JDBC Connection [com.dangdang.ddframe.rdb.sharding.jdbc.ShardingConnection@747f281] will be managed by Spring
2018-11-29 14:51:34,132 DEBUG UserMapper.findAll - ooo Using Connection [com.dangdang.ddframe.rdb.sharding.jdbc.ShardingConnection@747f281]
2018-11-29 14:51:34,171 DEBUG UserMapper.findAll - ==>  Preparing: select id,user_id,name,age from t_user 
2018-11-29 14:51:34,185 DEBUG UserMapper.findAll - ==> Parameters: 
2018-11-29 14:51:34,190 DEBUG parser.SQLParserFactory - Logic SQL:   
   select   
     id,user_id,name,age  
   from t_user   
  
2018-11-29 14:51:34,245 DEBUG parser.SQLParseEngine - Parsed SQL result: SQLParsedResult(routeContext=RouteContext(tables=[Table(name=t_user, alias=Optional.absent())], sqlBuilder=null), conditionContexts=[ConditionContext(conditions={})], mergeContext=MergeContext(orderByColumns=[], groupByColumns=[], aggregationColumns=[], limit=null))
2018-11-29 14:51:34,246 DEBUG parser.SQLParseEngine - Parsed SQL: SELECT id, user_id, name, age FROM [Token(t_user)]
2018-11-29 14:51:34,257 DEBUG router.SQLExecutionUnit - route sql to db: [hr_0] sql: [SELECT id, user_id, name, age FROM t_user_00]
2018-11-29 14:51:34,257 DEBUG router.SQLExecutionUnit - route sql to db: [hr_1] sql: [SELECT id, user_id, name, age FROM t_user_00]
2018-11-29 14:51:34,335 DEBUG UserMapper.findAll - <==      Total: 0
2018-11-29 14:51:34,336 DEBUG UserMapper.findAll - <==    Updates: -2
2018-11-29 14:51:34,337 DEBUG spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14f232c4]
2018-11-29 14:51:34,337 DEBUG spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14f232c4]
2018-11-29 14:51:34,337 DEBUG spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14f232c4]
2018-11-29 14:51:34,337 DEBUG spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14f232c4]
2018-11-29 14:51:34,337 DEBUG datasource.DataSourceTransactionManager - Initiating transaction commit
2018-11-29 14:51:34,337 DEBUG datasource.DataSourceTransactionManager - Committing JDBC transaction on Connection [com.dangdang.ddframe.rdb.sharding.jdbc.ShardingConnection@747f281]
2018-11-29 14:51:34,338 DEBUG datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [com.dangdang.ddframe.rdb.sharding.jdbc.ShardingConnection@747f281]
2018-11-29 14:51:34,338 DEBUG datasource.DataSourceTransactionManager - Releasing JDBC Connection [com.dangdang.ddframe.rdb.sharding.jdbc.ShardingConnection@747f281] after transaction
2018-11-29 14:51:34,338 DEBUG datasource.DataSourceUtils - Returning JDBC Connection to DataSource
2018-11-29 14:51:34,339 DEBUG support.DirtiesContextTestExecutionListener - After test method: context [DefaultTestContext@3c756e4d testClass = ShardingJdbcMybatisTest, testInstance = com.lyz.sharding.test.ShardingJdbcMybatisTest@7c0e2abd, testMethod = testFindAll@ShardingJdbcMybatisTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@48eff760 testClass = ShardingJdbcMybatisTest, locations = '{classpath*:config/spring/spring-database.xml, classpath*:config/spring/spring-sharding.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]], class dirties context [false], class mode [null], method dirties context [false].
2018-11-29 14:51:34,340 DEBUG support.DirtiesContextTestExecutionListener - After test class: context [DefaultTestContext@3c756e4d testClass = ShardingJdbcMybatisTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@48eff760 testClass = ShardingJdbcMybatisTest, locations = '{classpath*:config/spring/spring-database.xml, classpath*:config/spring/spring-sharding.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]], dirtiesContext [false].
2018-11-29 14:51:34,341 INFO  support.GenericApplicationContext - Closing org.springframework.context.support.GenericApplicationContext@5c7fa833: startup date [Thu Nov 29 14:51:33 CST 2018]; root of context hierarchy
2018-11-29 14:51:34,341 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'sqlSessionFactory'
2018-11-29 14:51:34,341 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'lifecycleProcessor'
2018-11-29 14:51:34,341 DEBUG support.DefaultListableBeanFactory - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@491666ad: defining beans [org.springframework.beans.factory.config.PropertyPlaceholderConfigurer#0,hr_0,hr_1,studentServiceImpl,userServiceImpl,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.mybatis.spring.mapper.MapperScannerConfigurer#0,sqlSessionFactory,dataSourceRule,userTableRule,userDatabaseShardingStrategy,userTableShardingStrategy,studentTableRule,studentDatabaseShardingStrategy,studentTableShardingStrategy,shardingRule,shardingDataSource,transactionManager,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor,org.springframework.context.annotation.ConfigurationClassPostProcessor.enhancedConfigurationProcessor,studentMapper,userMapper]; root of factory hierarchy
2018-11-29 14:51:34,341 DEBUG support.DefaultListableBeanFactory - Retrieved dependent beans for bean 'userServiceImpl': [com.lyz.sharding.test.ShardingJdbcMybatisTest]
2018-11-29 14:51:34,343 DEBUG support.DefaultListableBeanFactory - Retrieved dependent beans for bean 'com.lyz.sharding.algorithm.StudentSingleKeyTableShardingAlgorithm#28c4711c': [studentTableShardingStrategy]
2018-11-29 14:51:34,343 DEBUG support.DefaultListableBeanFactory - Retrieved dependent beans for bean 'com.lyz.sharding.algorithm.StudentSingleKeyDatabaseShardingAlgorithm#38364841': [studentDatabaseShardingStrategy]
2018-11-29 14:51:34,343 DEBUG support.DefaultListableBeanFactory - Retrieved dependent beans for bean 'com.lyz.sharding.algorithm.UserSingleKeyTableShardingAlgorithm#6385cb26': [userTableShardingStrategy]
2018-11-29 14:51:34,343 DEBUG support.DefaultListableBeanFactory - Retrieved dependent beans for bean 'com.lyz.sharding.algorithm.UserSingleKeyDatabaseShardingAlgorithm#49070868': [userDatabaseShardingStrategy]
2018-11-29 14:51:34,343 DEBUG support.DisposableBeanAdapter - Invoking destroy method 'close' on bean with name 'hr_1'
2018-11-29 14:51:34,346 INFO  pool.DruidDataSource - {dataSource-2} closed
2018-11-29 14:51:34,346 DEBUG support.DisposableBeanAdapter - Invoking destroy method 'close' on bean with name 'hr_0'
2018-11-29 14:51:34,346 INFO  pool.DruidDataSource - {dataSource-1} closed
2018-11-29 14:51:43,672 DEBUG junit4.SpringJUnit4ClassRunner - SpringJUnit4ClassRunner constructor called with [class com.lyz.sharding.test.ShardingJdbcMybatisTest].
2018-11-29 14:51:43,687 DEBUG context.BootstrapUtils - Instantiating TestContextBootstrapper from class [org.springframework.test.context.support.DefaultTestContextBootstrapper]
2018-11-29 14:51:43,737 DEBUG support.AbstractDelegatingSmartContextLoader - Delegating to GenericXmlContextLoader to process context configuration [ContextConfigurationAttributes@123f1134 declaringClass = 'com.lyz.sharding.test.ShardingJdbcMybatisTest', classes = '{}', locations = '{classpath*:config/spring/spring-database.xml, classpath*:config/spring/spring-sharding.xml}', inheritLocations = true, initializers = '{}', inheritInitializers = true, name = [null], contextLoaderClass = 'org.springframework.test.context.ContextLoader'].
2018-11-29 14:51:43,740 DEBUG support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [com.lyz.sharding.test.ShardingJdbcMybatisTest]
2018-11-29 14:51:43,745 DEBUG support.DefaultTestContextBootstrapper - @TestExecutionListeners is not present for class [com.lyz.sharding.test.ShardingJdbcMybatisTest]: using defaults.
2018-11-29 14:51:43,752 INFO  support.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2018-11-29 14:51:43,760 INFO  support.DefaultTestContextBootstrapper - Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [javax/servlet/ServletContext]
2018-11-29 14:51:43,769 INFO  support.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@358ee631, org.springframework.test.context.support.DirtiesContextTestExecutionListener@ec756bd, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3c72f59f, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@60dcc9fe]
2018-11-29 14:51:43,771 DEBUG annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.lyz.sharding.test.ShardingJdbcMybatisTest]
2018-11-29 14:51:43,772 DEBUG annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.lyz.sharding.test.ShardingJdbcMybatisTest]
2018-11-29 14:51:43,778 DEBUG annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.lyz.sharding.test.ShardingJdbcMybatisTest]
2018-11-29 14:51:43,778 DEBUG annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.lyz.sharding.test.ShardingJdbcMybatisTest]
2018-11-29 14:51:43,784 DEBUG annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.lyz.sharding.test.ShardingJdbcMybatisTest]
2018-11-29 14:51:43,784 DEBUG annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.lyz.sharding.test.ShardingJdbcMybatisTest]
2018-11-29 14:51:43,785 DEBUG annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.lyz.sharding.test.ShardingJdbcMybatisTest]
2018-11-29 14:51:43,785 DEBUG annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.lyz.sharding.test.ShardingJdbcMybatisTest]
2018-11-29 14:51:43,788 DEBUG annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.lyz.sharding.test.ShardingJdbcMybatisTest]
2018-11-29 14:51:43,788 DEBUG annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.lyz.sharding.test.ShardingJdbcMybatisTest]
2018-11-29 14:51:43,791 DEBUG support.DependencyInjectionTestExecutionListener - Performing dependency injection for test context [[DefaultTestContext@1677d1 testClass = ShardingJdbcMybatisTest, testInstance = com.lyz.sharding.test.ShardingJdbcMybatisTest@48fa0f47, testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6ac13091 testClass = ShardingJdbcMybatisTest, locations = '{classpath*:config/spring/spring-database.xml, classpath*:config/spring/spring-sharding.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]].
2018-11-29 14:51:43,792 DEBUG support.AbstractDelegatingSmartContextLoader - Delegating to GenericXmlContextLoader to load context from [MergedContextConfiguration@6ac13091 testClass = ShardingJdbcMybatisTest, locations = '{classpath*:config/spring/spring-database.xml, classpath*:config/spring/spring-sharding.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]].
2018-11-29 14:51:43,792 DEBUG support.AbstractGenericContextLoader - Loading ApplicationContext for merged context configuration [[MergedContextConfiguration@6ac13091 testClass = ShardingJdbcMybatisTest, locations = '{classpath*:config/spring/spring-database.xml, classpath*:config/spring/spring-sharding.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2018-11-29 14:51:43,881 DEBUG env.StandardEnvironment - Adding [systemProperties] PropertySource with lowest search precedence
2018-11-29 14:51:43,882 DEBUG env.StandardEnvironment - Adding [systemEnvironment] PropertySource with lowest search precedence
2018-11-29 14:51:43,882 DEBUG env.StandardEnvironment - Initialized StandardEnvironment with PropertySources [systemProperties,systemEnvironment]
2018-11-29 14:51:43,894 INFO  xml.XmlBeanDefinitionReader - Loading XML bean definitions from URL [file:/D:/sharding-jdbc-mybatis/target/classes/config/spring/spring-database.xml]
2018-11-29 14:51:43,897 DEBUG xml.DefaultDocumentLoader - Using JAXP provider [com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderFactoryImpl]
2018-11-29 14:51:43,929 DEBUG xml.PluggableSchemaResolver - Loading schema mappings from [META-INF/spring.schemas]
2018-11-29 14:51:43,932 DEBUG xml.PluggableSchemaResolver - Loaded schema mappings: {http://www.springframework.org/schema/tx/spring-tx-2.5.xsd=org/springframework/transaction/config/spring-tx-2.5.xsd, http://www.springframework.org/schema/aop/spring-aop-4.1.xsd=org/springframework/aop/config/spring-aop-4.1.xsd, http://www.springframework.org/schema/context/spring-context-3.1.xsd=org/springframework/context/config/spring-context-3.1.xsd, http://www.springframework.org/schema/jdbc/spring-jdbc-4.1.xsd=org/springframework/jdbc/config/spring-jdbc-4.1.xsd, http://www.springframework.org/schema/util/spring-util-3.0.xsd=org/springframework/beans/factory/xml/spring-util-3.0.xsd, http://www.springframework.org/schema/tool/spring-tool.xsd=org/springframework/beans/factory/xml/spring-tool-4.1.xsd, http://www.springframework.org/schema/aop/spring-aop-3.2.xsd=org/springframework/aop/config/spring-aop-3.2.xsd, http://mybatis.org/schema/mybatis-spring-1.2.xsd=org/mybatis/spring/config/mybatis-spring-1.2.xsd, http://www.springframework.org/schema/lang/spring-lang-4.1.xsd=org/springframework/scripting/config/spring-lang-4.1.xsd, http://www.springframework.org/schema/context/spring-context-4.0.xsd=org/springframework/context/config/spring-context-4.0.xsd, http://www.springframework.org/schema/tool/spring-tool-4.1.xsd=org/springframework/beans/factory/xml/spring-tool-4.1.xsd, http://www.springframework.org/schema/lang/spring-lang-3.2.xsd=org/springframework/scripting/config/spring-lang-3.2.xsd, http://www.springframework.org/schema/cache/spring-cache-3.2.xsd=org/springframework/cache/config/spring-cache-3.2.xsd, http://www.springframework.org/schema/jee/spring-jee-4.1.xsd=org/springframework/ejb/config/spring-jee-4.1.xsd, http://www.springframework.org/schema/jdbc/spring-jdbc-3.1.xsd=org/springframework/jdbc/config/spring-jdbc-3.1.xsd, http://www.springframework.org/schema/util/spring-util-2.0.xsd=org/springframework/beans/factory/xml/spring-util-2.0.xsd, http://www.springframework.org/schema/tool/spring-tool-3.2.xsd=org/springframework/beans/factory/xml/spring-tool-3.2.xsd, http://www.springframework.org/schema/context/spring-context.xsd=org/springframework/context/config/spring-context-4.1.xsd, http://www.springframework.org/schema/cache/spring-cache-4.1.xsd=org/springframework/cache/config/spring-cache-4.1.xsd, http://www.springframework.org/schema/aop/spring-aop-4.0.xsd=org/springframework/aop/config/spring-aop-4.0.xsd, http://www.springframework.org/schema/jee/spring-jee-3.2.xsd=org/springframework/ejb/config/spring-jee-3.2.xsd, http://www.springframework.org/schema/context/spring-context-3.0.xsd=org/springframework/context/config/spring-context-3.0.xsd, http://www.springframework.org/schema/jdbc/spring-jdbc-4.0.xsd=org/springframework/jdbc/config/spring-jdbc-4.0.xsd, http://www.springframework.org/schema/util/spring-util-2.5.xsd=org/springframework/beans/factory/xml/spring-util-2.5.xsd, http://www.springframework.org/schema/beans/spring-beans-3.2.xsd=org/springframework/beans/factory/xml/spring-beans-3.2.xsd, http://www.springframework.org/schema/aop/spring-aop-3.1.xsd=org/springframework/aop/config/spring-aop-3.1.xsd, http://www.springframework.org/schema/lang/spring-lang-4.0.xsd=org/springframework/scripting/config/spring-lang-4.0.xsd, http://www.springframework.org/schema/beans/spring-beans-4.1.xsd=org/springframework/beans/factory/xml/spring-beans-4.1.xsd, http://www.springframework.org/schema/tool/spring-tool-4.0.xsd=org/springframework/beans/factory/xml/spring-tool-4.0.xsd, http://www.springframework.org/schema/tx/spring-tx-3.2.xsd=org/springframework/transaction/config/spring-tx-3.2.xsd, http://www.springframework.org/schema/lang/spring-lang-3.1.xsd=org/springframework/scripting/config/spring-lang-3.1.xsd, http://www.springframework.org/schema/cache/spring-cache-3.1.xsd=org/springframework/cache/config/spring-cache-3.1.xsd, http://www.springframework.org/schema/jee/spring-jee-4.0.xsd=org/springframework/ejb/config/spring-jee-4.0.xsd, http://www.springframework.org/schema/jdbc/spring-jdbc-3.0.xsd=org/springframework/jdbc/config/spring-jdbc-3.0.xsd, http://www.springframework.org/schema/task/spring-task-4.1.xsd=org/springframework/scheduling/config/spring-task-4.1.xsd, http://www.springframework.org/schema/jdbc/spring-jdbc.xsd=org/springframework/jdbc/config/spring-jdbc-4.1.xsd, http://www.springframework.org/schema/tool/spring-tool-3.1.xsd=org/springframework/beans/factory/xml/spring-tool-3.1.xsd, http://www.springframework.org/schema/tx/spring-tx-4.1.xsd=org/springframework/transaction/config/spring-tx-4.1.xsd, http://www.springframework.org/schema/cache/spring-cache-4.0.xsd=org/springframework/cache/config/spring-cache-4.0.xsd, http://www.springframework.org/schema/jee/spring-jee-3.1.xsd=org/springframework/ejb/config/spring-jee-3.1.xsd, http://www.springframework.org/schema/task/spring-task-3.2.xsd=org/springframework/scheduling/config/spring-task-3.2.xsd, http://www.springframework.org/schema/beans/spring-beans-3.1.xsd=org/springframework/beans/factory/xml/spring-beans-3.1.xsd, http://www.springframework.org/schema/util/spring-util.xsd=org/springframework/beans/factory/xml/spring-util-4.1.xsd, http://www.springframework.org/schema/aop/spring-aop-3.0.xsd=org/springframework/aop/config/spring-aop-3.0.xsd, http://www.springframework.org/schema/beans/spring-beans-4.0.xsd=org/springframework/beans/factory/xml/spring-beans-4.0.xsd, http://www.springframework.org/schema/beans/spring-beans.xsd=org/springframework/beans/factory/xml/spring-beans-4.1.xsd, http://www.springframework.org/schema/tx/spring-tx-3.1.xsd=org/springframework/transaction/config/spring-tx-3.1.xsd, http://www.springframework.org/schema/lang/spring-lang-3.0.xsd=org/springframework/scripting/config/spring-lang-3.0.xsd, http://mybatis.org/schema/mybatis-spring.xsd=org/mybatis/spring/config/mybatis-spring-1.2.xsd, http://www.springframework.org/schema/context/spring-context-2.5.xsd=org/springframework/context/config/spring-context-2.5.xsd, http://www.springframework.org/schema/task/spring-task-4.0.xsd=org/springframework/scheduling/config/spring-task-4.0.xsd, http://www.springframework.org/schema/tool/spring-tool-3.0.xsd=org/springframework/beans/factory/xml/spring-tool-3.0.xsd, http://www.springframework.org/schema/tx/spring-tx-4.0.xsd=org/springframework/transaction/config/spring-tx-4.0.xsd, http://www.springframework.org/schema/aop/spring-aop-2.0.xsd=org/springframework/aop/config/spring-aop-2.0.xsd, http://www.springframework.org/schema/jee/spring-jee-3.0.xsd=org/springframework/ejb/config/spring-jee-3.0.xsd, http://www.springframework.org/schema/util/spring-util-4.1.xsd=org/springframework/beans/factory/xml/spring-util-4.1.xsd, http://www.springframework.org/schema/task/spring-task-3.1.xsd=org/springframework/scheduling/config/spring-task-3.1.xsd, http://www.springframework.org/schema/beans/spring-beans-3.0.xsd=org/springframework/beans/factory/xml/spring-beans-3.0.xsd, http://www.springframework.org/schema/jee/spring-jee.xsd=org/springframework/ejb/config/spring-jee-4.1.xsd, http://www.springframework.org/schema/aop/spring-aop-2.5.xsd=org/springframework/aop/config/spring-aop-2.5.xsd, http://www.springframework.org/schema/lang/spring-lang-2.0.xsd=org/springframework/scripting/config/spring-lang-2.0.xsd, http://www.springframework.org/schema/util/spring-util-3.2.xsd=org/springframework/beans/factory/xml/spring-util-3.2.xsd, http://www.springframework.org/schema/task/spring-task.xsd=org/springframework/scheduling/config/spring-task-4.1.xsd, http://www.springframework.org/schema/tool/spring-tool-2.0.xsd=org/springframework/beans/factory/xml/spring-tool-2.0.xsd, http://www.springframework.org/schema/tx/spring-tx-3.0.xsd=org/springframework/transaction/config/spring-tx-3.0.xsd, http://www.springframework.org/schema/lang/spring-lang-2.5.xsd=org/springframework/scripting/config/spring-lang-2.5.xsd, http://www.springframework.org/schema/jee/spring-jee-2.0.xsd=org/springframework/ejb/config/spring-jee-2.0.xsd, http://www.springframework.org/schema/tool/spring-tool-2.5.xsd=org/springframework/beans/factory/xml/spring-tool-2.5.xsd, http://www.springframework.org/schema/jee/spring-jee-2.5.xsd=org/springframework/ejb/config/spring-jee-2.5.xsd, http://www.springframework.org/schema/util/spring-util-4.0.xsd=org/springframework/beans/factory/xml/spring-util-4.0.xsd, http://www.springframework.org/schema/task/spring-task-3.0.xsd=org/springframework/scheduling/config/spring-task-3.0.xsd, http://www.springframework.org/schema/lang/spring-lang.xsd=org/springframework/scripting/config/spring-lang-4.1.xsd, http://www.springframework.org/schema/context/spring-context-3.2.xsd=org/springframework/context/config/spring-context-3.2.xsd, http://www.springframework.org/schema/util/spring-util-3.1.xsd=org/springframework/beans/factory/xml/spring-util-3.1.xsd, http://www.springframework.org/schema/beans/spring-beans-2.0.xsd=org/springframework/beans/factory/xml/spring-beans-2.0.xsd, http://www.springframework.org/schema/cache/spring-cache.xsd=org/springframework/cache/config/spring-cache-4.1.xsd, http://www.springframework.org/schema/tx/spring-tx.xsd=org/springframework/transaction/config/spring-tx-4.1.xsd, http://www.springframework.org/schema/context/spring-context-4.1.xsd=org/springframework/context/config/spring-context-4.1.xsd, http://www.springframework.org/schema/beans/spring-beans-2.5.xsd=org/springframework/beans/factory/xml/spring-beans-2.5.xsd, http://www.springframework.org/schema/tx/spring-tx-2.0.xsd=org/springframework/transaction/config/spring-tx-2.0.xsd, http://www.alibaba.com/schema/stat.xsd=META-INF/stat.xsd, http://www.springframework.org/schema/jdbc/spring-jdbc-3.2.xsd=org/springframework/jdbc/config/spring-jdbc-3.2.xsd, http://www.springframework.org/schema/aop/spring-aop.xsd=org/springframework/aop/config/spring-aop-4.1.xsd}
2018-11-29 14:51:43,940 DEBUG xml.PluggableSchemaResolver - Found XML schema [http://www.springframework.org/schema/beans/spring-beans-4.0.xsd] in classpath: org/springframework/beans/factory/xml/spring-beans-4.0.xsd
2018-11-29 14:51:44,000 DEBUG xml.DefaultBeanDefinitionDocumentReader - Loading bean definitions
2018-11-29 14:51:44,041 DEBUG xml.BeanDefinitionParserDelegate - Neither XML 'id' nor 'name' specified - using generated bean name [org.springframework.beans.factory.config.PropertyPlaceholderConfigurer#0]
2018-11-29 14:51:44,047 DEBUG xml.BeanDefinitionParserDelegate - No XML 'id' specified - using 'hr_0' as bean name and [] as aliases
2018-11-29 14:51:44,048 DEBUG xml.BeanDefinitionParserDelegate - No XML 'id' specified - using 'hr_1' as bean name and [] as aliases
2018-11-29 14:51:44,049 DEBUG xml.XmlBeanDefinitionReader - Loaded 3 bean definitions from location pattern [classpath*:config/spring/spring-database.xml]
2018-11-29 14:51:44,050 INFO  xml.XmlBeanDefinitionReader - Loading XML bean definitions from URL [file:/D:/sharding-jdbc-mybatis/target/classes/config/spring/spring-sharding.xml]
2018-11-29 14:51:44,051 DEBUG xml.DefaultDocumentLoader - Using JAXP provider [com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderFactoryImpl]
2018-11-29 14:51:44,053 DEBUG xml.PluggableSchemaResolver - Found XML schema [http://www.springframework.org/schema/beans/spring-beans-4.0.xsd] in classpath: org/springframework/beans/factory/xml/spring-beans-4.0.xsd
2018-11-29 14:51:44,130 DEBUG xml.PluggableSchemaResolver - Found XML schema [http://www.springframework.org/schema/context/spring-context-4.0.xsd] in classpath: org/springframework/context/config/spring-context-4.0.xsd
2018-11-29 14:51:44,135 DEBUG xml.PluggableSchemaResolver - Found XML schema [http://www.springframework.org/schema/tool/spring-tool-4.0.xsd] in classpath: org/springframework/beans/factory/xml/spring-tool-4.0.xsd
2018-11-29 14:51:44,146 DEBUG xml.PluggableSchemaResolver - Found XML schema [http://www.springframework.org/schema/tx/spring-tx-4.0.xsd] in classpath: org/springframework/transaction/config/spring-tx-4.0.xsd
2018-11-29 14:51:44,149 DEBUG xml.DefaultBeanDefinitionDocumentReader - Loading bean definitions
2018-11-29 14:51:44,151 DEBUG xml.DefaultNamespaceHandlerResolver - Loaded NamespaceHandler mappings: {http://www.springframework.org/schema/p=org.springframework.beans.factory.xml.SimplePropertyNamespaceHandler, http://www.springframework.org/schema/util=org.springframework.beans.factory.xml.UtilNamespaceHandler, http://www.alibaba.com/schema/stat=com.alibaba.druid.support.spring.stat.config.DruidStatNamespaceHandler, http://www.springframework.org/schema/jee=org.springframework.ejb.config.JeeNamespaceHandler, http://www.springframework.org/schema/aop=org.springframework.aop.config.AopNamespaceHandler, http://www.springframework.org/schema/jdbc=org.springframework.jdbc.config.JdbcNamespaceHandler, http://www.springframework.org/schema/cache=org.springframework.cache.config.CacheNamespaceHandler, http://mybatis.org/schema/mybatis-spring=org.mybatis.spring.config.NamespaceHandler, http://www.springframework.org/schema/c=org.springframework.beans.factory.xml.SimpleConstructorNamespaceHandler, http://www.springframework.org/schema/tx=org.springframework.transaction.config.TxNamespaceHandler, http://www.springframework.org/schema/task=org.springframework.scheduling.config.TaskNamespaceHandler, http://www.springframework.org/schema/lang=org.springframework.scripting.config.LangNamespaceHandler, http://www.springframework.org/schema/context=org.springframework.context.config.ContextNamespaceHandler}
2018-11-29 14:51:44,183 DEBUG support.PathMatchingResourcePatternResolver - Looking for matching resources in directory tree [D:\sharding-jdbc-mybatis\target\test-classes\com\lyz\sharding]
2018-11-29 14:51:44,183 DEBUG support.PathMatchingResourcePatternResolver - Searching directory [D:\sharding-jdbc-mybatis\target\test-classes\com\lyz\sharding] for files matching pattern [D:/sharding-jdbc-mybatis/target/test-classes/com/lyz/sharding/**/*.class]
2018-11-29 14:51:44,185 DEBUG support.PathMatchingResourcePatternResolver - Searching directory [D:\sharding-jdbc-mybatis\target\test-classes\com\lyz\sharding\test] for files matching pattern [D:/sharding-jdbc-mybatis/target/test-classes/com/lyz/sharding/**/*.class]
2018-11-29 14:51:44,187 DEBUG support.PathMatchingResourcePatternResolver - Looking for matching resources in directory tree [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding]
2018-11-29 14:51:44,187 DEBUG support.PathMatchingResourcePatternResolver - Searching directory [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding] for files matching pattern [D:/sharding-jdbc-mybatis/target/classes/com/lyz/sharding/**/*.class]
2018-11-29 14:51:44,187 DEBUG support.PathMatchingResourcePatternResolver - Searching directory [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\algorithm] for files matching pattern [D:/sharding-jdbc-mybatis/target/classes/com/lyz/sharding/**/*.class]
2018-11-29 14:51:44,188 DEBUG support.PathMatchingResourcePatternResolver - Searching directory [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\entity] for files matching pattern [D:/sharding-jdbc-mybatis/target/classes/com/lyz/sharding/**/*.class]
2018-11-29 14:51:44,189 DEBUG support.PathMatchingResourcePatternResolver - Searching directory [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\mapper] for files matching pattern [D:/sharding-jdbc-mybatis/target/classes/com/lyz/sharding/**/*.class]
2018-11-29 14:51:44,190 DEBUG support.PathMatchingResourcePatternResolver - Searching directory [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\service] for files matching pattern [D:/sharding-jdbc-mybatis/target/classes/com/lyz/sharding/**/*.class]
2018-11-29 14:51:44,190 DEBUG support.PathMatchingResourcePatternResolver - Searching directory [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\service\impl] for files matching pattern [D:/sharding-jdbc-mybatis/target/classes/com/lyz/sharding/**/*.class]
2018-11-29 14:51:44,191 DEBUG support.PathMatchingResourcePatternResolver - Resolved location pattern [classpath*:com/lyz/sharding/**/*.class] to resources [file [D:\sharding-jdbc-mybatis\target\test-classes\com\lyz\sharding\test\ShardingJdbcMybatisTest.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\algorithm\StudentSingleKeyDatabaseShardingAlgorithm.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\algorithm\StudentSingleKeyTableShardingAlgorithm.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\algorithm\UserSingleKeyDatabaseShardingAlgorithm.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\algorithm\UserSingleKeyTableShardingAlgorithm.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\entity\Student.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\entity\User.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\mapper\StudentMapper.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\mapper\UserMapper.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\service\impl\StudentServiceImpl.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\service\impl\UserServiceImpl.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\service\StudentService.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\service\UserService.class]]
2018-11-29 14:51:44,215 DEBUG annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\service\impl\StudentServiceImpl.class]
2018-11-29 14:51:44,219 DEBUG annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\service\impl\UserServiceImpl.class]
2018-11-29 14:51:44,236 DEBUG xml.BeanDefinitionParserDelegate - Neither XML 'id' nor 'name' specified - using generated bean name [org.mybatis.spring.mapper.MapperScannerConfigurer#0]
2018-11-29 14:51:44,239 DEBUG xml.BeanDefinitionParserDelegate - Neither XML 'id' nor 'name' specified - using generated bean name [com.lyz.sharding.algorithm.UserSingleKeyDatabaseShardingAlgorithm#23941fb4]
2018-11-29 14:51:44,239 DEBUG xml.BeanDefinitionParserDelegate - Neither XML 'id' nor 'name' specified - using generated bean name [com.lyz.sharding.algorithm.UserSingleKeyTableShardingAlgorithm#7486b455]
2018-11-29 14:51:44,240 DEBUG xml.BeanDefinitionParserDelegate - Neither XML 'id' nor 'name' specified - using generated bean name [com.lyz.sharding.algorithm.StudentSingleKeyDatabaseShardingAlgorithm#660acfb]
2018-11-29 14:51:44,240 DEBUG xml.BeanDefinitionParserDelegate - Neither XML 'id' nor 'name' specified - using generated bean name [com.lyz.sharding.algorithm.StudentSingleKeyTableShardingAlgorithm#5d908d47]
2018-11-29 14:51:44,252 DEBUG xml.XmlBeanDefinitionReader - Loaded 22 bean definitions from location pattern [classpath*:config/spring/spring-sharding.xml]
2018-11-29 14:51:44,259 INFO  support.GenericApplicationContext - Refreshing org.springframework.context.support.GenericApplicationContext@49b0b76: startup date [Thu Nov 29 14:51:44 CST 2018]; root of context hierarchy
2018-11-29 14:51:44,264 DEBUG support.GenericApplicationContext - Bean factory for org.springframework.context.support.GenericApplicationContext@49b0b76: org.springframework.beans.factory.support.DefaultListableBeanFactory@1a5b6f42: defining beans [org.springframework.beans.factory.config.PropertyPlaceholderConfigurer#0,hr_0,hr_1,studentServiceImpl,userServiceImpl,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.mybatis.spring.mapper.MapperScannerConfigurer#0,sqlSessionFactory,dataSourceRule,userTableRule,userDatabaseShardingStrategy,userTableShardingStrategy,studentTableRule,studentDatabaseShardingStrategy,studentTableShardingStrategy,shardingRule,shardingDataSource,transactionManager,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor]; root of factory hierarchy
2018-11-29 14:51:44,307 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2018-11-29 14:51:44,307 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2018-11-29 14:51:44,324 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor' to allow for resolving potential circular references
2018-11-29 14:51:44,325 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2018-11-29 14:51:44,437 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.mybatis.spring.mapper.MapperScannerConfigurer#0'
2018-11-29 14:51:44,438 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'org.mybatis.spring.mapper.MapperScannerConfigurer#0'
2018-11-29 14:51:44,438 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'org.mybatis.spring.mapper.MapperScannerConfigurer#0' to allow for resolving potential circular references
2018-11-29 14:51:44,532 DEBUG support.DefaultListableBeanFactory - Invoking afterPropertiesSet() on bean with name 'org.mybatis.spring.mapper.MapperScannerConfigurer#0'
2018-11-29 14:51:44,535 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'org.mybatis.spring.mapper.MapperScannerConfigurer#0'
2018-11-29 14:51:44,537 DEBUG env.StandardEnvironment - Adding [systemProperties] PropertySource with lowest search precedence
2018-11-29 14:51:44,537 DEBUG env.StandardEnvironment - Adding [systemEnvironment] PropertySource with lowest search precedence
2018-11-29 14:51:44,537 DEBUG env.StandardEnvironment - Initialized StandardEnvironment with PropertySources [systemProperties,systemEnvironment]
2018-11-29 14:51:44,539 DEBUG support.PathMatchingResourcePatternResolver - Looking for matching resources in directory tree [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\mapper]
2018-11-29 14:51:44,539 DEBUG support.PathMatchingResourcePatternResolver - Searching directory [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\mapper] for files matching pattern [D:/sharding-jdbc-mybatis/target/classes/com/lyz/sharding/mapper/**/*.class]
2018-11-29 14:51:44,539 DEBUG support.PathMatchingResourcePatternResolver - Resolved location pattern [classpath*:com/lyz/sharding/mapper/**/*.class] to resources [file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\mapper\StudentMapper.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\mapper\UserMapper.class]]
2018-11-29 14:51:44,540 DEBUG mapper.ClassPathMapperScanner - Identified candidate component class: file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\mapper\StudentMapper.class]
2018-11-29 14:51:44,540 DEBUG mapper.ClassPathMapperScanner - Identified candidate component class: file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\mapper\UserMapper.class]
2018-11-29 14:51:44,540 DEBUG mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'studentMapper' and 'com.lyz.sharding.mapper.StudentMapper' mapperInterface
2018-11-29 14:51:44,541 DEBUG mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.lyz.sharding.mapper.UserMapper' mapperInterface
2018-11-29 14:51:44,547 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.beans.factory.config.PropertyPlaceholderConfigurer#0'
2018-11-29 14:51:44,547 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.beans.factory.config.PropertyPlaceholderConfigurer#0'
2018-11-29 14:51:44,548 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.beans.factory.config.PropertyPlaceholderConfigurer#0' to allow for resolving potential circular references
2018-11-29 14:51:44,556 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.beans.factory.config.PropertyPlaceholderConfigurer#0'
2018-11-29 14:51:44,557 INFO  config.PropertyPlaceholderConfigurer - Loading properties file from class path resource [config/resource/jdbc_dev.properties]
2018-11-29 14:51:44,562 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
2018-11-29 14:51:44,562 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
2018-11-29 14:51:44,563 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor' to allow for resolving potential circular references
2018-11-29 14:51:44,563 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
2018-11-29 14:51:44,563 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalRequiredAnnotationProcessor'
2018-11-29 14:51:44,564 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.internalRequiredAnnotationProcessor'
2018-11-29 14:51:44,565 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.internalRequiredAnnotationProcessor' to allow for resolving potential circular references
2018-11-29 14:51:44,565 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.internalRequiredAnnotationProcessor'
2018-11-29 14:51:44,565 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
2018-11-29 14:51:44,565 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
2018-11-29 14:51:44,570 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor' to allow for resolving potential circular references
2018-11-29 14:51:44,571 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
2018-11-29 14:51:44,571 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor'
2018-11-29 14:51:44,571 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor'
2018-11-29 14:51:44,571 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor' to allow for resolving potential circular references
2018-11-29 14:51:44,571 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor'
2018-11-29 14:51:44,571 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.enhancedConfigurationProcessor'
2018-11-29 14:51:44,571 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.enhancedConfigurationProcessor'
2018-11-29 14:51:44,571 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.enhancedConfigurationProcessor' to allow for resolving potential circular references
2018-11-29 14:51:44,572 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.enhancedConfigurationProcessor'
2018-11-29 14:51:44,572 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.aop.config.internalAutoProxyCreator'
2018-11-29 14:51:44,572 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.aop.config.internalAutoProxyCreator'
2018-11-29 14:51:44,582 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.aop.config.internalAutoProxyCreator' to allow for resolving potential circular references
2018-11-29 14:51:44,599 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.aop.config.internalAutoProxyCreator'
2018-11-29 14:51:44,602 DEBUG support.GenericApplicationContext - Unable to locate MessageSource with name 'messageSource': using default [org.springframework.context.support.DelegatingMessageSource@1c93f6e1]
2018-11-29 14:51:44,604 DEBUG support.GenericApplicationContext - Unable to locate ApplicationEventMulticaster with name 'applicationEventMulticaster': using default [org.springframework.context.event.SimpleApplicationEventMulticaster@5f9be66c]
2018-11-29 14:51:44,609 DEBUG support.DefaultListableBeanFactory - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@1a5b6f42: defining beans [org.springframework.beans.factory.config.PropertyPlaceholderConfigurer#0,hr_0,hr_1,studentServiceImpl,userServiceImpl,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.mybatis.spring.mapper.MapperScannerConfigurer#0,sqlSessionFactory,dataSourceRule,userTableRule,userDatabaseShardingStrategy,userTableShardingStrategy,studentTableRule,studentDatabaseShardingStrategy,studentTableShardingStrategy,shardingRule,shardingDataSource,transactionManager,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor,org.springframework.context.annotation.ConfigurationClassPostProcessor.enhancedConfigurationProcessor,studentMapper,userMapper]; root of factory hierarchy
2018-11-29 14:51:44,609 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.beans.factory.config.PropertyPlaceholderConfigurer#0'
2018-11-29 14:51:44,609 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'hr_0'
2018-11-29 14:51:44,609 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'hr_0'
2018-11-29 14:51:44,643 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'hr_0' to allow for resolving potential circular references
2018-11-29 14:51:44,728 DEBUG support.DefaultListableBeanFactory - Invoking init method  'init' on bean with name 'hr_0'
2018-11-29 14:51:44,805 INFO  pool.DruidDataSource - {dataSource-1} inited
2018-11-29 14:51:44,806 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:44,806 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:44,807 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.transaction.config.internalTransactionAdvisor' to allow for resolving potential circular references
2018-11-29 14:51:44,812 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0'
2018-11-29 14:51:44,812 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0'
2018-11-29 14:51:44,812 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0' to allow for resolving potential circular references
2018-11-29 14:51:44,814 DEBUG autoproxy.BeanFactoryAdvisorRetrievalHelper - Skipping currently created advisor 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:44,816 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0'
2018-11-29 14:51:44,817 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:44,829 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'hr_0'
2018-11-29 14:51:44,829 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'hr_1'
2018-11-29 14:51:44,829 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'hr_1'
2018-11-29 14:51:44,830 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'hr_1' to allow for resolving potential circular references
2018-11-29 14:51:44,831 DEBUG support.DefaultListableBeanFactory - Invoking init method  'init' on bean with name 'hr_1'
2018-11-29 14:51:44,832 INFO  pool.DruidDataSource - {dataSource-2} inited
2018-11-29 14:51:44,832 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:44,833 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'hr_1'
2018-11-29 14:51:44,833 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'studentServiceImpl'
2018-11-29 14:51:44,833 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'studentServiceImpl'
2018-11-29 14:51:44,836 DEBUG annotation.InjectionMetadata - Registered injected element on class [com.lyz.sharding.service.impl.StudentServiceImpl]: ResourceElement for public com.lyz.sharding.mapper.StudentMapper com.lyz.sharding.service.impl.StudentServiceImpl.studentMapper
2018-11-29 14:51:44,837 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'studentServiceImpl' to allow for resolving potential circular references
2018-11-29 14:51:44,838 DEBUG annotation.InjectionMetadata - Processing injected method of bean 'studentServiceImpl': ResourceElement for public com.lyz.sharding.mapper.StudentMapper com.lyz.sharding.service.impl.StudentServiceImpl.studentMapper
2018-11-29 14:51:44,838 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'studentMapper'
2018-11-29 14:51:44,838 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'studentMapper'
2018-11-29 14:51:44,839 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'studentMapper' to allow for resolving potential circular references
2018-11-29 14:51:44,846 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'sqlSessionFactory'
2018-11-29 14:51:44,846 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'sqlSessionFactory'
2018-11-29 14:51:44,864 DEBUG logging.LogFactory - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2018-11-29 14:51:44,866 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'sqlSessionFactory' to allow for resolving potential circular references
2018-11-29 14:51:44,871 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'shardingDataSource'
2018-11-29 14:51:44,871 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'shardingDataSource'
2018-11-29 14:51:44,876 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'shardingRule'
2018-11-29 14:51:44,876 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'shardingRule'
2018-11-29 14:51:44,883 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dataSourceRule'
2018-11-29 14:51:44,883 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'dataSourceRule'
2018-11-29 14:51:44,883 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'hr_0'
2018-11-29 14:51:44,883 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'hr_1'
2018-11-29 14:51:44,890 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'dataSourceRule' to allow for resolving potential circular references
2018-11-29 14:51:44,892 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:44,892 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'dataSourceRule'
2018-11-29 14:51:44,892 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userTableRule'
2018-11-29 14:51:44,892 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'userTableRule'
2018-11-29 14:51:44,893 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'dataSourceRule'
2018-11-29 14:51:44,893 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userDatabaseShardingStrategy'
2018-11-29 14:51:44,893 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'userDatabaseShardingStrategy'
2018-11-29 14:51:44,895 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'com.lyz.sharding.algorithm.UserSingleKeyDatabaseShardingAlgorithm#23941fb4'
2018-11-29 14:51:44,901 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:44,901 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'com.lyz.sharding.algorithm.UserSingleKeyDatabaseShardingAlgorithm#23941fb4'
2018-11-29 14:51:44,903 DEBUG beans.BeanUtils - No property editor [com.dangdang.ddframe.rdb.sharding.api.strategy.database.MultipleKeysDatabaseShardingAlgorithmEditor] found for type com.dangdang.ddframe.rdb.sharding.api.strategy.database.MultipleKeysDatabaseShardingAlgorithm according to 'Editor' suffix convention
2018-11-29 14:51:44,904 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'userDatabaseShardingStrategy' to allow for resolving potential circular references
2018-11-29 14:51:44,907 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:44,907 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'userDatabaseShardingStrategy'
2018-11-29 14:51:44,907 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userTableShardingStrategy'
2018-11-29 14:51:44,908 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'userTableShardingStrategy'
2018-11-29 14:51:44,908 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'com.lyz.sharding.algorithm.UserSingleKeyTableShardingAlgorithm#7486b455'
2018-11-29 14:51:44,912 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:44,912 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'com.lyz.sharding.algorithm.UserSingleKeyTableShardingAlgorithm#7486b455'
2018-11-29 14:51:44,914 DEBUG beans.BeanUtils - No property editor [com.dangdang.ddframe.rdb.sharding.api.strategy.table.MultipleKeysTableShardingAlgorithmEditor] found for type com.dangdang.ddframe.rdb.sharding.api.strategy.table.MultipleKeysTableShardingAlgorithm according to 'Editor' suffix convention
2018-11-29 14:51:44,914 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'userTableShardingStrategy' to allow for resolving potential circular references
2018-11-29 14:51:44,915 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:44,915 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'userTableShardingStrategy'
2018-11-29 14:51:44,918 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'userTableRule' to allow for resolving potential circular references
2018-11-29 14:51:44,923 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:44,923 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'userTableRule'
2018-11-29 14:51:44,923 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'studentTableRule'
2018-11-29 14:51:44,923 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'studentTableRule'
2018-11-29 14:51:44,923 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'dataSourceRule'
2018-11-29 14:51:44,923 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'studentDatabaseShardingStrategy'
2018-11-29 14:51:44,923 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'studentDatabaseShardingStrategy'
2018-11-29 14:51:44,924 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'com.lyz.sharding.algorithm.StudentSingleKeyDatabaseShardingAlgorithm#660acfb'
2018-11-29 14:51:44,933 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:44,933 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'com.lyz.sharding.algorithm.StudentSingleKeyDatabaseShardingAlgorithm#660acfb'
2018-11-29 14:51:44,934 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'studentDatabaseShardingStrategy' to allow for resolving potential circular references
2018-11-29 14:51:44,934 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:44,934 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'studentDatabaseShardingStrategy'
2018-11-29 14:51:44,934 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'studentTableShardingStrategy'
2018-11-29 14:51:44,934 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'studentTableShardingStrategy'
2018-11-29 14:51:44,934 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'com.lyz.sharding.algorithm.StudentSingleKeyTableShardingAlgorithm#5d908d47'
2018-11-29 14:51:44,947 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:44,947 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'com.lyz.sharding.algorithm.StudentSingleKeyTableShardingAlgorithm#5d908d47'
2018-11-29 14:51:44,947 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'studentTableShardingStrategy' to allow for resolving potential circular references
2018-11-29 14:51:44,947 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:44,947 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'studentTableShardingStrategy'
2018-11-29 14:51:44,948 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'studentTableRule' to allow for resolving potential circular references
2018-11-29 14:51:44,948 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:44,948 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'studentTableRule'
2018-11-29 14:51:44,953 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'shardingRule' to allow for resolving potential circular references
2018-11-29 14:51:44,955 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:44,956 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'shardingRule'
2018-11-29 14:51:45,207 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'shardingDataSource' to allow for resolving potential circular references
2018-11-29 14:51:45,212 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:45,213 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'shardingDataSource'
2018-11-29 14:51:45,213 DEBUG support.PathMatchingResourcePatternResolver - Looking for matching resources in directory tree [D:\sharding-jdbc-mybatis\target\classes\config\mapper]
2018-11-29 14:51:45,213 DEBUG support.PathMatchingResourcePatternResolver - Searching directory [D:\sharding-jdbc-mybatis\target\classes\config\mapper] for files matching pattern [D:/sharding-jdbc-mybatis/target/classes/config/mapper/*Mapper.xml]
2018-11-29 14:51:45,214 DEBUG support.PathMatchingResourcePatternResolver - Resolved location pattern [classpath*:config/mapper/*Mapper.xml] to resources [file [D:\sharding-jdbc-mybatis\target\classes\config\mapper\StudentMapper.xml], file [D:\sharding-jdbc-mybatis\target\classes\config\mapper\UserMapper.xml]]
2018-11-29 14:51:45,215 DEBUG support.DefaultListableBeanFactory - Invoking afterPropertiesSet() on bean with name 'sqlSessionFactory'
2018-11-29 14:51:45,215 DEBUG spring.SqlSessionFactoryBean - Property 'configLocation' not specified, using default MyBatis Configuration
2018-11-29 14:51:45,331 DEBUG spring.SqlSessionFactoryBean - Parsed mapper file: 'file [D:\sharding-jdbc-mybatis\target\classes\config\mapper\StudentMapper.xml]'
2018-11-29 14:51:45,341 DEBUG spring.SqlSessionFactoryBean - Parsed mapper file: 'file [D:\sharding-jdbc-mybatis\target\classes\config\mapper\UserMapper.xml]'
2018-11-29 14:51:45,342 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:45,342 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'sqlSessionFactory'
2018-11-29 14:51:45,342 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:45,348 DEBUG support.DefaultListableBeanFactory - Invoking afterPropertiesSet() on bean with name 'studentMapper'
2018-11-29 14:51:45,349 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:45,349 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'studentMapper'
2018-11-29 14:51:45,350 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:45,352 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:45,353 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'studentServiceImpl'
2018-11-29 14:51:45,353 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userServiceImpl'
2018-11-29 14:51:45,353 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'userServiceImpl'
2018-11-29 14:51:45,355 DEBUG annotation.InjectionMetadata - Registered injected element on class [com.lyz.sharding.service.impl.UserServiceImpl]: ResourceElement for public com.lyz.sharding.mapper.UserMapper com.lyz.sharding.service.impl.UserServiceImpl.userMapper
2018-11-29 14:51:45,355 DEBUG annotation.InjectionMetadata - Registered injected element on class [com.lyz.sharding.service.impl.UserServiceImpl]: ResourceElement for public com.lyz.sharding.mapper.StudentMapper com.lyz.sharding.service.impl.UserServiceImpl.studentMapper
2018-11-29 14:51:45,358 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'userServiceImpl' to allow for resolving potential circular references
2018-11-29 14:51:45,360 DEBUG annotation.InjectionMetadata - Processing injected method of bean 'userServiceImpl': ResourceElement for public com.lyz.sharding.mapper.UserMapper com.lyz.sharding.service.impl.UserServiceImpl.userMapper
2018-11-29 14:51:45,361 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userMapper'
2018-11-29 14:51:45,361 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'userMapper'
2018-11-29 14:51:45,361 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'userMapper' to allow for resolving potential circular references
2018-11-29 14:51:45,361 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'sqlSessionFactory'
2018-11-29 14:51:45,361 DEBUG support.DefaultListableBeanFactory - Invoking afterPropertiesSet() on bean with name 'userMapper'
2018-11-29 14:51:45,361 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:45,361 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'userMapper'
2018-11-29 14:51:45,362 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:45,363 DEBUG annotation.InjectionMetadata - Processing injected method of bean 'userServiceImpl': ResourceElement for public com.lyz.sharding.mapper.StudentMapper com.lyz.sharding.service.impl.UserServiceImpl.studentMapper
2018-11-29 14:51:45,363 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'studentMapper'
2018-11-29 14:51:45,363 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:45,365 DEBUG annotation.AnnotationTransactionAttributeSource - Adding transactional method 'UserServiceImpl.insert' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-11-29 14:51:45,369 DEBUG autoproxy.InfrastructureAdvisorAutoProxyCreator - Creating implicit proxy for bean 'userServiceImpl' with 0 common interceptors and 1 specific interceptors
2018-11-29 14:51:45,370 DEBUG framework.JdkDynamicAopProxy - Creating JDK dynamic proxy: target source is SingletonTargetSource for target object [com.lyz.sharding.service.impl.UserServiceImpl@2de366bb]
2018-11-29 14:51:45,372 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'userServiceImpl'
2018-11-29 14:51:45,373 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2018-11-29 14:51:45,373 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
2018-11-29 14:51:45,373 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.internalRequiredAnnotationProcessor'
2018-11-29 14:51:45,373 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
2018-11-29 14:51:45,373 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.mybatis.spring.mapper.MapperScannerConfigurer#0'
2018-11-29 14:51:45,373 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'sqlSessionFactory'
2018-11-29 14:51:45,373 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'dataSourceRule'
2018-11-29 14:51:45,373 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'userTableRule'
2018-11-29 14:51:45,373 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'userDatabaseShardingStrategy'
2018-11-29 14:51:45,373 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'userTableShardingStrategy'
2018-11-29 14:51:45,373 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'studentTableRule'
2018-11-29 14:51:45,373 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'studentDatabaseShardingStrategy'
2018-11-29 14:51:45,373 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'studentTableShardingStrategy'
2018-11-29 14:51:45,373 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'shardingRule'
2018-11-29 14:51:45,373 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'shardingDataSource'
2018-11-29 14:51:45,374 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionManager'
2018-11-29 14:51:45,374 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'transactionManager'
2018-11-29 14:51:45,390 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'transactionManager' to allow for resolving potential circular references
2018-11-29 14:51:45,393 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'shardingDataSource'
2018-11-29 14:51:45,393 DEBUG support.DefaultListableBeanFactory - Invoking afterPropertiesSet() on bean with name 'transactionManager'
2018-11-29 14:51:45,393 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:45,393 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'transactionManager'
2018-11-29 14:51:45,394 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.aop.config.internalAutoProxyCreator'
2018-11-29 14:51:45,394 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0'
2018-11-29 14:51:45,394 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.interceptor.TransactionInterceptor#0'
2018-11-29 14:51:45,394 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.transaction.interceptor.TransactionInterceptor#0'
2018-11-29 14:51:45,396 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.transaction.interceptor.TransactionInterceptor#0' to allow for resolving potential circular references
2018-11-29 14:51:45,400 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0'
2018-11-29 14:51:45,400 DEBUG support.DefaultListableBeanFactory - Invoking afterPropertiesSet() on bean with name 'org.springframework.transaction.interceptor.TransactionInterceptor#0'
2018-11-29 14:51:45,400 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.transaction.interceptor.TransactionInterceptor#0'
2018-11-29 14:51:45,400 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:45,400 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor'
2018-11-29 14:51:45,400 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.enhancedConfigurationProcessor'
2018-11-29 14:51:45,400 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'studentMapper'
2018-11-29 14:51:45,400 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'userMapper'
2018-11-29 14:51:45,402 DEBUG support.GenericApplicationContext - Unable to locate LifecycleProcessor with name 'lifecycleProcessor': using default [org.springframework.context.support.DefaultLifecycleProcessor@6ab72419]
2018-11-29 14:51:45,402 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'lifecycleProcessor'
2018-11-29 14:51:45,403 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'sqlSessionFactory'
2018-11-29 14:51:45,404 DEBUG env.PropertySourcesPropertyResolver - Searching for key 'spring.liveBeansView.mbeanDomain' in [systemProperties]
2018-11-29 14:51:45,404 DEBUG env.PropertySourcesPropertyResolver - Searching for key 'spring.liveBeansView.mbeanDomain' in [systemEnvironment]
2018-11-29 14:51:45,405 DEBUG env.PropertySourcesPropertyResolver - Could not find key 'spring.liveBeansView.mbeanDomain' in any property source. Returning [null]
2018-11-29 14:51:45,405 DEBUG context.DefaultCacheAwareContextLoaderDelegate - Storing ApplicationContext in cache under key [[MergedContextConfiguration@6ac13091 testClass = ShardingJdbcMybatisTest, locations = '{classpath*:config/spring/spring-database.xml, classpath*:config/spring/spring-sharding.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2018-11-29 14:51:45,406 DEBUG annotation.InjectionMetadata - Processing injected method of bean 'com.lyz.sharding.test.ShardingJdbcMybatisTest': ResourceElement for public com.lyz.sharding.service.UserService com.lyz.sharding.test.ShardingJdbcMybatisTest.userService
2018-11-29 14:51:45,408 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'userServiceImpl'
2018-11-29 14:51:45,408 DEBUG annotation.InjectionMetadata - Processing injected method of bean 'com.lyz.sharding.test.ShardingJdbcMybatisTest': ResourceElement for public com.lyz.sharding.service.StudentService com.lyz.sharding.test.ShardingJdbcMybatisTest.studentService
2018-11-29 14:51:45,408 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'studentServiceImpl'
2018-11-29 14:51:45,409 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:51:45,415 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.interceptor.TransactionInterceptor#0'
2018-11-29 14:51:45,417 DEBUG annotation.AnnotationTransactionAttributeSource - Adding transactional method 'UserServiceImpl.findAll' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-11-29 14:51:45,419 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'transactionManager'
2018-11-29 14:51:45,425 DEBUG datasource.DataSourceTransactionManager - Creating new transaction with name [com.lyz.sharding.service.impl.UserServiceImpl.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-11-29 14:51:45,428 DEBUG datasource.DataSourceTransactionManager - Acquired Connection [com.dangdang.ddframe.rdb.sharding.jdbc.ShardingConnection@29d2d081] for JDBC transaction
2018-11-29 14:51:45,431 DEBUG datasource.DataSourceTransactionManager - Switching JDBC Connection [com.dangdang.ddframe.rdb.sharding.jdbc.ShardingConnection@29d2d081] to manual commit
2018-11-29 14:51:45,436 DEBUG spring.SqlSessionUtils - Creating a new SqlSession
2018-11-29 14:51:45,479 DEBUG spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11ee02f8]
2018-11-29 14:51:45,489 DEBUG transaction.SpringManagedTransaction - JDBC Connection [com.dangdang.ddframe.rdb.sharding.jdbc.ShardingConnection@29d2d081] will be managed by Spring
2018-11-29 14:51:45,490 DEBUG UserMapper.findAll - ooo Using Connection [com.dangdang.ddframe.rdb.sharding.jdbc.ShardingConnection@29d2d081]
2018-11-29 14:51:45,493 DEBUG UserMapper.findAll - ==>  Preparing: select id,user_id,name,age from t_user 
2018-11-29 14:51:45,510 DEBUG UserMapper.findAll - ==> Parameters: 
2018-11-29 14:51:45,517 DEBUG parser.SQLParserFactory - Logic SQL:   
   select   
     id,user_id,name,age  
   from t_user   
  
2018-11-29 14:51:45,572 DEBUG parser.SQLParseEngine - Parsed SQL result: SQLParsedResult(routeContext=RouteContext(tables=[Table(name=t_user, alias=Optional.absent())], sqlBuilder=null), conditionContexts=[ConditionContext(conditions={})], mergeContext=MergeContext(orderByColumns=[], groupByColumns=[], aggregationColumns=[], limit=null))
2018-11-29 14:51:45,574 DEBUG parser.SQLParseEngine - Parsed SQL: SELECT id, user_id, name, age FROM [Token(t_user)]
2018-11-29 14:51:45,583 DEBUG router.SQLExecutionUnit - route sql to db: [hr_0] sql: [SELECT id, user_id, name, age FROM t_user_00]
2018-11-29 14:51:45,583 DEBUG router.SQLExecutionUnit - route sql to db: [hr_1] sql: [SELECT id, user_id, name, age FROM t_user_00]
2018-11-29 14:51:45,667 DEBUG UserMapper.findAll - <==      Total: 0
2018-11-29 14:51:45,667 DEBUG UserMapper.findAll - <==    Updates: -2
2018-11-29 14:51:45,668 DEBUG spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11ee02f8]
2018-11-29 14:51:45,669 DEBUG spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11ee02f8]
2018-11-29 14:51:45,669 DEBUG spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11ee02f8]
2018-11-29 14:51:45,669 DEBUG spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11ee02f8]
2018-11-29 14:51:45,669 DEBUG datasource.DataSourceTransactionManager - Initiating transaction commit
2018-11-29 14:51:45,669 DEBUG datasource.DataSourceTransactionManager - Committing JDBC transaction on Connection [com.dangdang.ddframe.rdb.sharding.jdbc.ShardingConnection@29d2d081]
2018-11-29 14:51:45,670 DEBUG datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [com.dangdang.ddframe.rdb.sharding.jdbc.ShardingConnection@29d2d081]
2018-11-29 14:51:45,671 DEBUG datasource.DataSourceTransactionManager - Releasing JDBC Connection [com.dangdang.ddframe.rdb.sharding.jdbc.ShardingConnection@29d2d081] after transaction
2018-11-29 14:51:45,671 DEBUG datasource.DataSourceUtils - Returning JDBC Connection to DataSource
2018-11-29 14:51:49,744 DEBUG support.DirtiesContextTestExecutionListener - After test method: context [DefaultTestContext@1677d1 testClass = ShardingJdbcMybatisTest, testInstance = com.lyz.sharding.test.ShardingJdbcMybatisTest@48fa0f47, testMethod = testFindAll@ShardingJdbcMybatisTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6ac13091 testClass = ShardingJdbcMybatisTest, locations = '{classpath*:config/spring/spring-database.xml, classpath*:config/spring/spring-sharding.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]], class dirties context [false], class mode [null], method dirties context [false].
2018-11-29 14:51:49,746 DEBUG support.DirtiesContextTestExecutionListener - After test class: context [DefaultTestContext@1677d1 testClass = ShardingJdbcMybatisTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6ac13091 testClass = ShardingJdbcMybatisTest, locations = '{classpath*:config/spring/spring-database.xml, classpath*:config/spring/spring-sharding.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]], dirtiesContext [false].
2018-11-29 14:51:49,748 INFO  support.GenericApplicationContext - Closing org.springframework.context.support.GenericApplicationContext@49b0b76: startup date [Thu Nov 29 14:51:44 CST 2018]; root of context hierarchy
2018-11-29 14:51:49,749 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'sqlSessionFactory'
2018-11-29 14:51:49,750 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'lifecycleProcessor'
2018-11-29 14:51:49,750 DEBUG support.DefaultListableBeanFactory - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@1a5b6f42: defining beans [org.springframework.beans.factory.config.PropertyPlaceholderConfigurer#0,hr_0,hr_1,studentServiceImpl,userServiceImpl,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.mybatis.spring.mapper.MapperScannerConfigurer#0,sqlSessionFactory,dataSourceRule,userTableRule,userDatabaseShardingStrategy,userTableShardingStrategy,studentTableRule,studentDatabaseShardingStrategy,studentTableShardingStrategy,shardingRule,shardingDataSource,transactionManager,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor,org.springframework.context.annotation.ConfigurationClassPostProcessor.enhancedConfigurationProcessor,studentMapper,userMapper]; root of factory hierarchy
2018-11-29 14:51:49,750 DEBUG support.DefaultListableBeanFactory - Retrieved dependent beans for bean 'userServiceImpl': [com.lyz.sharding.test.ShardingJdbcMybatisTest]
2018-11-29 14:51:49,750 DEBUG support.DefaultListableBeanFactory - Retrieved dependent beans for bean 'com.lyz.sharding.algorithm.StudentSingleKeyTableShardingAlgorithm#5d908d47': [studentTableShardingStrategy]
2018-11-29 14:51:49,750 DEBUG support.DefaultListableBeanFactory - Retrieved dependent beans for bean 'com.lyz.sharding.algorithm.StudentSingleKeyDatabaseShardingAlgorithm#660acfb': [studentDatabaseShardingStrategy]
2018-11-29 14:51:49,751 DEBUG support.DefaultListableBeanFactory - Retrieved dependent beans for bean 'com.lyz.sharding.algorithm.UserSingleKeyTableShardingAlgorithm#7486b455': [userTableShardingStrategy]
2018-11-29 14:51:49,751 DEBUG support.DefaultListableBeanFactory - Retrieved dependent beans for bean 'com.lyz.sharding.algorithm.UserSingleKeyDatabaseShardingAlgorithm#23941fb4': [userDatabaseShardingStrategy]
2018-11-29 14:51:49,751 DEBUG support.DisposableBeanAdapter - Invoking destroy method 'close' on bean with name 'hr_1'
2018-11-29 14:51:49,756 INFO  pool.DruidDataSource - {dataSource-2} closed
2018-11-29 14:51:49,756 DEBUG support.DisposableBeanAdapter - Invoking destroy method 'close' on bean with name 'hr_0'
2018-11-29 14:51:49,757 INFO  pool.DruidDataSource - {dataSource-1} closed
2018-11-29 14:52:12,806 DEBUG junit4.SpringJUnit4ClassRunner - SpringJUnit4ClassRunner constructor called with [class com.lyz.sharding.test.ShardingJdbcMybatisTest].
2018-11-29 14:52:12,826 DEBUG context.BootstrapUtils - Instantiating TestContextBootstrapper from class [org.springframework.test.context.support.DefaultTestContextBootstrapper]
2018-11-29 14:52:12,852 DEBUG support.AbstractDelegatingSmartContextLoader - Delegating to GenericXmlContextLoader to process context configuration [ContextConfigurationAttributes@3b6eb2ec declaringClass = 'com.lyz.sharding.test.ShardingJdbcMybatisTest', classes = '{}', locations = '{classpath*:config/spring/spring-database.xml, classpath*:config/spring/spring-sharding.xml}', inheritLocations = true, initializers = '{}', inheritInitializers = true, name = [null], contextLoaderClass = 'org.springframework.test.context.ContextLoader'].
2018-11-29 14:52:12,855 DEBUG support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [com.lyz.sharding.test.ShardingJdbcMybatisTest]
2018-11-29 14:52:12,859 DEBUG support.DefaultTestContextBootstrapper - @TestExecutionListeners is not present for class [com.lyz.sharding.test.ShardingJdbcMybatisTest]: using defaults.
2018-11-29 14:52:12,865 INFO  support.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2018-11-29 14:52:12,869 INFO  support.DefaultTestContextBootstrapper - Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [javax/servlet/ServletContext]
2018-11-29 14:52:12,876 INFO  support.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@36f6e879, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5a61f5df, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3551a94, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@531be3c5]
2018-11-29 14:52:12,878 DEBUG annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.lyz.sharding.test.ShardingJdbcMybatisTest]
2018-11-29 14:52:12,883 DEBUG annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.lyz.sharding.test.ShardingJdbcMybatisTest]
2018-11-29 14:52:12,887 DEBUG annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.lyz.sharding.test.ShardingJdbcMybatisTest]
2018-11-29 14:52:12,887 DEBUG annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.lyz.sharding.test.ShardingJdbcMybatisTest]
2018-11-29 14:52:12,888 DEBUG annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.lyz.sharding.test.ShardingJdbcMybatisTest]
2018-11-29 14:52:12,888 DEBUG annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.lyz.sharding.test.ShardingJdbcMybatisTest]
2018-11-29 14:52:12,889 DEBUG annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.lyz.sharding.test.ShardingJdbcMybatisTest]
2018-11-29 14:52:12,890 DEBUG annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.lyz.sharding.test.ShardingJdbcMybatisTest]
2018-11-29 14:52:12,891 DEBUG annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.lyz.sharding.test.ShardingJdbcMybatisTest]
2018-11-29 14:52:12,891 DEBUG annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.lyz.sharding.test.ShardingJdbcMybatisTest]
2018-11-29 14:52:12,893 DEBUG support.DependencyInjectionTestExecutionListener - Performing dependency injection for test context [[DefaultTestContext@3c756e4d testClass = ShardingJdbcMybatisTest, testInstance = com.lyz.sharding.test.ShardingJdbcMybatisTest@7c0e2abd, testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@48eff760 testClass = ShardingJdbcMybatisTest, locations = '{classpath*:config/spring/spring-database.xml, classpath*:config/spring/spring-sharding.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]].
2018-11-29 14:52:12,893 DEBUG support.AbstractDelegatingSmartContextLoader - Delegating to GenericXmlContextLoader to load context from [MergedContextConfiguration@48eff760 testClass = ShardingJdbcMybatisTest, locations = '{classpath*:config/spring/spring-database.xml, classpath*:config/spring/spring-sharding.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]].
2018-11-29 14:52:12,893 DEBUG support.AbstractGenericContextLoader - Loading ApplicationContext for merged context configuration [[MergedContextConfiguration@48eff760 testClass = ShardingJdbcMybatisTest, locations = '{classpath*:config/spring/spring-database.xml, classpath*:config/spring/spring-sharding.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2018-11-29 14:52:12,964 DEBUG env.StandardEnvironment - Adding [systemProperties] PropertySource with lowest search precedence
2018-11-29 14:52:12,965 DEBUG env.StandardEnvironment - Adding [systemEnvironment] PropertySource with lowest search precedence
2018-11-29 14:52:12,965 DEBUG env.StandardEnvironment - Initialized StandardEnvironment with PropertySources [systemProperties,systemEnvironment]
2018-11-29 14:52:12,973 INFO  xml.XmlBeanDefinitionReader - Loading XML bean definitions from URL [file:/D:/sharding-jdbc-mybatis/target/classes/config/spring/spring-database.xml]
2018-11-29 14:52:12,976 DEBUG xml.DefaultDocumentLoader - Using JAXP provider [com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderFactoryImpl]
2018-11-29 14:52:13,000 DEBUG xml.PluggableSchemaResolver - Loading schema mappings from [META-INF/spring.schemas]
2018-11-29 14:52:13,002 DEBUG xml.PluggableSchemaResolver - Loaded schema mappings: {http://www.springframework.org/schema/tx/spring-tx-2.5.xsd=org/springframework/transaction/config/spring-tx-2.5.xsd, http://www.springframework.org/schema/aop/spring-aop-4.1.xsd=org/springframework/aop/config/spring-aop-4.1.xsd, http://www.springframework.org/schema/context/spring-context-3.1.xsd=org/springframework/context/config/spring-context-3.1.xsd, http://www.springframework.org/schema/jdbc/spring-jdbc-4.1.xsd=org/springframework/jdbc/config/spring-jdbc-4.1.xsd, http://www.springframework.org/schema/util/spring-util-3.0.xsd=org/springframework/beans/factory/xml/spring-util-3.0.xsd, http://www.springframework.org/schema/tool/spring-tool.xsd=org/springframework/beans/factory/xml/spring-tool-4.1.xsd, http://www.springframework.org/schema/aop/spring-aop-3.2.xsd=org/springframework/aop/config/spring-aop-3.2.xsd, http://mybatis.org/schema/mybatis-spring-1.2.xsd=org/mybatis/spring/config/mybatis-spring-1.2.xsd, http://www.springframework.org/schema/lang/spring-lang-4.1.xsd=org/springframework/scripting/config/spring-lang-4.1.xsd, http://www.springframework.org/schema/context/spring-context-4.0.xsd=org/springframework/context/config/spring-context-4.0.xsd, http://www.springframework.org/schema/tool/spring-tool-4.1.xsd=org/springframework/beans/factory/xml/spring-tool-4.1.xsd, http://www.springframework.org/schema/lang/spring-lang-3.2.xsd=org/springframework/scripting/config/spring-lang-3.2.xsd, http://www.springframework.org/schema/cache/spring-cache-3.2.xsd=org/springframework/cache/config/spring-cache-3.2.xsd, http://www.springframework.org/schema/jee/spring-jee-4.1.xsd=org/springframework/ejb/config/spring-jee-4.1.xsd, http://www.springframework.org/schema/jdbc/spring-jdbc-3.1.xsd=org/springframework/jdbc/config/spring-jdbc-3.1.xsd, http://www.springframework.org/schema/util/spring-util-2.0.xsd=org/springframework/beans/factory/xml/spring-util-2.0.xsd, http://www.springframework.org/schema/tool/spring-tool-3.2.xsd=org/springframework/beans/factory/xml/spring-tool-3.2.xsd, http://www.springframework.org/schema/context/spring-context.xsd=org/springframework/context/config/spring-context-4.1.xsd, http://www.springframework.org/schema/cache/spring-cache-4.1.xsd=org/springframework/cache/config/spring-cache-4.1.xsd, http://www.springframework.org/schema/aop/spring-aop-4.0.xsd=org/springframework/aop/config/spring-aop-4.0.xsd, http://www.springframework.org/schema/jee/spring-jee-3.2.xsd=org/springframework/ejb/config/spring-jee-3.2.xsd, http://www.springframework.org/schema/context/spring-context-3.0.xsd=org/springframework/context/config/spring-context-3.0.xsd, http://www.springframework.org/schema/jdbc/spring-jdbc-4.0.xsd=org/springframework/jdbc/config/spring-jdbc-4.0.xsd, http://www.springframework.org/schema/util/spring-util-2.5.xsd=org/springframework/beans/factory/xml/spring-util-2.5.xsd, http://www.springframework.org/schema/beans/spring-beans-3.2.xsd=org/springframework/beans/factory/xml/spring-beans-3.2.xsd, http://www.springframework.org/schema/aop/spring-aop-3.1.xsd=org/springframework/aop/config/spring-aop-3.1.xsd, http://www.springframework.org/schema/lang/spring-lang-4.0.xsd=org/springframework/scripting/config/spring-lang-4.0.xsd, http://www.springframework.org/schema/beans/spring-beans-4.1.xsd=org/springframework/beans/factory/xml/spring-beans-4.1.xsd, http://www.springframework.org/schema/tool/spring-tool-4.0.xsd=org/springframework/beans/factory/xml/spring-tool-4.0.xsd, http://www.springframework.org/schema/tx/spring-tx-3.2.xsd=org/springframework/transaction/config/spring-tx-3.2.xsd, http://www.springframework.org/schema/lang/spring-lang-3.1.xsd=org/springframework/scripting/config/spring-lang-3.1.xsd, http://www.springframework.org/schema/cache/spring-cache-3.1.xsd=org/springframework/cache/config/spring-cache-3.1.xsd, http://www.springframework.org/schema/jee/spring-jee-4.0.xsd=org/springframework/ejb/config/spring-jee-4.0.xsd, http://www.springframework.org/schema/jdbc/spring-jdbc-3.0.xsd=org/springframework/jdbc/config/spring-jdbc-3.0.xsd, http://www.springframework.org/schema/task/spring-task-4.1.xsd=org/springframework/scheduling/config/spring-task-4.1.xsd, http://www.springframework.org/schema/jdbc/spring-jdbc.xsd=org/springframework/jdbc/config/spring-jdbc-4.1.xsd, http://www.springframework.org/schema/tool/spring-tool-3.1.xsd=org/springframework/beans/factory/xml/spring-tool-3.1.xsd, http://www.springframework.org/schema/tx/spring-tx-4.1.xsd=org/springframework/transaction/config/spring-tx-4.1.xsd, http://www.springframework.org/schema/cache/spring-cache-4.0.xsd=org/springframework/cache/config/spring-cache-4.0.xsd, http://www.springframework.org/schema/jee/spring-jee-3.1.xsd=org/springframework/ejb/config/spring-jee-3.1.xsd, http://www.springframework.org/schema/task/spring-task-3.2.xsd=org/springframework/scheduling/config/spring-task-3.2.xsd, http://www.springframework.org/schema/beans/spring-beans-3.1.xsd=org/springframework/beans/factory/xml/spring-beans-3.1.xsd, http://www.springframework.org/schema/util/spring-util.xsd=org/springframework/beans/factory/xml/spring-util-4.1.xsd, http://www.springframework.org/schema/aop/spring-aop-3.0.xsd=org/springframework/aop/config/spring-aop-3.0.xsd, http://www.springframework.org/schema/beans/spring-beans-4.0.xsd=org/springframework/beans/factory/xml/spring-beans-4.0.xsd, http://www.springframework.org/schema/beans/spring-beans.xsd=org/springframework/beans/factory/xml/spring-beans-4.1.xsd, http://www.springframework.org/schema/tx/spring-tx-3.1.xsd=org/springframework/transaction/config/spring-tx-3.1.xsd, http://www.springframework.org/schema/lang/spring-lang-3.0.xsd=org/springframework/scripting/config/spring-lang-3.0.xsd, http://mybatis.org/schema/mybatis-spring.xsd=org/mybatis/spring/config/mybatis-spring-1.2.xsd, http://www.springframework.org/schema/context/spring-context-2.5.xsd=org/springframework/context/config/spring-context-2.5.xsd, http://www.springframework.org/schema/task/spring-task-4.0.xsd=org/springframework/scheduling/config/spring-task-4.0.xsd, http://www.springframework.org/schema/tool/spring-tool-3.0.xsd=org/springframework/beans/factory/xml/spring-tool-3.0.xsd, http://www.springframework.org/schema/tx/spring-tx-4.0.xsd=org/springframework/transaction/config/spring-tx-4.0.xsd, http://www.springframework.org/schema/aop/spring-aop-2.0.xsd=org/springframework/aop/config/spring-aop-2.0.xsd, http://www.springframework.org/schema/jee/spring-jee-3.0.xsd=org/springframework/ejb/config/spring-jee-3.0.xsd, http://www.springframework.org/schema/util/spring-util-4.1.xsd=org/springframework/beans/factory/xml/spring-util-4.1.xsd, http://www.springframework.org/schema/task/spring-task-3.1.xsd=org/springframework/scheduling/config/spring-task-3.1.xsd, http://www.springframework.org/schema/beans/spring-beans-3.0.xsd=org/springframework/beans/factory/xml/spring-beans-3.0.xsd, http://www.springframework.org/schema/jee/spring-jee.xsd=org/springframework/ejb/config/spring-jee-4.1.xsd, http://www.springframework.org/schema/aop/spring-aop-2.5.xsd=org/springframework/aop/config/spring-aop-2.5.xsd, http://www.springframework.org/schema/lang/spring-lang-2.0.xsd=org/springframework/scripting/config/spring-lang-2.0.xsd, http://www.springframework.org/schema/util/spring-util-3.2.xsd=org/springframework/beans/factory/xml/spring-util-3.2.xsd, http://www.springframework.org/schema/task/spring-task.xsd=org/springframework/scheduling/config/spring-task-4.1.xsd, http://www.springframework.org/schema/tool/spring-tool-2.0.xsd=org/springframework/beans/factory/xml/spring-tool-2.0.xsd, http://www.springframework.org/schema/tx/spring-tx-3.0.xsd=org/springframework/transaction/config/spring-tx-3.0.xsd, http://www.springframework.org/schema/lang/spring-lang-2.5.xsd=org/springframework/scripting/config/spring-lang-2.5.xsd, http://www.springframework.org/schema/jee/spring-jee-2.0.xsd=org/springframework/ejb/config/spring-jee-2.0.xsd, http://www.springframework.org/schema/tool/spring-tool-2.5.xsd=org/springframework/beans/factory/xml/spring-tool-2.5.xsd, http://www.springframework.org/schema/jee/spring-jee-2.5.xsd=org/springframework/ejb/config/spring-jee-2.5.xsd, http://www.springframework.org/schema/util/spring-util-4.0.xsd=org/springframework/beans/factory/xml/spring-util-4.0.xsd, http://www.springframework.org/schema/task/spring-task-3.0.xsd=org/springframework/scheduling/config/spring-task-3.0.xsd, http://www.springframework.org/schema/lang/spring-lang.xsd=org/springframework/scripting/config/spring-lang-4.1.xsd, http://www.springframework.org/schema/context/spring-context-3.2.xsd=org/springframework/context/config/spring-context-3.2.xsd, http://www.springframework.org/schema/util/spring-util-3.1.xsd=org/springframework/beans/factory/xml/spring-util-3.1.xsd, http://www.springframework.org/schema/beans/spring-beans-2.0.xsd=org/springframework/beans/factory/xml/spring-beans-2.0.xsd, http://www.springframework.org/schema/cache/spring-cache.xsd=org/springframework/cache/config/spring-cache-4.1.xsd, http://www.springframework.org/schema/tx/spring-tx.xsd=org/springframework/transaction/config/spring-tx-4.1.xsd, http://www.springframework.org/schema/context/spring-context-4.1.xsd=org/springframework/context/config/spring-context-4.1.xsd, http://www.springframework.org/schema/beans/spring-beans-2.5.xsd=org/springframework/beans/factory/xml/spring-beans-2.5.xsd, http://www.springframework.org/schema/tx/spring-tx-2.0.xsd=org/springframework/transaction/config/spring-tx-2.0.xsd, http://www.alibaba.com/schema/stat.xsd=META-INF/stat.xsd, http://www.springframework.org/schema/jdbc/spring-jdbc-3.2.xsd=org/springframework/jdbc/config/spring-jdbc-3.2.xsd, http://www.springframework.org/schema/aop/spring-aop.xsd=org/springframework/aop/config/spring-aop-4.1.xsd}
2018-11-29 14:52:13,007 DEBUG xml.PluggableSchemaResolver - Found XML schema [http://www.springframework.org/schema/beans/spring-beans-4.0.xsd] in classpath: org/springframework/beans/factory/xml/spring-beans-4.0.xsd
2018-11-29 14:52:13,052 DEBUG xml.DefaultBeanDefinitionDocumentReader - Loading bean definitions
2018-11-29 14:52:13,065 DEBUG xml.BeanDefinitionParserDelegate - Neither XML 'id' nor 'name' specified - using generated bean name [org.springframework.beans.factory.config.PropertyPlaceholderConfigurer#0]
2018-11-29 14:52:13,069 DEBUG xml.BeanDefinitionParserDelegate - No XML 'id' specified - using 'hr_0' as bean name and [] as aliases
2018-11-29 14:52:13,070 DEBUG xml.BeanDefinitionParserDelegate - No XML 'id' specified - using 'hr_1' as bean name and [] as aliases
2018-11-29 14:52:13,070 DEBUG xml.XmlBeanDefinitionReader - Loaded 3 bean definitions from location pattern [classpath*:config/spring/spring-database.xml]
2018-11-29 14:52:13,071 INFO  xml.XmlBeanDefinitionReader - Loading XML bean definitions from URL [file:/D:/sharding-jdbc-mybatis/target/classes/config/spring/spring-sharding.xml]
2018-11-29 14:52:13,072 DEBUG xml.DefaultDocumentLoader - Using JAXP provider [com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderFactoryImpl]
2018-11-29 14:52:13,073 DEBUG xml.PluggableSchemaResolver - Found XML schema [http://www.springframework.org/schema/beans/spring-beans-4.0.xsd] in classpath: org/springframework/beans/factory/xml/spring-beans-4.0.xsd
2018-11-29 14:52:13,095 DEBUG xml.PluggableSchemaResolver - Found XML schema [http://www.springframework.org/schema/context/spring-context-4.0.xsd] in classpath: org/springframework/context/config/spring-context-4.0.xsd
2018-11-29 14:52:13,099 DEBUG xml.PluggableSchemaResolver - Found XML schema [http://www.springframework.org/schema/tool/spring-tool-4.0.xsd] in classpath: org/springframework/beans/factory/xml/spring-tool-4.0.xsd
2018-11-29 14:52:13,110 DEBUG xml.PluggableSchemaResolver - Found XML schema [http://www.springframework.org/schema/tx/spring-tx-4.0.xsd] in classpath: org/springframework/transaction/config/spring-tx-4.0.xsd
2018-11-29 14:52:13,114 DEBUG xml.DefaultBeanDefinitionDocumentReader - Loading bean definitions
2018-11-29 14:52:13,116 DEBUG xml.DefaultNamespaceHandlerResolver - Loaded NamespaceHandler mappings: {http://www.springframework.org/schema/p=org.springframework.beans.factory.xml.SimplePropertyNamespaceHandler, http://www.springframework.org/schema/util=org.springframework.beans.factory.xml.UtilNamespaceHandler, http://www.alibaba.com/schema/stat=com.alibaba.druid.support.spring.stat.config.DruidStatNamespaceHandler, http://www.springframework.org/schema/jee=org.springframework.ejb.config.JeeNamespaceHandler, http://www.springframework.org/schema/aop=org.springframework.aop.config.AopNamespaceHandler, http://www.springframework.org/schema/jdbc=org.springframework.jdbc.config.JdbcNamespaceHandler, http://www.springframework.org/schema/cache=org.springframework.cache.config.CacheNamespaceHandler, http://mybatis.org/schema/mybatis-spring=org.mybatis.spring.config.NamespaceHandler, http://www.springframework.org/schema/c=org.springframework.beans.factory.xml.SimpleConstructorNamespaceHandler, http://www.springframework.org/schema/tx=org.springframework.transaction.config.TxNamespaceHandler, http://www.springframework.org/schema/task=org.springframework.scheduling.config.TaskNamespaceHandler, http://www.springframework.org/schema/lang=org.springframework.scripting.config.LangNamespaceHandler, http://www.springframework.org/schema/context=org.springframework.context.config.ContextNamespaceHandler}
2018-11-29 14:52:13,132 DEBUG support.PathMatchingResourcePatternResolver - Looking for matching resources in directory tree [D:\sharding-jdbc-mybatis\target\test-classes\com\lyz\sharding]
2018-11-29 14:52:13,132 DEBUG support.PathMatchingResourcePatternResolver - Searching directory [D:\sharding-jdbc-mybatis\target\test-classes\com\lyz\sharding] for files matching pattern [D:/sharding-jdbc-mybatis/target/test-classes/com/lyz/sharding/**/*.class]
2018-11-29 14:52:13,134 DEBUG support.PathMatchingResourcePatternResolver - Searching directory [D:\sharding-jdbc-mybatis\target\test-classes\com\lyz\sharding\test] for files matching pattern [D:/sharding-jdbc-mybatis/target/test-classes/com/lyz/sharding/**/*.class]
2018-11-29 14:52:13,135 DEBUG support.PathMatchingResourcePatternResolver - Looking for matching resources in directory tree [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding]
2018-11-29 14:52:13,135 DEBUG support.PathMatchingResourcePatternResolver - Searching directory [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding] for files matching pattern [D:/sharding-jdbc-mybatis/target/classes/com/lyz/sharding/**/*.class]
2018-11-29 14:52:13,135 DEBUG support.PathMatchingResourcePatternResolver - Searching directory [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\algorithm] for files matching pattern [D:/sharding-jdbc-mybatis/target/classes/com/lyz/sharding/**/*.class]
2018-11-29 14:52:13,136 DEBUG support.PathMatchingResourcePatternResolver - Searching directory [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\entity] for files matching pattern [D:/sharding-jdbc-mybatis/target/classes/com/lyz/sharding/**/*.class]
2018-11-29 14:52:13,136 DEBUG support.PathMatchingResourcePatternResolver - Searching directory [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\mapper] for files matching pattern [D:/sharding-jdbc-mybatis/target/classes/com/lyz/sharding/**/*.class]
2018-11-29 14:52:13,136 DEBUG support.PathMatchingResourcePatternResolver - Searching directory [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\service] for files matching pattern [D:/sharding-jdbc-mybatis/target/classes/com/lyz/sharding/**/*.class]
2018-11-29 14:52:13,136 DEBUG support.PathMatchingResourcePatternResolver - Searching directory [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\service\impl] for files matching pattern [D:/sharding-jdbc-mybatis/target/classes/com/lyz/sharding/**/*.class]
2018-11-29 14:52:13,137 DEBUG support.PathMatchingResourcePatternResolver - Resolved location pattern [classpath*:com/lyz/sharding/**/*.class] to resources [file [D:\sharding-jdbc-mybatis\target\test-classes\com\lyz\sharding\test\ShardingJdbcMybatisTest.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\algorithm\StudentSingleKeyDatabaseShardingAlgorithm.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\algorithm\StudentSingleKeyTableShardingAlgorithm.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\algorithm\UserSingleKeyDatabaseShardingAlgorithm.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\algorithm\UserSingleKeyTableShardingAlgorithm.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\entity\Student.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\entity\User.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\mapper\StudentMapper.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\mapper\UserMapper.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\service\impl\StudentServiceImpl.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\service\impl\UserServiceImpl.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\service\StudentService.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\service\UserService.class]]
2018-11-29 14:52:13,156 DEBUG annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\service\impl\StudentServiceImpl.class]
2018-11-29 14:52:13,158 DEBUG annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\service\impl\UserServiceImpl.class]
2018-11-29 14:52:13,170 DEBUG xml.BeanDefinitionParserDelegate - Neither XML 'id' nor 'name' specified - using generated bean name [org.mybatis.spring.mapper.MapperScannerConfigurer#0]
2018-11-29 14:52:13,174 DEBUG xml.BeanDefinitionParserDelegate - Neither XML 'id' nor 'name' specified - using generated bean name [com.lyz.sharding.algorithm.UserSingleKeyDatabaseShardingAlgorithm#49070868]
2018-11-29 14:52:13,174 DEBUG xml.BeanDefinitionParserDelegate - Neither XML 'id' nor 'name' specified - using generated bean name [com.lyz.sharding.algorithm.UserSingleKeyTableShardingAlgorithm#6385cb26]
2018-11-29 14:52:13,174 DEBUG xml.BeanDefinitionParserDelegate - Neither XML 'id' nor 'name' specified - using generated bean name [com.lyz.sharding.algorithm.StudentSingleKeyDatabaseShardingAlgorithm#38364841]
2018-11-29 14:52:13,174 DEBUG xml.BeanDefinitionParserDelegate - Neither XML 'id' nor 'name' specified - using generated bean name [com.lyz.sharding.algorithm.StudentSingleKeyTableShardingAlgorithm#28c4711c]
2018-11-29 14:52:13,184 DEBUG xml.XmlBeanDefinitionReader - Loaded 22 bean definitions from location pattern [classpath*:config/spring/spring-sharding.xml]
2018-11-29 14:52:13,186 INFO  support.GenericApplicationContext - Refreshing org.springframework.context.support.GenericApplicationContext@5c7fa833: startup date [Thu Nov 29 14:52:13 CST 2018]; root of context hierarchy
2018-11-29 14:52:13,186 DEBUG support.GenericApplicationContext - Bean factory for org.springframework.context.support.GenericApplicationContext@5c7fa833: org.springframework.beans.factory.support.DefaultListableBeanFactory@491666ad: defining beans [org.springframework.beans.factory.config.PropertyPlaceholderConfigurer#0,hr_0,hr_1,studentServiceImpl,userServiceImpl,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.mybatis.spring.mapper.MapperScannerConfigurer#0,sqlSessionFactory,dataSourceRule,userTableRule,userDatabaseShardingStrategy,userTableShardingStrategy,studentTableRule,studentDatabaseShardingStrategy,studentTableShardingStrategy,shardingRule,shardingDataSource,transactionManager,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor]; root of factory hierarchy
2018-11-29 14:52:13,213 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2018-11-29 14:52:13,213 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2018-11-29 14:52:13,230 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor' to allow for resolving potential circular references
2018-11-29 14:52:13,231 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2018-11-29 14:52:13,383 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.mybatis.spring.mapper.MapperScannerConfigurer#0'
2018-11-29 14:52:13,383 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'org.mybatis.spring.mapper.MapperScannerConfigurer#0'
2018-11-29 14:52:13,383 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'org.mybatis.spring.mapper.MapperScannerConfigurer#0' to allow for resolving potential circular references
2018-11-29 14:52:13,407 DEBUG support.DefaultListableBeanFactory - Invoking afterPropertiesSet() on bean with name 'org.mybatis.spring.mapper.MapperScannerConfigurer#0'
2018-11-29 14:52:13,407 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'org.mybatis.spring.mapper.MapperScannerConfigurer#0'
2018-11-29 14:52:13,409 DEBUG env.StandardEnvironment - Adding [systemProperties] PropertySource with lowest search precedence
2018-11-29 14:52:13,409 DEBUG env.StandardEnvironment - Adding [systemEnvironment] PropertySource with lowest search precedence
2018-11-29 14:52:13,409 DEBUG env.StandardEnvironment - Initialized StandardEnvironment with PropertySources [systemProperties,systemEnvironment]
2018-11-29 14:52:13,411 DEBUG support.PathMatchingResourcePatternResolver - Looking for matching resources in directory tree [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\mapper]
2018-11-29 14:52:13,411 DEBUG support.PathMatchingResourcePatternResolver - Searching directory [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\mapper] for files matching pattern [D:/sharding-jdbc-mybatis/target/classes/com/lyz/sharding/mapper/**/*.class]
2018-11-29 14:52:13,411 DEBUG support.PathMatchingResourcePatternResolver - Resolved location pattern [classpath*:com/lyz/sharding/mapper/**/*.class] to resources [file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\mapper\StudentMapper.class], file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\mapper\UserMapper.class]]
2018-11-29 14:52:13,411 DEBUG mapper.ClassPathMapperScanner - Identified candidate component class: file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\mapper\StudentMapper.class]
2018-11-29 14:52:13,412 DEBUG mapper.ClassPathMapperScanner - Identified candidate component class: file [D:\sharding-jdbc-mybatis\target\classes\com\lyz\sharding\mapper\UserMapper.class]
2018-11-29 14:52:13,412 DEBUG mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'studentMapper' and 'com.lyz.sharding.mapper.StudentMapper' mapperInterface
2018-11-29 14:52:13,413 DEBUG mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.lyz.sharding.mapper.UserMapper' mapperInterface
2018-11-29 14:52:13,416 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.beans.factory.config.PropertyPlaceholderConfigurer#0'
2018-11-29 14:52:13,416 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.beans.factory.config.PropertyPlaceholderConfigurer#0'
2018-11-29 14:52:13,417 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.beans.factory.config.PropertyPlaceholderConfigurer#0' to allow for resolving potential circular references
2018-11-29 14:52:13,427 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.beans.factory.config.PropertyPlaceholderConfigurer#0'
2018-11-29 14:52:13,428 INFO  config.PropertyPlaceholderConfigurer - Loading properties file from class path resource [config/resource/jdbc_dev.properties]
2018-11-29 14:52:13,433 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
2018-11-29 14:52:13,433 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
2018-11-29 14:52:13,434 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor' to allow for resolving potential circular references
2018-11-29 14:52:13,437 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
2018-11-29 14:52:13,437 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalRequiredAnnotationProcessor'
2018-11-29 14:52:13,437 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.internalRequiredAnnotationProcessor'
2018-11-29 14:52:13,438 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.internalRequiredAnnotationProcessor' to allow for resolving potential circular references
2018-11-29 14:52:13,438 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.internalRequiredAnnotationProcessor'
2018-11-29 14:52:13,438 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
2018-11-29 14:52:13,438 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
2018-11-29 14:52:13,448 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor' to allow for resolving potential circular references
2018-11-29 14:52:13,448 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
2018-11-29 14:52:13,450 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor'
2018-11-29 14:52:13,450 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor'
2018-11-29 14:52:13,450 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor' to allow for resolving potential circular references
2018-11-29 14:52:13,451 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor'
2018-11-29 14:52:13,451 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.enhancedConfigurationProcessor'
2018-11-29 14:52:13,462 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.enhancedConfigurationProcessor'
2018-11-29 14:52:13,462 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.enhancedConfigurationProcessor' to allow for resolving potential circular references
2018-11-29 14:52:13,462 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.enhancedConfigurationProcessor'
2018-11-29 14:52:13,462 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.aop.config.internalAutoProxyCreator'
2018-11-29 14:52:13,462 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.aop.config.internalAutoProxyCreator'
2018-11-29 14:52:13,491 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.aop.config.internalAutoProxyCreator' to allow for resolving potential circular references
2018-11-29 14:52:13,502 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.aop.config.internalAutoProxyCreator'
2018-11-29 14:52:13,505 DEBUG support.GenericApplicationContext - Unable to locate MessageSource with name 'messageSource': using default [org.springframework.context.support.DelegatingMessageSource@6d763516]
2018-11-29 14:52:13,506 DEBUG support.GenericApplicationContext - Unable to locate ApplicationEventMulticaster with name 'applicationEventMulticaster': using default [org.springframework.context.event.SimpleApplicationEventMulticaster@5c5eefef]
2018-11-29 14:52:13,511 DEBUG support.DefaultListableBeanFactory - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@491666ad: defining beans [org.springframework.beans.factory.config.PropertyPlaceholderConfigurer#0,hr_0,hr_1,studentServiceImpl,userServiceImpl,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.mybatis.spring.mapper.MapperScannerConfigurer#0,sqlSessionFactory,dataSourceRule,userTableRule,userDatabaseShardingStrategy,userTableShardingStrategy,studentTableRule,studentDatabaseShardingStrategy,studentTableShardingStrategy,shardingRule,shardingDataSource,transactionManager,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor,org.springframework.context.annotation.ConfigurationClassPostProcessor.enhancedConfigurationProcessor,studentMapper,userMapper]; root of factory hierarchy
2018-11-29 14:52:13,511 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.beans.factory.config.PropertyPlaceholderConfigurer#0'
2018-11-29 14:52:13,511 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'hr_0'
2018-11-29 14:52:13,511 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'hr_0'
2018-11-29 14:52:13,608 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'hr_0' to allow for resolving potential circular references
2018-11-29 14:52:13,682 DEBUG support.DefaultListableBeanFactory - Invoking init method  'init' on bean with name 'hr_0'
2018-11-29 14:52:13,781 INFO  pool.DruidDataSource - {dataSource-1} inited
2018-11-29 14:52:13,782 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:52:13,782 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:52:13,783 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.transaction.config.internalTransactionAdvisor' to allow for resolving potential circular references
2018-11-29 14:52:13,790 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0'
2018-11-29 14:52:13,790 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0'
2018-11-29 14:52:13,791 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0' to allow for resolving potential circular references
2018-11-29 14:52:13,797 DEBUG autoproxy.BeanFactoryAdvisorRetrievalHelper - Skipping currently created advisor 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:52:13,798 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0'
2018-11-29 14:52:13,805 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:52:13,814 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'hr_0'
2018-11-29 14:52:13,814 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'hr_1'
2018-11-29 14:52:13,814 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'hr_1'
2018-11-29 14:52:13,816 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'hr_1' to allow for resolving potential circular references
2018-11-29 14:52:13,817 DEBUG support.DefaultListableBeanFactory - Invoking init method  'init' on bean with name 'hr_1'
2018-11-29 14:52:13,818 INFO  pool.DruidDataSource - {dataSource-2} inited
2018-11-29 14:52:13,818 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:52:13,819 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'hr_1'
2018-11-29 14:52:13,819 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'studentServiceImpl'
2018-11-29 14:52:13,819 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'studentServiceImpl'
2018-11-29 14:52:13,822 DEBUG annotation.InjectionMetadata - Registered injected element on class [com.lyz.sharding.service.impl.StudentServiceImpl]: ResourceElement for public com.lyz.sharding.mapper.StudentMapper com.lyz.sharding.service.impl.StudentServiceImpl.studentMapper
2018-11-29 14:52:13,822 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'studentServiceImpl' to allow for resolving potential circular references
2018-11-29 14:52:13,823 DEBUG annotation.InjectionMetadata - Processing injected method of bean 'studentServiceImpl': ResourceElement for public com.lyz.sharding.mapper.StudentMapper com.lyz.sharding.service.impl.StudentServiceImpl.studentMapper
2018-11-29 14:52:13,823 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'studentMapper'
2018-11-29 14:52:13,823 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'studentMapper'
2018-11-29 14:52:13,824 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'studentMapper' to allow for resolving potential circular references
2018-11-29 14:52:13,828 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'sqlSessionFactory'
2018-11-29 14:52:13,828 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'sqlSessionFactory'
2018-11-29 14:52:13,840 DEBUG logging.LogFactory - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2018-11-29 14:52:13,841 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'sqlSessionFactory' to allow for resolving potential circular references
2018-11-29 14:52:13,845 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'shardingDataSource'
2018-11-29 14:52:13,846 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'shardingDataSource'
2018-11-29 14:52:13,850 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'shardingRule'
2018-11-29 14:52:13,850 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'shardingRule'
2018-11-29 14:52:13,853 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dataSourceRule'
2018-11-29 14:52:13,853 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'dataSourceRule'
2018-11-29 14:52:13,853 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'hr_0'
2018-11-29 14:52:13,853 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'hr_1'
2018-11-29 14:52:13,857 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'dataSourceRule' to allow for resolving potential circular references
2018-11-29 14:52:13,858 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:52:13,859 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'dataSourceRule'
2018-11-29 14:52:13,859 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userTableRule'
2018-11-29 14:52:13,859 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'userTableRule'
2018-11-29 14:52:13,860 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'dataSourceRule'
2018-11-29 14:52:13,860 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userDatabaseShardingStrategy'
2018-11-29 14:52:13,860 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'userDatabaseShardingStrategy'
2018-11-29 14:52:13,861 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'com.lyz.sharding.algorithm.UserSingleKeyDatabaseShardingAlgorithm#49070868'
2018-11-29 14:52:13,864 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:52:13,865 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'com.lyz.sharding.algorithm.UserSingleKeyDatabaseShardingAlgorithm#49070868'
2018-11-29 14:52:13,866 DEBUG beans.BeanUtils - No property editor [com.dangdang.ddframe.rdb.sharding.api.strategy.database.MultipleKeysDatabaseShardingAlgorithmEditor] found for type com.dangdang.ddframe.rdb.sharding.api.strategy.database.MultipleKeysDatabaseShardingAlgorithm according to 'Editor' suffix convention
2018-11-29 14:52:13,867 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'userDatabaseShardingStrategy' to allow for resolving potential circular references
2018-11-29 14:52:13,869 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:52:13,870 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'userDatabaseShardingStrategy'
2018-11-29 14:52:13,870 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userTableShardingStrategy'
2018-11-29 14:52:13,870 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'userTableShardingStrategy'
2018-11-29 14:52:13,870 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'com.lyz.sharding.algorithm.UserSingleKeyTableShardingAlgorithm#6385cb26'
2018-11-29 14:52:13,872 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:52:13,873 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'com.lyz.sharding.algorithm.UserSingleKeyTableShardingAlgorithm#6385cb26'
2018-11-29 14:52:13,874 DEBUG beans.BeanUtils - No property editor [com.dangdang.ddframe.rdb.sharding.api.strategy.table.MultipleKeysTableShardingAlgorithmEditor] found for type com.dangdang.ddframe.rdb.sharding.api.strategy.table.MultipleKeysTableShardingAlgorithm according to 'Editor' suffix convention
2018-11-29 14:52:13,875 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'userTableShardingStrategy' to allow for resolving potential circular references
2018-11-29 14:52:13,876 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:52:13,876 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'userTableShardingStrategy'
2018-11-29 14:52:13,878 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'userTableRule' to allow for resolving potential circular references
2018-11-29 14:52:13,883 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:52:13,883 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'userTableRule'
2018-11-29 14:52:13,883 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'studentTableRule'
2018-11-29 14:52:13,883 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'studentTableRule'
2018-11-29 14:52:13,883 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'dataSourceRule'
2018-11-29 14:52:13,883 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'studentDatabaseShardingStrategy'
2018-11-29 14:52:13,883 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'studentDatabaseShardingStrategy'
2018-11-29 14:52:13,883 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'com.lyz.sharding.algorithm.StudentSingleKeyDatabaseShardingAlgorithm#38364841'
2018-11-29 14:52:13,885 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:52:13,886 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'com.lyz.sharding.algorithm.StudentSingleKeyDatabaseShardingAlgorithm#38364841'
2018-11-29 14:52:13,886 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'studentDatabaseShardingStrategy' to allow for resolving potential circular references
2018-11-29 14:52:13,886 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:52:13,886 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'studentDatabaseShardingStrategy'
2018-11-29 14:52:13,886 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'studentTableShardingStrategy'
2018-11-29 14:52:13,887 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'studentTableShardingStrategy'
2018-11-29 14:52:13,887 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'com.lyz.sharding.algorithm.StudentSingleKeyTableShardingAlgorithm#28c4711c'
2018-11-29 14:52:13,892 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:52:13,892 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'com.lyz.sharding.algorithm.StudentSingleKeyTableShardingAlgorithm#28c4711c'
2018-11-29 14:52:13,893 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'studentTableShardingStrategy' to allow for resolving potential circular references
2018-11-29 14:52:13,893 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:52:13,894 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'studentTableShardingStrategy'
2018-11-29 14:52:13,894 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'studentTableRule' to allow for resolving potential circular references
2018-11-29 14:52:13,894 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:52:13,894 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'studentTableRule'
2018-11-29 14:52:13,897 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'shardingRule' to allow for resolving potential circular references
2018-11-29 14:52:13,899 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:52:13,900 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'shardingRule'
2018-11-29 14:52:14,160 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'shardingDataSource' to allow for resolving potential circular references
2018-11-29 14:52:14,163 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:52:14,164 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'shardingDataSource'
2018-11-29 14:52:14,164 DEBUG support.PathMatchingResourcePatternResolver - Looking for matching resources in directory tree [D:\sharding-jdbc-mybatis\target\classes\config\mapper]
2018-11-29 14:52:14,164 DEBUG support.PathMatchingResourcePatternResolver - Searching directory [D:\sharding-jdbc-mybatis\target\classes\config\mapper] for files matching pattern [D:/sharding-jdbc-mybatis/target/classes/config/mapper/*Mapper.xml]
2018-11-29 14:52:14,165 DEBUG support.PathMatchingResourcePatternResolver - Resolved location pattern [classpath*:config/mapper/*Mapper.xml] to resources [file [D:\sharding-jdbc-mybatis\target\classes\config\mapper\StudentMapper.xml], file [D:\sharding-jdbc-mybatis\target\classes\config\mapper\UserMapper.xml]]
2018-11-29 14:52:14,166 DEBUG support.DefaultListableBeanFactory - Invoking afterPropertiesSet() on bean with name 'sqlSessionFactory'
2018-11-29 14:52:14,166 DEBUG spring.SqlSessionFactoryBean - Property 'configLocation' not specified, using default MyBatis Configuration
2018-11-29 14:52:14,256 DEBUG spring.SqlSessionFactoryBean - Parsed mapper file: 'file [D:\sharding-jdbc-mybatis\target\classes\config\mapper\StudentMapper.xml]'
2018-11-29 14:52:14,266 DEBUG spring.SqlSessionFactoryBean - Parsed mapper file: 'file [D:\sharding-jdbc-mybatis\target\classes\config\mapper\UserMapper.xml]'
2018-11-29 14:52:14,267 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:52:14,267 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'sqlSessionFactory'
2018-11-29 14:52:14,267 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:52:14,272 DEBUG support.DefaultListableBeanFactory - Invoking afterPropertiesSet() on bean with name 'studentMapper'
2018-11-29 14:52:14,272 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:52:14,272 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'studentMapper'
2018-11-29 14:52:14,273 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:52:14,274 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:52:14,275 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'studentServiceImpl'
2018-11-29 14:52:14,275 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userServiceImpl'
2018-11-29 14:52:14,275 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'userServiceImpl'
2018-11-29 14:52:14,277 DEBUG annotation.InjectionMetadata - Registered injected element on class [com.lyz.sharding.service.impl.UserServiceImpl]: ResourceElement for public com.lyz.sharding.mapper.UserMapper com.lyz.sharding.service.impl.UserServiceImpl.userMapper
2018-11-29 14:52:14,277 DEBUG annotation.InjectionMetadata - Registered injected element on class [com.lyz.sharding.service.impl.UserServiceImpl]: ResourceElement for public com.lyz.sharding.mapper.StudentMapper com.lyz.sharding.service.impl.UserServiceImpl.studentMapper
2018-11-29 14:52:14,277 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'userServiceImpl' to allow for resolving potential circular references
2018-11-29 14:52:14,278 DEBUG annotation.InjectionMetadata - Processing injected method of bean 'userServiceImpl': ResourceElement for public com.lyz.sharding.mapper.UserMapper com.lyz.sharding.service.impl.UserServiceImpl.userMapper
2018-11-29 14:52:14,278 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userMapper'
2018-11-29 14:52:14,278 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'userMapper'
2018-11-29 14:52:14,278 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'userMapper' to allow for resolving potential circular references
2018-11-29 14:52:14,278 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'sqlSessionFactory'
2018-11-29 14:52:14,279 DEBUG support.DefaultListableBeanFactory - Invoking afterPropertiesSet() on bean with name 'userMapper'
2018-11-29 14:52:14,279 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:52:14,279 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'userMapper'
2018-11-29 14:52:14,280 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:52:14,280 DEBUG annotation.InjectionMetadata - Processing injected method of bean 'userServiceImpl': ResourceElement for public com.lyz.sharding.mapper.StudentMapper com.lyz.sharding.service.impl.UserServiceImpl.studentMapper
2018-11-29 14:52:14,280 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'studentMapper'
2018-11-29 14:52:14,280 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:52:14,282 DEBUG annotation.AnnotationTransactionAttributeSource - Adding transactional method 'UserServiceImpl.insert' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-11-29 14:52:14,284 DEBUG autoproxy.InfrastructureAdvisorAutoProxyCreator - Creating implicit proxy for bean 'userServiceImpl' with 0 common interceptors and 1 specific interceptors
2018-11-29 14:52:14,285 DEBUG framework.JdkDynamicAopProxy - Creating JDK dynamic proxy: target source is SingletonTargetSource for target object [com.lyz.sharding.service.impl.UserServiceImpl@66ea810]
2018-11-29 14:52:14,288 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'userServiceImpl'
2018-11-29 14:52:14,288 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2018-11-29 14:52:14,288 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
2018-11-29 14:52:14,288 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.internalRequiredAnnotationProcessor'
2018-11-29 14:52:14,288 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
2018-11-29 14:52:14,288 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.mybatis.spring.mapper.MapperScannerConfigurer#0'
2018-11-29 14:52:14,288 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'sqlSessionFactory'
2018-11-29 14:52:14,288 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'dataSourceRule'
2018-11-29 14:52:14,288 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'userTableRule'
2018-11-29 14:52:14,288 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'userDatabaseShardingStrategy'
2018-11-29 14:52:14,288 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'userTableShardingStrategy'
2018-11-29 14:52:14,288 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'studentTableRule'
2018-11-29 14:52:14,288 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'studentDatabaseShardingStrategy'
2018-11-29 14:52:14,288 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'studentTableShardingStrategy'
2018-11-29 14:52:14,288 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'shardingRule'
2018-11-29 14:52:14,288 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'shardingDataSource'
2018-11-29 14:52:14,288 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionManager'
2018-11-29 14:52:14,288 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'transactionManager'
2018-11-29 14:52:14,293 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'transactionManager' to allow for resolving potential circular references
2018-11-29 14:52:14,295 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'shardingDataSource'
2018-11-29 14:52:14,295 DEBUG support.DefaultListableBeanFactory - Invoking afterPropertiesSet() on bean with name 'transactionManager'
2018-11-29 14:52:14,295 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:52:14,296 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'transactionManager'
2018-11-29 14:52:14,296 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.aop.config.internalAutoProxyCreator'
2018-11-29 14:52:14,296 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0'
2018-11-29 14:52:14,296 DEBUG support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.interceptor.TransactionInterceptor#0'
2018-11-29 14:52:14,296 DEBUG support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.transaction.interceptor.TransactionInterceptor#0'
2018-11-29 14:52:14,297 DEBUG support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.transaction.interceptor.TransactionInterceptor#0' to allow for resolving potential circular references
2018-11-29 14:52:14,299 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0'
2018-11-29 14:52:14,299 DEBUG support.DefaultListableBeanFactory - Invoking afterPropertiesSet() on bean with name 'org.springframework.transaction.interceptor.TransactionInterceptor#0'
2018-11-29 14:52:14,299 DEBUG support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.transaction.interceptor.TransactionInterceptor#0'
2018-11-29 14:52:14,299 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:52:14,299 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor'
2018-11-29 14:52:14,299 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.enhancedConfigurationProcessor'
2018-11-29 14:52:14,299 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'studentMapper'
2018-11-29 14:52:14,299 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'userMapper'
2018-11-29 14:52:14,302 DEBUG support.GenericApplicationContext - Unable to locate LifecycleProcessor with name 'lifecycleProcessor': using default [org.springframework.context.support.DefaultLifecycleProcessor@21be3395]
2018-11-29 14:52:14,302 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'lifecycleProcessor'
2018-11-29 14:52:14,303 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'sqlSessionFactory'
2018-11-29 14:52:14,304 DEBUG env.PropertySourcesPropertyResolver - Searching for key 'spring.liveBeansView.mbeanDomain' in [systemProperties]
2018-11-29 14:52:14,304 DEBUG env.PropertySourcesPropertyResolver - Searching for key 'spring.liveBeansView.mbeanDomain' in [systemEnvironment]
2018-11-29 14:52:14,304 DEBUG env.PropertySourcesPropertyResolver - Could not find key 'spring.liveBeansView.mbeanDomain' in any property source. Returning [null]
2018-11-29 14:52:14,304 DEBUG context.DefaultCacheAwareContextLoaderDelegate - Storing ApplicationContext in cache under key [[MergedContextConfiguration@48eff760 testClass = ShardingJdbcMybatisTest, locations = '{classpath*:config/spring/spring-database.xml, classpath*:config/spring/spring-sharding.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2018-11-29 14:52:14,305 DEBUG annotation.InjectionMetadata - Processing injected method of bean 'com.lyz.sharding.test.ShardingJdbcMybatisTest': ResourceElement for public com.lyz.sharding.service.UserService com.lyz.sharding.test.ShardingJdbcMybatisTest.userService
2018-11-29 14:52:14,307 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'userServiceImpl'
2018-11-29 14:52:14,307 DEBUG annotation.InjectionMetadata - Processing injected method of bean 'com.lyz.sharding.test.ShardingJdbcMybatisTest': ResourceElement for public com.lyz.sharding.service.StudentService com.lyz.sharding.test.ShardingJdbcMybatisTest.studentService
2018-11-29 14:52:14,307 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'studentServiceImpl'
2018-11-29 14:52:14,307 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2018-11-29 14:52:14,312 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.interceptor.TransactionInterceptor#0'
2018-11-29 14:52:14,314 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'transactionManager'
2018-11-29 14:52:14,318 DEBUG datasource.DataSourceTransactionManager - Creating new transaction with name [com.lyz.sharding.service.impl.UserServiceImpl.insert]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-11-29 14:52:14,319 DEBUG datasource.DataSourceTransactionManager - Acquired Connection [com.dangdang.ddframe.rdb.sharding.jdbc.ShardingConnection@747f281] for JDBC transaction
2018-11-29 14:52:14,321 DEBUG datasource.DataSourceTransactionManager - Switching JDBC Connection [com.dangdang.ddframe.rdb.sharding.jdbc.ShardingConnection@747f281] to manual commit
2018-11-29 14:52:14,324 DEBUG spring.SqlSessionUtils - Creating a new SqlSession
2018-11-29 14:52:14,328 DEBUG spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14f232c4]
2018-11-29 14:52:14,333 DEBUG transaction.SpringManagedTransaction - JDBC Connection [com.dangdang.ddframe.rdb.sharding.jdbc.ShardingConnection@747f281] will be managed by Spring
2018-11-29 14:52:14,334 DEBUG UserMapper.insert - ooo Using Connection [com.dangdang.ddframe.rdb.sharding.jdbc.ShardingConnection@747f281]
2018-11-29 14:52:14,374 DEBUG UserMapper.insert - ==>  Preparing: insert into t_user (user_id,name,age) values (?,?,?) 
2018-11-29 14:52:14,389 DEBUG UserMapper.insert - ==> Parameters: 11(Integer), github(String), 25(Integer)
2018-11-29 14:52:14,394 DEBUG parser.SQLParserFactory - Logic SQL:   
    insert into t_user (user_id,name,age) values (?,?,?)  
  
2018-11-29 14:52:14,459 DEBUG parser.SQLParseEngine - Parsed SQL result: SQLParsedResult(routeContext=RouteContext(tables=[Table(name=t_user, alias=Optional.absent())], sqlBuilder=null), conditionContexts=[ConditionContext(conditions={Condition.Column(columnName=user_id, tableName=t_user)=Condition(column=Condition.Column(columnName=user_id, tableName=t_user), operator==, values=[11])})], mergeContext=MergeContext(orderByColumns=[], groupByColumns=[], aggregationColumns=[], limit=null))
2018-11-29 14:52:14,461 DEBUG parser.SQLParseEngine - Parsed SQL: INSERT INTO [Token(t_user)] (user_id, name, age) VALUES (?, ?, ?)
2018-11-29 14:52:14,470 DEBUG router.SQLExecutionUnit - route sql to db: [hr_1] sql: [INSERT INTO t_user_00 (user_id, name, age) VALUES (?, ?, ?)]
2018-11-29 14:52:14,497 DEBUG UserMapper.insert - <==    Updates: 1
2018-11-29 14:52:14,498 DEBUG spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14f232c4]
2018-11-29 14:52:14,498 DEBUG spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14f232c4]
2018-11-29 14:52:14,498 DEBUG spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14f232c4]
2018-11-29 14:52:14,498 DEBUG spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14f232c4]
2018-11-29 14:52:14,498 DEBUG datasource.DataSourceTransactionManager - Initiating transaction commit
2018-11-29 14:52:14,498 DEBUG datasource.DataSourceTransactionManager - Committing JDBC transaction on Connection [com.dangdang.ddframe.rdb.sharding.jdbc.ShardingConnection@747f281]
2018-11-29 14:52:14,529 DEBUG datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [com.dangdang.ddframe.rdb.sharding.jdbc.ShardingConnection@747f281]
2018-11-29 14:52:14,529 DEBUG datasource.DataSourceTransactionManager - Releasing JDBC Connection [com.dangdang.ddframe.rdb.sharding.jdbc.ShardingConnection@747f281] after transaction
2018-11-29 14:52:14,530 DEBUG datasource.DataSourceUtils - Returning JDBC Connection to DataSource
2018-11-29 14:52:14,532 DEBUG support.DirtiesContextTestExecutionListener - After test method: context [DefaultTestContext@3c756e4d testClass = ShardingJdbcMybatisTest, testInstance = com.lyz.sharding.test.ShardingJdbcMybatisTest@7c0e2abd, testMethod = testUserInsert@ShardingJdbcMybatisTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@48eff760 testClass = ShardingJdbcMybatisTest, locations = '{classpath*:config/spring/spring-database.xml, classpath*:config/spring/spring-sharding.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]], class dirties context [false], class mode [null], method dirties context [false].
2018-11-29 14:52:14,533 DEBUG support.DirtiesContextTestExecutionListener - After test class: context [DefaultTestContext@3c756e4d testClass = ShardingJdbcMybatisTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@48eff760 testClass = ShardingJdbcMybatisTest, locations = '{classpath*:config/spring/spring-database.xml, classpath*:config/spring/spring-sharding.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]], dirtiesContext [false].
2018-11-29 14:52:14,535 INFO  support.GenericApplicationContext - Closing org.springframework.context.support.GenericApplicationContext@5c7fa833: startup date [Thu Nov 29 14:52:13 CST 2018]; root of context hierarchy
2018-11-29 14:52:14,536 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'sqlSessionFactory'
2018-11-29 14:52:14,536 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'lifecycleProcessor'
2018-11-29 14:52:14,536 DEBUG support.DefaultListableBeanFactory - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@491666ad: defining beans [org.springframework.beans.factory.config.PropertyPlaceholderConfigurer#0,hr_0,hr_1,studentServiceImpl,userServiceImpl,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.mybatis.spring.mapper.MapperScannerConfigurer#0,sqlSessionFactory,dataSourceRule,userTableRule,userDatabaseShardingStrategy,userTableShardingStrategy,studentTableRule,studentDatabaseShardingStrategy,studentTableShardingStrategy,shardingRule,shardingDataSource,transactionManager,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor,org.springframework.context.annotation.ConfigurationClassPostProcessor.enhancedConfigurationProcessor,studentMapper,userMapper]; root of factory hierarchy
2018-11-29 14:52:14,537 DEBUG support.DefaultListableBeanFactory - Retrieved dependent beans for bean 'userServiceImpl': [com.lyz.sharding.test.ShardingJdbcMybatisTest]
2018-11-29 14:52:14,538 DEBUG support.DefaultListableBeanFactory - Retrieved dependent beans for bean 'com.lyz.sharding.algorithm.StudentSingleKeyTableShardingAlgorithm#28c4711c': [studentTableShardingStrategy]
2018-11-29 14:52:14,538 DEBUG support.DefaultListableBeanFactory - Retrieved dependent beans for bean 'com.lyz.sharding.algorithm.StudentSingleKeyDatabaseShardingAlgorithm#38364841': [studentDatabaseShardingStrategy]
2018-11-29 14:52:14,538 DEBUG support.DefaultListableBeanFactory - Retrieved dependent beans for bean 'com.lyz.sharding.algorithm.UserSingleKeyTableShardingAlgorithm#6385cb26': [userTableShardingStrategy]
2018-11-29 14:52:14,539 DEBUG support.DefaultListableBeanFactory - Retrieved dependent beans for bean 'com.lyz.sharding.algorithm.UserSingleKeyDatabaseShardingAlgorithm#49070868': [userDatabaseShardingStrategy]
2018-11-29 14:52:14,539 DEBUG support.DisposableBeanAdapter - Invoking destroy method 'close' on bean with name 'hr_1'
2018-11-29 14:52:14,544 INFO  pool.DruidDataSource - {dataSource-2} closed
2018-11-29 14:52:14,544 DEBUG support.DisposableBeanAdapter - Invoking destroy method 'close' on bean with name 'hr_0'
2018-11-29 14:52:14,545 INFO  pool.DruidDataSource - {dataSource-1} closed
